!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=18)}([function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});e.getUrlParam=function(e){return new t.URL(t.location.href).searchParams.get(e)}}).call(e,n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ARRAY_TYPE",function(){return a}),e.setMatrixArrayType=function(t){a=t},e.toRadian=function(t){return t*i},e.equals=function(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))};const r=1e-6;e.EPSILON=r;let a="undefined"!=typeof Float32Array?Float32Array:Array;const o=Math.random;e.RANDOM=o;const i=Math.PI/180},function(t,e,n){"use strict";(function(t){var n,r,a,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"undefined"!=typeof self&&self,o=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=23)}([function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});e.MAX_DIRECTIONAL=1,e.DIRECTIONAL_LIGHT=1e3,e.SHADER_BASIC=2e3,e.SHADER_DEFAULT=2001,e.SHADER_BILLBOARD=2002,e.SHADER_SHADOW=2003,e.SHADER_CUSTOM=2500,e.DRAW={POINTS:0,LINES:1,TRIANGLES:4},e.SIDE={FRONT:0,BACK:1,BOTH:2},e.CONTEXT={WEBGL:"webgl",WEBGL2:"webgl2"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),a=n(32),o=n(33),i=n(13),u=n(34),s=n(35),c=n(36),f=n(14),l=n(15);n.d(e,"glMatrix",function(){return r}),n.d(e,"mat2",function(){return a}),n.d(e,"mat2d",function(){return o}),n.d(e,"mat3",function(){return i}),n.d(e,"mat4",function(){return u}),n.d(e,"quat",function(){return s}),n.d(e,"vec2",function(){return c}),n.d(e,"vec3",function(){return f}),n.d(e,"vec4",function(){return l})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.supports=e.getContextType=e.setContextType=e.getContext=e.setContext=e.version=e.library=void 0;var r=n(0),a=null,o=null,i=document.createElement("canvas").getContext(r.CONTEXT.WEBGL),u=document.createElement("canvas").getContext(r.CONTEXT.WEBGL2),s={vertexArrayObject:i.getExtension("OES_vertex_array_object"),instancedArrays:i.getExtension("ANGLE_instanced_arrays"),standardDerivatives:i.getExtension("OES_standard_derivatives"),depthTextures:i.getExtension("WEBGL_depth_texture")},c=function(){return o};e.library="lowww-core",e.version="1.0.22",e.setContext=function(t){a=t,c()===r.CONTEXT.WEBGL&&(s.vertexArrayObject=a.getExtension("OES_vertex_array_object"),s.instancedArrays=a.getExtension("ANGLE_instanced_arrays"),s.standardDerivatives=a.getExtension("OES_standard_derivatives"),s.depthTextures=a.getExtension("WEBGL_depth_texture"))},e.getContext=function(){return a},e.setContextType=function(t){var e=u&&r.CONTEXT.WEBGL2,n=i&&r.CONTEXT.WEBGL;return(o=t||e||n)===r.CONTEXT.WEBGL2&&(s.vertexArrayObject=!0,s.instancedArrays=!0,s.standardDerivatives=!0,s.depthTexture=!0),o},e.getContextType=c,e.supports=function(){return s}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ARRAY_TYPE",function(){return a}),e.setMatrixArrayType=function(t){a=t},e.toRadian=function(t){return t*i},e.equals=function(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))};var r=1e-6;e.EPSILON=r;var a="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;e.RANDOM=o;var i=Math.PI/180},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SHADOW=e.EXTENSIONS=e.CLIPPING=e.NOISE=e.FOG=e.LIGHT=e.UBO=void 0;var r=n(24),a=n(25),o=n(26),i=n(27),u=n(28),s=n(29),c=n(30);e.UBO=o.UBO,e.LIGHT=r.LIGHT,e.FOG=a.FOG,e.NOISE=i.NOISE,e.CLIPPING=u.CLIPPING,e.EXTENSIONS=s.EXTENSIONS,e.SHADOW=c.SHADOW},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),i=n(39),u=(r=i)&&r.__esModule?r:{default:r};var s=0,c=0,f=o.vec3.create(),l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.uid=s++,this.parent=null,this.children=[],this.position=new u.default,this.rotation=new u.default,this.scale=new u.default(1,1,1),this._transparent=!1,this._visible=!0,this.quaternion=o.quat.create(),this.target=o.vec3.create(),this.up=o.vec3.fromValues(0,1,0),this.lookToTarget=!1,this.matrices={parent:o.mat4.create(),model:o.mat4.create(),lookAt:o.mat4.create()},this.dirty={sorting:!1,transparent:!1,attributes:!1,shader:!1},this.sceneGraphSorter=!1}return a(t,[{key:"updateMatrices",value:function(){o.mat4.identity(this.matrices.parent),o.mat4.identity(this.matrices.model),o.mat4.identity(this.matrices.lookAt),o.quat.identity(this.quaternion),this.parent&&(o.mat4.copy(this.matrices.parent,this.parent.matrices.model),o.mat4.multiply(this.matrices.model,this.matrices.model,this.matrices.parent)),this.lookToTarget?(o.mat4.targetTo(this.matrices.lookAt,this.position.data,this.target,this.up),o.mat4.multiply(this.matrices.model,this.matrices.model,this.matrices.lookAt)):(o.mat4.translate(this.matrices.model,this.matrices.model,this.position.data),o.quat.rotateX(this.quaternion,this.quaternion,this.rotation.x),o.quat.rotateY(this.quaternion,this.quaternion,this.rotation.y),o.quat.rotateZ(this.quaternion,this.quaternion,this.rotation.z),c=o.quat.getAxisAngle(f,this.quaternion),o.mat4.rotate(this.matrices.model,this.matrices.model,c,f)),o.mat4.scale(this.matrices.model,this.matrices.model,this.scale.data)}},{key:"init",value:function(){}},{key:"add",value:function(t){t.parent=this,this.children.push(t),this.dirty.sorting=!0}},{key:"remove",value:function(t){var e=this.children.indexOf(t);-1!==e&&(t.destroy(),this.children.splice(e,1),this.dirty.sorting=!0)}},{key:"traverse",value:function(t){void 0===t&&(t=this,this.sceneGraphSorter=!0);for(var e=0;e<t.children.length;e++)this.traverse(t.children[e]);return null!==t.parent&&t.updateMatrices(),(t.dirty.sorting||t.dirty.transparent)&&(t.dirty.transparent=!1,this.sceneGraphSorter=!0),this.sceneGraphSorter}},{key:"transparent",set:function(t){this.dirty.transparent=this.transparent!==t,this._transparent=t},get:function(){return this._transparent}},{key:"visible",set:function(t){this.dirty.sorting=this.visible!==t,this._visible=t},get:function(){return this._visible}}]),t}();e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Billboard=e.Default=e.Basic=void 0;var r=i(n(40)),a=i(n(41)),o=i(n(42));function i(t){return t&&t.__esModule?t:{default:t}}e.Basic=r.default,e.Default=a.default,e.Billboard=o.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(8),u=(r=o)&&r.__esModule?r:{default:r},s=n(6),c=n(0);var f=0,l=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":i(e))&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n._shader=null;var r=t.geometry,a=r.positions,o=r.indices,u=r.normals,l=r.uvs,h=t.shader||new s.Default({color:t.color,map:t.map}),d=h.vertex,v=h.fragment,M=h.uniforms,p=h.type,m=h.mode;return n.type=void 0!==p?p:c.SHADER_CUSTOM+"-"+f++,void 0!==m&&(n.mode=m),n.setAttribute("a_position","vec3",new Float32Array(a)),o&&n.setIndex(new Uint16Array(o)),u&&n.setAttribute("a_normal","vec3",new Float32Array(u)),l&&n.setAttribute("a_uv","vec2",new Float32Array(l)),Object.keys(M).forEach(function(t){n.setUniform(t,M[t].type,M[t].value)}),n.setShader(d,v),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":i(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),a(e,[{key:"shader",set:function(t){this.dirty.shader=!0,this._shader=t,void 0!==t.type?this.type=t.type:this.type=c.SHADER_CUSTOM,this.setShader(t.vertex,t.fragment)},get:function(){return this._shader}}]),e}();e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),u=n(5),s=(r=u)&&r.__esModule?r:{default:r},c=n(19),f=n(2),l=n(0),h=n(20),d=n(12);var v=!1,M=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":i(e))&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.attributes={},t.uniforms={},t.polygonOffset=!1,t.polygonOffsetFactor=0,t.polygonOffsetUnits=1,t.clipping={enable:!1,planes:[o.vec4.create(),o.vec4.create(),o.vec4.create()]},t.instanceCount=0,t.isInstance=!1,t.mode=l.DRAW.TRIANGLES,t.side=l.SIDE.FRONT,t.type=String(l.SHADER_CUSTOM),t.shadows=!0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":i(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),a(e,[{key:"setAttribute",value:function(t,e,n){var r=(0,h.getTypeSize)(e);this.attributes[t]={value:n,size:r}}},{key:"setIndex",value:function(t){this.indices={value:t}}},{key:"setUniform",value:function(t,e,n){this.uniforms[t]={value:n,type:e}}},{key:"setShader",value:function(t,e){this.vertex=t,this.fragment=e}},{key:"setInstanceAttribute",value:function(t,e,n){var r=(0,h.getTypeSize)(e);this.attributes[t]={value:n,size:r,instanced:!0}}},{key:"setInstanceCount",value:function(t){this.instanceCount=t,this.instanceCount>0?this.isInstance=!0:this.isInstance=!1}},{key:"init",value:function(){var t=(0,f.getContext)();v=(0,f.getContextType)()===l.CONTEXT.WEBGL2,this.vertex&&this.fragment&&(v||(this.vertex=(0,d.glsl3to1)(this.vertex,"vertex"),this.fragment=(0,d.glsl3to1)(this.fragment,"fragment")),this.program=(0,c.createProgram)(t,this.vertex,this.fragment,this.type),t.useProgram(this.program),this.vao=new h.Vao,(0,h.initAttributes)(this.attributes,this.program),(0,h.initUniforms)(this.uniforms,this.program),this.indices&&!this.indices.buffer&&(this.indices.buffer=t.createBuffer()))}},{key:"destroy",value:function(){this.program=null}},{key:"bind",value:function(){var t=(0,f.getContext)();(0,h.bindAttributes)(this.attributes,this.program),this.indices&&(t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indices.buffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices.value,t.STATIC_DRAW))}},{key:"unbind",value:function(){var t=(0,f.getContext)();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}},{key:"update",value:function(t){var e=(0,f.getContext)();this.dirty.attributes&&((0,h.updateAttributes)(this.attributes),this.dirty.attributes=!0),(0,h.updateUniforms)(this.uniforms),this.polygonOffset?(e.enable(e.POLYGON_OFFSET_FILL),e.polygonOffset(this.polygonOffsetFactor,this.polygonOffsetUnits)):e.disable(e.POLYGON_OFFSET_FILL),this.transparent&&(e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.disable(e.DEPTH_TEST)),this.side===l.SIDE.FRONT?(e.enable(e.CULL_FACE),e.cullFace(e.BACK)):this.side===l.SIDE.BACK?(e.enable(e.CULL_FACE),e.cullFace(e.FRONT)):this.side===l.SIDE.BOTH&&e.disable(e.CULL_FACE),t&&(e.enable(e.CULL_FACE),e.cullFace(e.FRONT))}},{key:"draw",value:function(){var t=(0,f.getContext)();this.isInstance?v?t.drawElementsInstanced(this.mode,this.indices.value.length,t.UNSIGNED_SHORT,0,this.instanceCount):(0,f.supports)().instancedArrays.drawElementsInstancedANGLE(this.mode,this.indices.value.length,t.UNSIGNED_SHORT,0,this.instanceCount):this.indices?t.drawElements(this.mode,this.indices.value.length,t.UNSIGNED_SHORT,0):t.drawArrays(this.mode,0,this.attributes.a_position.value.length/3)}}]),e}();e.default=M},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2);var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(0,a.getContext)();Object.assign(this,{magFilter:n.NEAREST,minFilter:n.NEAREST,wrapS:n.CLAMP_TO_EDGE,wrapT:n.CLAMP_TO_EDGE,transparent:!1},e);var r=new Uint8Array([255,255,255,255]);this.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,this.magFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.minFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.wrapT),this.transparent&&n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),n.bindTexture(n.TEXTURE_2D,null)}return r(t,[{key:"fromImage",value:function(t){var e=this,n=new Image;n.crossOrigin="",n.onload=function(){e.update(n)},n.src=t}},{key:"update",value:function(t){var e=(0,a.getContext)();e.bindTexture(e.TEXTURE_2D,this.texture),e.generateMipmap(e.TEXTURE_2D),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.bindTexture(e.TEXTURE_2D,null)}}]),t}();e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),u=n(5),s=(r=u)&&r.__esModule?r:{default:r},c=n(53),f=n(0);var l=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":i(e))&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));t.lights={directional:[]},t.fog={enable:!1,color:o.vec4.fromValues(0,0,0,1),start:500,end:1e3,density:25e-5},t.clipping={enable:!1,planes:[o.vec4.create(),o.vec4.create(),o.vec4.create()]};var n=new c.Directional({near:1,far:1e3});return n.position[0]=125,n.position[1]=250,n.position[2]=500,t.addLight(n),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":i(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),a(e,[{key:"addLight",value:function(t){switch(t.type){case f.DIRECTIONAL_LIGHT:this.lights.directional.push(t)}}},{key:"removeLight",value:function(t){var e=this.lights.directional.indexOf(t);-1!==e&&(t.destroy(),this.lights.directional.splice(e,1))}}]),e}();e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),o=n(0);var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(0,a.getContext)();Object.assign(this,{width:512,height:512,internalformat:n.DEPTH_COMPONENT,type:n.UNSIGNED_SHORT},e),(0,a.getContextType)()===o.CONTEXT.WEBGL2&&(this.internalformat=n.DEPTH_COMPONENT24,this.type=n.UNSIGNED_INT),this.frameBuffer=n.createFramebuffer(),n.bindFramebuffer(n.FRAMEBUFFER,this.frameBuffer),this.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,this.width,this.height,0,n.RGBA,n.UNSIGNED_BYTE,null),this.depthTexture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.depthTexture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texImage2D(n.TEXTURE_2D,0,this.internalformat,this.width,this.height,0,n.DEPTH_COMPONENT,this.type,null),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.texture,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,this.depthTexture,0),n.bindFramebuffer(n.FRAMEBUFFER,null)}return r(t,[{key:"setSize",value:function(t,e){var n=(0,a.getContext)();this.width=t,this.height=e,n.bindTexture(n.TEXTURE_2D,this.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,this.width,this.height,0,n.RGBA,n.UNSIGNED_BYTE,null),n.bindTexture(n.TEXTURE_2D,null),n.bindTexture(n.TEXTURE_2D,this.depthTexture),n.texImage2D(n.TEXTURE_2D,0,this.internalformat,this.width,this.height,0,n.DEPTH_COMPONENT,this.type,null),n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null)}}]),t}();e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.glsl3to1=e.math=e.color=void 0;var r,a=s(n(31)),o=s(n(37)),i=n(38),u=(r=i)&&r.__esModule?r:{default:r};function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.color=a,e.math=o,e.glsl3to1=u.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,a,o,i,u,s,c){var f=new r.ARRAY_TYPE(9);return f[0]=t,f[1]=e,f[2]=n,f[3]=a,f[4]=o,f[5]=i,f[6]=u,f[7]=s,f[8]=c,f},e.set=function(t,e,n,r,a,o,i,u,s,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=s,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=f*i-u*c,h=-f*o+u*s,d=c*o-i*s,v=n*l+r*h+a*d;if(!v)return null;return v=1/v,t[0]=l*v,t[1]=(-f*r+a*c)*v,t[2]=(u*r-a*i)*v,t[3]=h*v,t[4]=(f*n-a*s)*v,t[5]=(-u*n+a*o)*v,t[6]=d*v,t[7]=(-c*n+r*s)*v,t[8]=(i*n-r*o)*v,t},e.adjoint=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8];return t[0]=i*f-u*c,t[1]=a*c-r*f,t[2]=r*u-a*i,t[3]=u*s-o*f,t[4]=n*f-a*s,t[5]=a*o-n*u,t[6]=o*c-i*s,t[7]=r*s-n*c,t[8]=n*i-r*o,t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],a=t[3],o=t[4],i=t[5],u=t[6],s=t[7],c=t[8];return e*(c*o-i*s)+n*(-c*a+i*u)+r*(s*a-o*u)},e.multiply=a,e.translate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],d=n[1];return t[0]=r,t[1]=a,t[2]=o,t[3]=i,t[4]=u,t[5]=s,t[6]=h*r+d*i+c,t[7]=h*a+d*u+f,t[8]=h*o+d*s+l,t},e.rotate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=Math.sin(n),d=Math.cos(n);return t[0]=d*r+h*i,t[1]=d*a+h*u,t[2]=d*o+h*s,t[3]=d*i-h*r,t[4]=d*u-h*a,t[5]=d*s-h*o,t[6]=c,t[7]=f,t[8]=l,t},e.scale=function(t,e,n){var r=n[0],a=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n+n,u=r+r,s=a+a,c=n*i,f=r*i,l=r*u,h=a*i,d=a*u,v=a*s,M=o*i,p=o*u,m=o*s;return t[0]=1-l-v,t[3]=f-m,t[6]=h+p,t[1]=f+m,t[4]=1-c-v,t[7]=d-M,t[2]=h-p,t[5]=d+M,t[8]=1-c-l,t},e.normalFromMat4=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],v=e[12],M=e[13],p=e[14],m=e[15],b=n*u-r*i,g=n*s-a*i,y=n*c-o*i,_=r*s-a*u,E=r*c-o*u,x=a*c-o*s,P=f*M-l*v,O=f*p-h*v,w=f*m-d*v,T=l*p-h*M,A=l*m-d*M,R=h*m-d*p,S=b*R-g*A+y*T+_*w-E*O+x*P;if(!S)return null;return S=1/S,t[0]=(u*R-s*A+c*T)*S,t[1]=(s*w-i*R-c*O)*S,t[2]=(i*A-u*w+c*P)*S,t[3]=(a*A-r*R-o*T)*S,t[4]=(n*R-a*w+o*O)*S,t[5]=(r*w-n*A-o*P)*S,t[6]=(M*x-p*E+m*_)*S,t[7]=(p*y-v*x-m*g)*S,t[8]=(v*E-M*y+m*b)*S,t},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=o,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=e[0],d=e[1],v=e[2],M=e[3],p=e[4],m=e[5],b=e[6],g=e[7],y=e[8];return Math.abs(n-h)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(a-d)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(o-v)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(i-M)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(u-p)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(s-m)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-b)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-g)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(g))&&Math.abs(l-y)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))};var r=n(3);function a(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],d=n[1],v=n[2],M=n[3],p=n[4],m=n[5],b=n[6],g=n[7],y=n[8];return t[0]=h*r+d*i+v*c,t[1]=h*a+d*u+v*f,t[2]=h*o+d*s+v*l,t[3]=M*r+p*i+m*c,t[4]=M*a+p*u+m*f,t[5]=M*o+p*s+m*l,t[6]=b*r+g*i+y*c,t[7]=b*a+g*u+y*f,t[8]=b*o+g*s+y*l,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}var i=a;e.mul=i;var u=o;e.sub=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.create=a,e.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=o,e.fromValues=i,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=u,e.multiply=s,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},e.distance=f,e.squaredDistance=l,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=d,e.dot=v,e.cross=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[0],u=n[1],s=n[2];return t[0]=a*s-o*u,t[1]=o*i-r*s,t[2]=r*u-a*i,t},e.lerp=function(t,e,n,r){var a=e[0],o=e[1],i=e[2];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t[2]=i+r*(n[2]-i),t},e.hermite=function(t,e,n,r,a,o){var i=o*o,u=i*(2*o-3)+1,s=i*(o-2)+o,c=i*(o-1),f=i*(3-2*o);return t[0]=e[0]*u+n[0]*s+r[0]*c+a[0]*f,t[1]=e[1]*u+n[1]*s+r[1]*c+a[1]*f,t[2]=e[2]*u+n[2]*s+r[2]*c+a[2]*f,t},e.bezier=function(t,e,n,r,a,o){var i=1-o,u=i*i,s=o*o,c=u*i,f=3*o*u,l=3*s*i,h=s*o;return t[0]=e[0]*c+n[0]*f+r[0]*l+a[0]*h,t[1]=e[1]*c+n[1]*f+r[1]*l+a[1]*h,t[2]=e[2]*c+n[2]*f+r[2]*l+a[2]*h,t},e.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,a=2*r.RANDOM()-1,o=Math.sqrt(1-a*a)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=a*e,t},e.transformMat4=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[3]*r+n[7]*a+n[11]*o+n[15];return i=i||1,t[0]=(n[0]*r+n[4]*a+n[8]*o+n[12])/i,t[1]=(n[1]*r+n[5]*a+n[9]*o+n[13])/i,t[2]=(n[2]*r+n[6]*a+n[10]*o+n[14])/i,t},e.transformMat3=function(t,e,n){var r=e[0],a=e[1],o=e[2];return t[0]=r*n[0]+a*n[3]+o*n[6],t[1]=r*n[1]+a*n[4]+o*n[7],t[2]=r*n[2]+a*n[5]+o*n[8],t},e.transformQuat=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[0],u=n[1],s=n[2],c=n[3],f=c*r+u*o-s*a,l=c*a+s*r-i*o,h=c*o+i*a-u*r,d=-i*r-u*a-s*o;return t[0]=f*c+d*-i+l*-s-h*-u,t[1]=l*c+d*-u+h*-i-f*-s,t[2]=h*c+d*-s+f*-u-l*-i,t},e.rotateX=function(t,e,n,r){var a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[0],o[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),o[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateY=function(t,e,n,r){var a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),o[1]=a[1],o[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateZ=function(t,e,n,r){var a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),o[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),o[2]=a[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.angle=function(t,e){var n=i(t[0],t[1],t[2]),r=i(e[0],e[1],e[2]);d(n,n),d(r,r);var a=v(n,r);return a>1?0:a<-1?Math.PI:Math.acos(a)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=e[0],u=e[1],s=e[2];return Math.abs(n-i)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(a-u)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))};var r=n(3);function a(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function o(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function i(t,e,n){var a=new r.ARRAY_TYPE(3);return a[0]=t,a[1]=e,a[2]=n,a}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function s(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function c(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function f(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(n*n+r*r+a*a)}function l(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return n*n+r*r+a*a}function h(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function d(t,e){var n=e[0],r=e[1],a=e[2],o=n*n+r*r+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function v(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}var M=u;e.sub=M;var p=s;e.mul=p;var m=c;e.div=m;var b=f;e.dist=b;var g=l;e.sqrDist=g;var y=o;e.len=y;var _=h;e.sqrLen=_;var E,x=(E=a(),function(t,e,n,r,a,o){var i=void 0,u=void 0;for(e||(e=3),n||(n=0),u=r?Math.min(r*e+n,t.length):t.length,i=n;i<u;i+=e)E[0]=t[i],E[1]=t[i+1],E[2]=t[i+2],a(E,E,o),t[i]=E[0],t[i+1]=E[1],t[i+2]=E[2];return t});e.forEach=x},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.create=a,e.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.fromValues=function(t,e,n,a){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=a,o},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.set=function(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},e.subtract=o,e.multiply=i,e.divide=u,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},e.scale=s,e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},e.distance=c,e.squaredDistance=f,e.length=l,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},e.normalize=d,e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},e.lerp=function(t,e,n,r){var a=e[0],o=e[1],i=e[2],u=e[3];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t[2]=i+r*(n[2]-i),t[3]=u+r*(n[3]-u),t},e.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),d(t,t),s(t,t,e),t},e.transformMat4=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3];return t[0]=n[0]*r+n[4]*a+n[8]*o+n[12]*i,t[1]=n[1]*r+n[5]*a+n[9]*o+n[13]*i,t[2]=n[2]*r+n[6]*a+n[10]*o+n[14]*i,t[3]=n[3]*r+n[7]*a+n[11]*o+n[15]*i,t},e.transformQuat=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[0],u=n[1],s=n[2],c=n[3],f=c*r+u*o-s*a,l=c*a+s*r-i*o,h=c*o+i*a-u*r,d=-i*r-u*a-s*o;return t[0]=f*c+d*-i+l*-s-h*-u,t[1]=l*c+d*-u+h*-i-f*-s,t[2]=h*c+d*-s+f*-u-l*-i,t[3]=e[3],t},e.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=e[2],f=e[3];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-s)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-f)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))};var r=n(3);function a(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function i(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function u(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function s(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+a*a+o*o)}function f(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+a*a+o*o}function l(t){var e=t[0],n=t[1],r=t[2],a=t[3];return Math.sqrt(e*e+n*n+r*r+a*a)}function h(t){var e=t[0],n=t[1],r=t[2],a=t[3];return e*e+n*n+r*r+a*a}function d(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n*n+r*r+a*a+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=n*i,t[1]=r*i,t[2]=a*i,t[3]=o*i),t}var v=o;e.sub=v;var M=i;e.mul=M;var p=u;e.div=p;var m=c;e.dist=m;var b=f;e.sqrDist=b;var g=l;e.len=g;var y=h;e.sqrLen=y;var _,E=(_=a(),function(t,e,n,r,a,o){var i=void 0,u=void 0;for(e||(e=4),n||(n=0),u=r?Math.min(r*e+n,t.length):t.length,i=n;i<u;i+=e)_[0]=t[i],_[1]=t[i+1],_[2]=t[i+2],_[3]=t[i+3],a(_,_,o),t[i]=_[0],t[i+1]=_[1],t[i+2]=_[2],t[i+3]=_[3];return t});e.forEach=E},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Perspective=e.Orthographic=void 0;var r=o(n(17)),a=o(n(18));function o(t){return t&&t.__esModule?t:{default:t}}e.Orthographic=r.default,e.Perspective=a.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),u=n(5),s=(r=u)&&r.__esModule?r:{default:r};var c=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":i(e))&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Object.assign(n,{left:-1,right:1,top:1,bottom:-1,near:-1e3,far:1e3},t),n.matrices.projection=o.mat4.create(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":i(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),a(e,[{key:"lookAt",value:function(t){o.vec3.copy(this.target,t)}},{key:"updateCameraMatrix",value:function(){o.mat4.ortho(this.matrices.projection,this.left,this.right,this.bottom,this.top,this.near,this.far)}}]),e}();e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),u=n(5),s=(r=u)&&r.__esModule?r:{default:r};var c=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":i(e))&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return Object.assign(n,{near:1,far:1e3,fov:35},t),n.matrices.projection=o.mat4.create(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":i(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),a(e,[{key:"lookAt",value:function(t){o.vec3.copy(this.target,t)}},{key:"updateCameraMatrix",value:function(t,e){o.mat4.perspective(this.matrices.projection,this.fov*(Math.PI/180),t/e,this.near,this.far)}}]),e}();e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r={};function a(t,e,n){var r=t.createShader(n);if(t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(r);throw t.deleteShader(r),console.error(a,e),new Error(a)}return r}e.createProgram=function(t,e,n,o){var i=r["pool_"+o];if(!i){var u=a(t,e,t.VERTEX_SHADER),s=a(t,n,t.FRAGMENT_SHADER),c=t.createProgram();return t.attachShader(c,u),t.attachShader(c,s),t.linkProgram(c),r["pool_"+o]=c,c}return i}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.updateUniforms=e.initUniforms=e.updateAttributes=e.bindAttributes=e.initAttributes=e.createProgram=e.getTypeSize=e.Vao=e.Ubo=void 0;var r=c(n(45)),a=c(n(46)),o=n(47),i=n(19),u=n(48),s=n(49);function c(t){return t&&t.__esModule?t:{default:t}}e.Ubo=r.default,e.Vao=a.default,e.getTypeSize=o.getTypeSize,e.createProgram=i.createProgram,e.initAttributes=u.initAttributes,e.bindAttributes=u.bindAttributes,e.updateAttributes=u.updateAttributes,e.initUniforms=s.initUniforms,e.updateUniforms=s.updateUniforms},function(t,e,n){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),o=n(2),i=n(0),u=n(52),s=n(20),c=l(n(10)),f=l(n(54));function l(t){return t&&t.__esModule?t:{default:t}}function h(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var d=void 0,v=Date.now(),M=!1,p=a.vec4.create(),m=a.vec4.create(),b={view:a.mat4.create(),normal:a.mat4.create(),modelView:a.mat4.create(),inversedModelView:a.mat4.create()},g=null,y=null,_=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.supported=!1,this.sorted={opaque:[],transparent:[],shadow:[]},this.performance={opaque:0,transparent:0,shadow:0,vertices:0,instances:0},this.ratio=n.ratio||t.devicePixelRatio,this.shadows=n.shadows||!1,this.domElement=n.canvas||document.createElement("canvas");var r=(0,o.setContextType)(n.contextType),a=this.domElement.getContext(r,Object.assign({},{antialias:!1},n)),s=(0,o.supports)();if(a&&(s.vertexArrayObject&&s.instancedArrays&&s.standardDerivatives&&s.depthTextures||null!==t.gli)){if(!1!==n.greeting){var c,f="color:#f33;font-size:x-small",l=["%c"+o.library+"\n%cversion: %c"+o.version+" %crunning: %c"+a.getParameter(a.VERSION),"color:#666;font-size:x-small;font-weight:bold;","color:#777;font-size:x-small",f,"color:#777;font-size:x-small",f];(c=console).log.apply(c,l)}(0,o.setContext)(a),M=(0,o.getContextType)()===i.CONTEXT.WEBGL2,this.init()}else this.domElement=(0,u.unsupported)()}return r(e,[{key:"init",value:function(){this.supported=!0,M&&(this.perScene=new s.Ubo([].concat(h(a.mat4.create()),h(a.mat4.create()),h(m),h(a.vec4.create()),h(p),h(a.vec4.create()),h(a.vec4.create()),h(a.vec4.create()),h(a.vec4.create())),0),this.perModel=new s.Ubo([].concat(h(a.mat4.create()),h(a.mat4.create()),h(a.vec4.create()),h(a.vec4.create()),h(a.vec4.create()),h(a.vec4.create())),1),this.directional=new s.Ubo(new Float32Array(12*i.MAX_DIRECTIONAL),2)),this.shadowmap=new f.default}},{key:"setSize",value:function(t,e){this.supported&&(0,u.resize)(this.domElement,t,e,this.ratio)}},{key:"setRatio",value:function(t){this.ratio=t}},{key:"changeProgram",value:function(t){var e=(0,o.getContext)();if(e.useProgram(t),M){var n=e.getUniformBlockIndex(t,"perScene"),r=e.getUniformBlockIndex(t,"perModel"),a=e.getUniformBlockIndex(t,"directional");e.uniformBlockBinding(t,n,this.perScene.boundLocation),e.uniformBlockBinding(t,r,this.perModel.boundLocation),a===this.directional.boundLocation&&e.uniformBlockBinding(t,a,this.directional.boundLocation)}}},{key:"draw",value:function(t,e,n,r){if(this.supported){g=t,y=e;var i=(0,o.getContext)();if(i.enable(i.DEPTH_TEST),i.enable(i.CULL_FACE),i.disable(i.BLEND),e.updateCameraMatrix(n,r),a.mat4.identity(b.view),a.mat4.lookAt(b.view,e.position.data,e.target,e.up),t.traverse()&&(this.sorted.opaque=[],this.sorted.transparent=[],this.sorted.shadow=[],this.performance.opaque=0,this.performance.transparent=0,this.performance.shadow=0,this.performance.vertices=0,this.performance.instances=0,this.sort(t)),p[0]=(Date.now()-v)/1e3,m[0]=t.fog.enable,m[1]=t.fog.start,m[2]=t.fog.end,m[3]=t.fog.density,M){this.perScene.bind(),this.perModel.bind(),this.directional.bind(),this.perScene.update([].concat(h(e.matrices.projection),h(b.view),h(m),h(t.fog.color),h(p),[t.clipping.enable,0,0,0],h(t.clipping.planes[0]),h(t.clipping.planes[1]),h(t.clipping.planes[2])));for(var u=0;u<t.lights.directional.length;u++)this.directional.update([].concat(h(t.lights.directional[u].position),[0]).concat([].concat(h(t.lights.directional[u].color),[0]),[t.lights.directional[u].intensity,0,0,0]),12*u)}if(this.shadowmap.setLightOrigin(t.lights.directional[0].position),this.renderShadow)for(var s=0;s<this.sorted.shadow.length;s++)this.renderObject(this.sorted.shadow[s],this.sorted.shadow[s].program,!0);for(var c=0;c<this.sorted.opaque.length;c++)this.renderObject(this.sorted.opaque[c],this.sorted.opaque[c].program);this.sorted.transparent.sort(function(t,e){return t.position.z-e.position.z});for(var f=0;f<this.sorted.transparent.length;f++)this.renderObject(this.sorted.transparent[f],this.sorted.transparent[f].program)}}},{key:"rtt",value:function(t){var e=t.renderTarget,n=t.scene,r=t.camera,a=t.clearColor,i=void 0===a?[0,0,0,1]:a;if(this.supported){var u=(0,o.getContext)();u.bindFramebuffer(u.FRAMEBUFFER,e.frameBuffer),u.viewport(0,0,e.width,e.height),u.clearColor.apply(u,h(i)),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),this.draw(n,r,e.width,e.height),u.bindTexture(u.TEXTURE_2D,e.texture),u.bindTexture(u.TEXTURE_2D,null),u.bindFramebuffer(u.FRAMEBUFFER,null)}}},{key:"render",value:function(t,e){if(this.supported){var n=(0,o.getContext)();this.shadows&&(this.renderShadow=!0,this.rtt({renderTarget:this.shadowmap.rt,scene:t,camera:this.shadowmap.camera,clearColor:[1,1,1,1]}),this.renderShadow=!1),n.viewport(0,0,n.canvas.width,n.canvas.height),n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),this.draw(t,e,n.canvas.width,n.canvas.height)}}},{key:"updateMatrices",value:function(t){a.mat4.identity(b.modelView),a.mat4.copy(b.modelView,t),a.mat4.invert(b.inversedModelView,b.modelView),a.mat4.transpose(b.inversedModelView,b.inversedModelView),a.mat4.identity(b.normal),a.mat4.copy(b.normal,b.inversedModelView)}},{key:"sort",value:function(t){for(var e=0;e<t.children.length;e++)this.sort(t.children[e]);!t.visible||t instanceof c.default||(t.transparent?(this.sorted.transparent.push(t),this.performance.transparent++):(this.sorted.opaque.push(t),this.performance.opaque++),this.shadows&&t.shadows&&(this.sorted.shadow.push(t),this.performance.shadow++),t.attributes.a_position&&(this.performance.vertices+=t.attributes.a_position.value.length/3),t.isInstance&&(this.performance.instances+=t.instanceCount)),t.dirty.sorting=!1}},{key:"renderObject",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null!==t.parent){if(this.updateMatrices(t.matrices.model),t.dirty.shader&&(t.dirty.shader=!1,e&&t.destroy()),!e)return this.initUniformsPerModel(t),void t.init();d!==e&&(d=e,this.changeProgram(d,t.type)),t.bind(),this.updateUniformsPerModel(t),t.update(n),t.draw(),t.unbind()}}},{key:"initUniformsPerModel",value:function(t){M||(t.setUniform("projectionMatrix","mat4",a.mat4.create()),t.setUniform("viewMatrix","mat4",a.mat4.create()),t.setUniform("fogSettings","vec4",m),t.setUniform("fogColor","vec4",a.vec4.create()),t.setUniform("iGlobalTime","float",p[0]),t.setUniform("globalClipSettings","vec4",a.vec4.create()),t.setUniform("globalClipPlane0","vec4",a.vec4.create()),t.setUniform("globalClipPlane1","vec4",a.vec4.create()),t.setUniform("globalClipPlane2","vec4",a.vec4.create()),t.setUniform("modelMatrix","mat4",a.mat4.create()),t.setUniform("normalMatrix","mat4",a.mat4.create()),t.setUniform("localClipSettings","vec4",a.vec4.create()),t.setUniform("localClipPlane0","vec4",a.vec4.create()),t.setUniform("localClipPlane1","vec4",a.vec4.create()),t.setUniform("localClipPlane2","vec4",a.vec4.create()),t.setUniform("dlPosition","vec4",a.vec4.create()),t.setUniform("dlColor","vec4",a.vec4.create()),t.setUniform("flIntensity","float",0)),t.setUniform("shadowMap","sampler2D",0),t.setUniform("shadowMatrix","mat4",a.mat4.create()),t.setUniform("shadowNear","float",0),t.setUniform("shadowFar","float",0)}},{key:"updateUniformsPerModel",value:function(t){M?this.perModel.update([].concat(h(t.matrices.model),h(b.normal),[t.clipping.enable,0,0,0],h(t.clipping.planes[0]),h(t.clipping.planes[1]),h(t.clipping.planes[2]))):(t.uniforms.projectionMatrix.value=y.matrices.projection,t.uniforms.viewMatrix.value=b.view,t.uniforms.fogSettings.value=m,t.uniforms.fogColor.value=g.fog.color,t.uniforms.iGlobalTime.value=p[0],t.uniforms.globalClipSettings.value=[g.clipping.enable,0,0,0],t.uniforms.globalClipPlane0.value=g.clipping.planes[0],t.uniforms.globalClipPlane1.value=g.clipping.planes[1],t.uniforms.globalClipPlane2.value=g.clipping.planes[2],t.uniforms.modelMatrix.value=t.matrices.model,t.uniforms.normalMatrix.value=b.normal,t.uniforms.localClipSettings.value=[t.clipping.enable,0,0,0],t.uniforms.localClipPlane0.value=t.clipping.planes[0],t.uniforms.localClipPlane1.value=t.clipping.planes[0],t.uniforms.localClipPlane2.value=t.clipping.planes[0]),t.uniforms.shadowMap.value=this.shadowmap.rt.depthTexture,t.uniforms.shadowMatrix.value=this.shadowmap.matrices.shadow,t.uniforms.shadowNear.value=this.shadowmap.camera.near,t.uniforms.shadowFar.value=this.shadowmap.camera.far}}]),e}();e.default=_}).call(e,n(51))},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=u(n(10)),o=u(n(7)),i=n(4);function u(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=new a.default;var n=e.vertex,r=e.fragment,o=e.uniforms;this.vertex=n,this.fragment=r,this.uniforms=o,this.enable=!0}return r(t,[{key:"compile",value:function(){var t={vertex:"#version 300 es\n                in vec3 a_position;\n                in vec3 a_normal;\n                in vec2 a_uv;\n\n                "+i.UBO.scene()+"\n                "+i.UBO.model()+"\n\n                "+this.vertex,fragment:"#version 300 es\n                precision highp float;\n                precision highp int;\n\n                "+i.UBO.scene()+"\n                "+i.UBO.model()+"\n\n                out vec4 outColor;\n                "+this.fragment,uniforms:this.uniforms};this.quad=new o.default({geometry:{positions:[-1,-1,0,1,-1,0,1,1,0,-1,1,0],indices:[0,1,2,0,2,3],uvs:[0,0,1,0,1,1,0,1]},shader:t}),this.scene.add(this.quad)}},{key:"setUniform",value:function(t,e){this.quad.uniforms[t].value=e}}]),t}();e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Performance=e.Pass=e.Composer=e.RenderTarget=e.Texture=e.Mesh=e.Model=e.Scene=e.Object3=e.Renderer=e.constants=e.helpers=e.shaders=e.cameras=e.utils=e.chunks=void 0;var r=y(n(4)),a=y(n(12)),o=y(n(16)),i=y(n(6)),u=y(n(43)),s=y(n(0)),c=g(n(21)),f=g(n(5)),l=g(n(10)),h=g(n(8)),d=g(n(7)),v=g(n(9)),M=g(n(11)),p=g(n(55)),m=g(n(22)),b=g(n(58));function g(t){return t&&t.__esModule?t:{default:t}}function y(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.chunks=r,e.utils=a,e.cameras=o,e.shaders=i,e.helpers=u,e.constants=s,e.Renderer=c.default,e.Object3=f.default,e.Scene=l.default,e.Model=h.default,e.Mesh=d.default,e.Texture=v.default,e.RenderTarget=M.default,e.Composer=p.default,e.Pass=m.default,e.Performance=b.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r={factory:function(){return"\n        // factory light\n        vec3 inverseLightDirection = normalize(vec3(-0.25, -0.25, 1.0));\n        vec3 directionalColor = vec3(max(dot(v_normal, inverseLightDirection), 0.0));\n        vec3 factory = mix(vec3(0.0), directionalColor, 0.989); // light intensity\n        base.rgb *= factory;\n\n        "+r.directional()},directional:function(){return"\n            // vec3 dcolor = vec3(0.01);\n            //\n            // for (int i = 0; i < MAX_DIRECTIONAL; i++) {\n            //     vec3 inverseLightDirection = normalize(directionalLights[i].dlPosition.xyz);\n            //     vec3 light = vec3(max(dot(v_normal, inverseLightDirection), 0.0));\n            //     vec3 directionalColor = directionalLights[i].dlColor.rgb * light;\n            //     dcolor += mix(dcolor, directionalColor, directionalLights[i].flIntensity);\n            // }\n            // dcolor /= float(MAX_DIRECTIONAL);\n            //\n            // base.rgb *= dcolor;\n        "}};e.LIGHT=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r={linear:function(){return"\n        if (fogSettings.x > 0.0) {\n            \n    float fogStart = fogSettings.y;\n    float fogEnd = fogSettings.z;\n    float fogDensity = fogSettings.a;\n\n    float dist = 0.0;\n    float fogFactor = 0.0;\n    dist = gl_FragCoord.z / gl_FragCoord.w;\n            fogFactor = (fogEnd - dist) / (fogEnd - fogStart);\n            fogFactor = clamp(fogFactor, 0.0, 1.0);\n            base = mix(fogColor, base, fogFactor);\n        }"},exponential:function(){return"\n        if (fogSettings.x > 0.0) {\n            \n    float fogStart = fogSettings.y;\n    float fogEnd = fogSettings.z;\n    float fogDensity = fogSettings.a;\n\n    float dist = 0.0;\n    float fogFactor = 0.0;\n    dist = gl_FragCoord.z / gl_FragCoord.w;\n            fogFactor = 1.0 / exp(dist * fogDensity);\n            fogFactor = clamp(fogFactor, 0.0, 1.0);\n            base = mix(fogColor, base, fogFactor);\n        }"},exponential2:function(){return"\n        if (fogSettings.x > 0.0) {\n            \n    float fogStart = fogSettings.y;\n    float fogEnd = fogSettings.z;\n    float fogDensity = fogSettings.a;\n\n    float dist = 0.0;\n    float fogFactor = 0.0;\n    dist = gl_FragCoord.z / gl_FragCoord.w;\n            fogFactor = 1.0 / exp((dist * fogDensity) * (dist * fogDensity));\n            fogFactor = clamp(fogFactor, 0.0, 1.0);\n            base = mix(fogColor, base, fogFactor);\n        }"}};e.FOG=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.UBO=void 0;var r=n(0),a=n(2),o={scene:function(){return(0,a.getContextType)()===r.CONTEXT.WEBGL2?"\n            uniform perScene {\n                mat4 projectionMatrix;\n                mat4 viewMatrix;\n                vec4 fogSettings;\n                vec4 fogColor;\n                float iGlobalTime;\n                vec4 globalClipSettings;\n                vec4 globalClipPlane0;\n                vec4 globalClipPlane1;\n                vec4 globalClipPlane2;\n            };":"\n        uniform mat4 projectionMatrix;\n        uniform mat4 viewMatrix;\n        uniform vec4 fogSettings;\n        uniform vec4 fogColor;\n        uniform float iGlobalTime;\n        uniform vec4 globalClipSettings;\n        uniform vec4 globalClipPlane0;\n        uniform vec4 globalClipPlane1;\n        uniform vec4 globalClipPlane2;"},model:function(){return(0,a.getContextType)()===r.CONTEXT.WEBGL2?"\n            uniform perModel {\n                mat4 modelMatrix;\n                mat4 normalMatrix;\n                vec4 localClipSettings;\n                vec4 localClipPlane0;\n                vec4 localClipPlane1;\n                vec4 localClipPlane2;\n            };":"\n            uniform mat4 modelMatrix;\n            uniform mat4 normalMatrix;\n            uniform vec4 localClipSettings;\n            uniform vec4 localClipPlane0;\n            uniform vec4 localClipPlane1;\n            uniform vec4 localClipPlane2;"},lights:function(){return(0,a.getContextType)()===r.CONTEXT.WEBGL2?"\n                #define MAX_DIRECTIONAL "+r.MAX_DIRECTIONAL+"\n\n                struct Directional {\n                    vec4 dlPosition;\n                    vec4 dlColor;\n                    float flIntensity;\n                };\n\n                uniform directional {\n                    Directional directionalLights[MAX_DIRECTIONAL];\n                };":"\n            #define MAX_DIRECTIONAL "+r.MAX_DIRECTIONAL+"\n\n            struct Directional {\n                vec4 dlPosition;\n                vec4 dlColor;\n                float flIntensity;\n            };\n\n            uniform Directional directionalLights[MAX_DIRECTIONAL];"}};e.UBO=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});e.NOISE=function(){return"\n    vec3 mod289(vec3 x){return x-floor(x*(1./289.))*289.;}vec4 mod289(vec4 x){return x-floor(x*(1./289.))*289.;}vec4 permute(vec4 x){return mod289((x*34.+1.)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284-.853735*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.-15.)+10.);}float cnoise(vec3 P){vec3 Pi0=floor(P),Pi1=Pi0+vec3(1.);Pi0=mod289(Pi0);Pi1=mod289(Pi1);vec3 Pf0=fract(P),Pf1=Pf0-vec3(1.);vec4 ix=vec4(Pi0.r,Pi1.r,Pi0.r,Pi1.r),iy=vec4(Pi0.gg,Pi1.gg),iz0=Pi0.bbbb,iz1=Pi1.bbbb,ixy=permute(permute(ix)+iy),ixy0=permute(ixy+iz0),ixy1=permute(ixy+iz1),gx0=ixy0*(1./7.),gy0=fract(floor(gx0)*(1./7.))-.5;gx0=fract(gx0);vec4 gz0=vec4(.5)-abs(gx0)-abs(gy0),sz0=step(gz0,vec4(0.));gx0-=sz0*(step(0.,gx0)-.5);gy0-=sz0*(step(0.,gy0)-.5);vec4 gx1=ixy1*(1./7.),gy1=fract(floor(gx1)*(1./7.))-.5;gx1=fract(gx1);vec4 gz1=vec4(.5)-abs(gx1)-abs(gy1),sz1=step(gz1,vec4(0.));gx1-=sz1*(step(0.,gx1)-.5);gy1-=sz1*(step(0.,gy1)-.5);vec3 g000=vec3(gx0.r,gy0.r,gz0.r),g100=vec3(gx0.g,gy0.g,gz0.g),g010=vec3(gx0.b,gy0.b,gz0.b),g110=vec3(gx0.a,gy0.a,gz0.a),g001=vec3(gx1.r,gy1.r,gz1.r),g101=vec3(gx1.g,gy1.g,gz1.g),g011=vec3(gx1.b,gy1.b,gz1.b),g111=vec3(gx1.a,gy1.a,gz1.a);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.r;g010*=norm0.g;g100*=norm0.b;g110*=norm0.a;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.r;g011*=norm1.g;g101*=norm1.b;g111*=norm1.a;float n000=dot(g000,Pf0),n100=dot(g100,vec3(Pf1.r,Pf0.gb)),n010=dot(g010,vec3(Pf0.r,Pf1.g,Pf0.b)),n110=dot(g110,vec3(Pf1.rg,Pf0.b)),n001=dot(g001,vec3(Pf0.rg,Pf1.b)),n101=dot(g101,vec3(Pf1.r,Pf0.g,Pf1.b)),n011=dot(g011,vec3(Pf0.r,Pf1.gb)),n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.b);vec2 n_yz=mix(n_z.rg,n_z.ba,fade_xyz.g);float n_xyz=mix(n_yz.r,n_yz.g,fade_xyz.r);return 2.2*n_xyz;}float pnoise(vec3 P,vec3 rep){vec3 Pi0=mod(floor(P),rep),Pi1=mod(Pi0+vec3(1.),rep);Pi0=mod289(Pi0);Pi1=mod289(Pi1);vec3 Pf0=fract(P),Pf1=Pf0-vec3(1.);vec4 ix=vec4(Pi0.r,Pi1.r,Pi0.r,Pi1.r),iy=vec4(Pi0.gg,Pi1.gg),iz0=Pi0.bbbb,iz1=Pi1.bbbb,ixy=permute(permute(ix)+iy),ixy0=permute(ixy+iz0),ixy1=permute(ixy+iz1),gx0=ixy0*(1./7.),gy0=fract(floor(gx0)*(1./7.))-.5;gx0=fract(gx0);vec4 gz0=vec4(.5)-abs(gx0)-abs(gy0),sz0=step(gz0,vec4(0.));gx0-=sz0*(step(0.,gx0)-.5);gy0-=sz0*(step(0.,gy0)-.5);vec4 gx1=ixy1*(1./7.),gy1=fract(floor(gx1)*(1./7.))-.5;gx1=fract(gx1);vec4 gz1=vec4(.5)-abs(gx1)-abs(gy1),sz1=step(gz1,vec4(0.));gx1-=sz1*(step(0.,gx1)-.5);gy1-=sz1*(step(0.,gy1)-.5);vec3 g000=vec3(gx0.r,gy0.r,gz0.r),g100=vec3(gx0.g,gy0.g,gz0.g),g010=vec3(gx0.b,gy0.b,gz0.b),g110=vec3(gx0.a,gy0.a,gz0.a),g001=vec3(gx1.r,gy1.r,gz1.r),g101=vec3(gx1.g,gy1.g,gz1.g),g011=vec3(gx1.b,gy1.b,gz1.b),g111=vec3(gx1.a,gy1.a,gz1.a);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.r;g010*=norm0.g;g100*=norm0.b;g110*=norm0.a;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.r;g011*=norm1.g;g101*=norm1.b;g111*=norm1.a;float n000=dot(g000,Pf0),n100=dot(g100,vec3(Pf1.r,Pf0.gb)),n010=dot(g010,vec3(Pf0.r,Pf1.g,Pf0.b)),n110=dot(g110,vec3(Pf1.rg,Pf0.b)),n001=dot(g001,vec3(Pf0.rg,Pf1.b)),n101=dot(g101,vec3(Pf1.r,Pf0.g,Pf1.b)),n011=dot(g011,vec3(Pf0.r,Pf1.gb)),n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.b);vec2 n_yz=mix(n_z.rg,n_z.ba,fade_xyz.g);float n_xyz=mix(n_yz.r,n_yz.g,fade_xyz.r);return 2.2*n_xyz;}\n"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});e.CLIPPING={vertex_pre:function(){return"\n        out vec4 local_eyespace;\n        out vec4 global_eyespace;"},vertex:function(){return"\n        local_eyespace = modelMatrix * vec4(a_position, 1.0);\n        global_eyespace = viewMatrix * modelMatrix * vec4(a_position, 1.0);"},fragment_pre:function(){return"\n        in vec4 local_eyespace;\n        in vec4 global_eyespace;"},fragment:function(){return"\n        if (localClipSettings.x > 0.0) {\n            if(dot(local_eyespace, localClipPlane0) < 0.0) discard;\n            if(dot(local_eyespace, localClipPlane1) < 0.0) discard;\n            if(dot(local_eyespace, localClipPlane2) < 0.0) discard;\n        }\n\n        if (globalClipSettings.x > 0.0) {\n            if(dot(global_eyespace, globalClipPlane0) < 0.0) discard;\n            if(dot(global_eyespace, globalClipPlane1) < 0.0) discard;\n            if(dot(global_eyespace, globalClipPlane2) < 0.0) discard;\n        }"}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.EXTENSIONS=void 0;var r=n(2),a=n(0),o={vertex:function(){return(0,r.getContextType)(),a.CONTEXT.WEBGL2,""},fragment:function(){return(0,r.getContextType)()===a.CONTEXT.WEBGL2?"":"\n        #extension GL_OES_standard_derivatives : enable"}};e.EXTENSIONS=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r={vertex_pre:function(){return"\n        uniform mat4 shadowMatrix;\n        out vec4 vShadowCoord;"},vertex:function(){return"\n        vShadowCoord = shadowMatrix * modelMatrix * vec4(a_position, 1.0);"},fragment_pre:function(){return"\n        uniform sampler2D shadowMap;\n        in vec4 vShadowCoord;\n\n        \n    float hardShadow1(sampler2D shadowMap) {\n        vec4 shadowCoord = vShadowCoord / vShadowCoord.w;\n        vec2 uv = shadowCoord.xy;\n        float shadow = texture(shadowMap, uv).r;\n\n        float visibility = 1.0;\n        float shadowAmount = 0.5;\n\n        float cosTheta = clamp(dot(v_normal, vShadowCoord.xyz), 0.0, 1.0);\n        float bias = 0.00005 * tan(acos(cosTheta)); // cosTheta is dot( n,l ), clamped between 0 and 1\n        bias = clamp(bias, 0.0, 0.001);\n\n        if (shadow < shadowCoord.z - bias){\n            visibility = shadowAmount;\n        }\n        return visibility;\n    }\n\n    float hardShadow2(sampler2D shadowMap) {\n        vec4 shadowCoord = vShadowCoord / vShadowCoord.w;\n        vec2 uv = shadowCoord.xy;\n\n        float lightDepth1 = texture(shadowMap, uv).r;\n        float lightDepth2 = clamp(shadowCoord.z, 0.0, 1.0);\n        float bias = 0.0001;\n\n        return step(lightDepth2, lightDepth1+bias);\n    }\n\n    float hardShadow3(sampler2D shadowMap) {\n        vec4 shadowCoord = vShadowCoord / vShadowCoord.w;\n        vec2 uv = shadowCoord.xy;\n\n        float visibility = 1.0;\n        float shadowAmount = 0.5;\n        float bias = 0.00005;\n\n        vec2 poissonDisk[16] = vec2[](\n            vec2(-0.94201624, -0.39906216),\n            vec2(0.94558609, -0.76890725),\n            vec2(-0.094184101, -0.92938870),\n            vec2(0.34495938, 0.29387760),\n            vec2(-0.91588581, 0.45771432),\n            vec2(-0.81544232, -0.87912464),\n            vec2(-0.38277543, 0.27676845),\n            vec2(0.97484398, 0.75648379),\n            vec2(0.44323325, -0.97511554),\n            vec2(0.53742981, -0.47373420),\n            vec2(-0.26496911, -0.41893023),\n            vec2(0.79197514, 0.19090188),\n            vec2(-0.24188840, 0.99706507),\n            vec2(-0.81409955, 0.91437590),\n            vec2(0.19984126, 0.78641367),\n            vec2(0.14383161, -0.14100790)\n        );\n\n        for (int i=0;i<16;i++){\n            if ( texture(shadowMap, uv + poissonDisk[i]/700.0).r < shadowCoord.z-bias ){\n                visibility -= 0.02;\n            }\n        }\n\n        return visibility;\n    }\n\n    "},fragment:function(){return"\n        // shadows\n        float shadow = 1.0;\n\n        // OPTION 1\n        shadow = hardShadow1(shadowMap);\n\n        base *= shadow;\n        "}};e.SHADOW=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.hexIntToRgb=a,e.hexStringToRgb=o,e.componentToHex=i,e.rgbToHex=function(t,e,n){var r=i(t),a=i(e),o=i(n);return"#"+r+a+o},e.convert=function(t){var e=r.vec3.create(),n="number"==typeof t?a(t):o(t);return r.vec3.copy(e,(i=n,r.vec3.fromValues(i[0]/255,i[1]/255,i[2]/255))),e;var i};var r=n(1);function a(t){var e=t>>16,n=t>>8&255,a=255&t;return r.vec3.fromValues(e,n,a)}function o(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?r.vec3.fromValues(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)):null}function i(t){var e=t.toString(16);return 1===e.length?"0"+e:e}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.fromValues=function(t,e,n,a){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=a,o},e.set=function(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t},e.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},e.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n*o-a*r;if(!i)return null;return i=1/i,t[0]=o*i,t[1]=-r*i,t[2]=-a*i,t[3]=n*i,t},e.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},e.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},e.multiply=a,e.rotate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+o*u,t[1]=a*s+i*u,t[2]=r*-u+o*s,t[3]=a*-u+i*s,t},e.scale=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=n[0],s=n[1];return t[0]=r*u,t[1]=a*u,t[2]=o*s,t[3]=i*s,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},e.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},e.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},e.subtract=o,e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=e[2],f=e[3];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-s)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-f)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))},e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t};var r=n(3);function a(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=n[0],s=n[1],c=n[2],f=n[3];return t[0]=r*u+o*s,t[1]=a*u+i*s,t[2]=r*c+o*f,t[3]=a*c+i*f,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}var i=a;e.mul=i;var u=o;e.sub=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.fromValues=function(t,e,n,a,o,i){var u=new r.ARRAY_TYPE(6);return u[0]=t,u[1]=e,u[2]=n,u[3]=a,u[4]=o,u[5]=i,u},e.set=function(t,e,n,r,a,o,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t},e.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=n*o-r*a;if(!s)return null;return s=1/s,t[0]=o*s,t[1]=-r*s,t[2]=-a*s,t[3]=n*s,t[4]=(a*u-o*i)*s,t[5]=(r*i-n*u)*s,t},e.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},e.multiply=a,e.rotate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=Math.sin(n),f=Math.cos(n);return t[0]=r*f+o*c,t[1]=a*f+i*c,t[2]=r*-c+o*f,t[3]=a*-c+i*f,t[4]=u,t[5]=s,t},e.scale=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=n[0],f=n[1];return t[0]=r*c,t[1]=a*c,t[2]=o*f,t[3]=i*f,t[4]=u,t[5]=s,t},e.translate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=n[0],f=n[1];return t[0]=r,t[1]=a,t[2]=o,t[3]=i,t[4]=r*c+o*f+u,t[5]=a*c+i*f+s,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},e.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},e.subtract=o,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},e.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=e[0],f=e[1],l=e[2],h=e[3],d=e[4],v=e[5];return Math.abs(n-c)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-h)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(u-d)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(s-v)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))};var r=n(3);function a(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=n[0],f=n[1],l=n[2],h=n[3],d=n[4],v=n[5];return t[0]=r*c+o*f,t[1]=a*c+i*f,t[2]=r*l+o*h,t[3]=a*l+i*h,t[4]=r*d+o*v+u,t[5]=a*d+i*v+s,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}var i=a;e.mul=i;var u=o;e.sub=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.fromValues=function(t,e,n,a,o,i,u,s,c,f,l,h,d,v,M,p){var m=new r.ARRAY_TYPE(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=a,m[4]=o,m[5]=i,m[6]=u,m[7]=s,m[8]=c,m[9]=f,m[10]=l,m[11]=h,m[12]=d,m[13]=v,m[14]=M,m[15]=p,m},e.set=function(t,e,n,r,a,o,i,u,s,c,f,l,h,d,v,M,p){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=s,t[8]=c,t[9]=f,t[10]=l,t[11]=h,t[12]=d,t[13]=v,t[14]=M,t[15]=p,t},e.identity=a,e.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],a=e[3],o=e[6],i=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=a,t[13]=i,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},e.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],v=e[12],M=e[13],p=e[14],m=e[15],b=n*u-r*i,g=n*s-a*i,y=n*c-o*i,_=r*s-a*u,E=r*c-o*u,x=a*c-o*s,P=f*M-l*v,O=f*p-h*v,w=f*m-d*v,T=l*p-h*M,A=l*m-d*M,R=h*m-d*p,S=b*R-g*A+y*T+_*w-E*O+x*P;if(!S)return null;return S=1/S,t[0]=(u*R-s*A+c*T)*S,t[1]=(a*A-r*R-o*T)*S,t[2]=(M*x-p*E+m*_)*S,t[3]=(h*E-l*x-d*_)*S,t[4]=(s*w-i*R-c*O)*S,t[5]=(n*R-a*w+o*O)*S,t[6]=(p*y-v*x-m*g)*S,t[7]=(f*x-h*y+d*g)*S,t[8]=(i*A-u*w+c*P)*S,t[9]=(r*w-n*A-o*P)*S,t[10]=(v*E-M*y+m*b)*S,t[11]=(l*y-f*E-d*b)*S,t[12]=(u*O-i*T-s*P)*S,t[13]=(n*T-r*O+a*P)*S,t[14]=(M*g-v*_-p*b)*S,t[15]=(f*_-l*g+h*b)*S,t},e.adjoint=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],v=e[12],M=e[13],p=e[14],m=e[15];return t[0]=u*(h*m-d*p)-l*(s*m-c*p)+M*(s*d-c*h),t[1]=-(r*(h*m-d*p)-l*(a*m-o*p)+M*(a*d-o*h)),t[2]=r*(s*m-c*p)-u*(a*m-o*p)+M*(a*c-o*s),t[3]=-(r*(s*d-c*h)-u*(a*d-o*h)+l*(a*c-o*s)),t[4]=-(i*(h*m-d*p)-f*(s*m-c*p)+v*(s*d-c*h)),t[5]=n*(h*m-d*p)-f*(a*m-o*p)+v*(a*d-o*h),t[6]=-(n*(s*m-c*p)-i*(a*m-o*p)+v*(a*c-o*s)),t[7]=n*(s*d-c*h)-i*(a*d-o*h)+f*(a*c-o*s),t[8]=i*(l*m-d*M)-f*(u*m-c*M)+v*(u*d-c*l),t[9]=-(n*(l*m-d*M)-f*(r*m-o*M)+v*(r*d-o*l)),t[10]=n*(u*m-c*M)-i*(r*m-o*M)+v*(r*c-o*u),t[11]=-(n*(u*d-c*l)-i*(r*d-o*l)+f*(r*c-o*u)),t[12]=-(i*(l*p-h*M)-f*(u*p-s*M)+v*(u*h-s*l)),t[13]=n*(l*p-h*M)-f*(r*p-a*M)+v*(r*h-a*l),t[14]=-(n*(u*p-s*M)-i*(r*p-a*M)+v*(r*s-a*u)),t[15]=n*(u*h-s*l)-i*(r*h-a*l)+f*(r*s-a*u),t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],a=t[3],o=t[4],i=t[5],u=t[6],s=t[7],c=t[8],f=t[9],l=t[10],h=t[11],d=t[12],v=t[13],M=t[14],p=t[15];return(e*i-n*o)*(l*p-h*M)-(e*u-r*o)*(f*p-h*v)+(e*s-a*o)*(f*M-l*v)+(n*u-r*i)*(c*p-h*d)-(n*s-a*i)*(c*M-l*d)+(r*s-a*u)*(c*v-f*d)},e.multiply=o,e.translate=function(t,e,n){var r=n[0],a=n[1],o=n[2],i=void 0,u=void 0,s=void 0,c=void 0,f=void 0,l=void 0,h=void 0,d=void 0,v=void 0,M=void 0,p=void 0,m=void 0;e===t?(t[12]=e[0]*r+e[4]*a+e[8]*o+e[12],t[13]=e[1]*r+e[5]*a+e[9]*o+e[13],t[14]=e[2]*r+e[6]*a+e[10]*o+e[14],t[15]=e[3]*r+e[7]*a+e[11]*o+e[15]):(i=e[0],u=e[1],s=e[2],c=e[3],f=e[4],l=e[5],h=e[6],d=e[7],v=e[8],M=e[9],p=e[10],m=e[11],t[0]=i,t[1]=u,t[2]=s,t[3]=c,t[4]=f,t[5]=l,t[6]=h,t[7]=d,t[8]=v,t[9]=M,t[10]=p,t[11]=m,t[12]=i*r+f*a+v*o+e[12],t[13]=u*r+l*a+M*o+e[13],t[14]=s*r+h*a+p*o+e[14],t[15]=c*r+d*a+m*o+e[15]);return t},e.scale=function(t,e,n){var r=n[0],a=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.rotate=function(t,e,n,a){var o=a[0],i=a[1],u=a[2],s=Math.sqrt(o*o+i*i+u*u),c=void 0,f=void 0,l=void 0,h=void 0,d=void 0,v=void 0,M=void 0,p=void 0,m=void 0,b=void 0,g=void 0,y=void 0,_=void 0,E=void 0,x=void 0,P=void 0,O=void 0,w=void 0,T=void 0,A=void 0,R=void 0,S=void 0,I=void 0,L=void 0;if(Math.abs(s)<r.EPSILON)return null;o*=s=1/s,i*=s,u*=s,c=Math.sin(n),f=Math.cos(n),l=1-f,h=e[0],d=e[1],v=e[2],M=e[3],p=e[4],m=e[5],b=e[6],g=e[7],y=e[8],_=e[9],E=e[10],x=e[11],P=o*o*l+f,O=i*o*l+u*c,w=u*o*l-i*c,T=o*i*l-u*c,A=i*i*l+f,R=u*i*l+o*c,S=o*u*l+i*c,I=i*u*l-o*c,L=u*u*l+f,t[0]=h*P+p*O+y*w,t[1]=d*P+m*O+_*w,t[2]=v*P+b*O+E*w,t[3]=M*P+g*O+x*w,t[4]=h*T+p*A+y*R,t[5]=d*T+m*A+_*R,t[6]=v*T+b*A+E*R,t[7]=M*T+g*A+x*R,t[8]=h*S+p*I+y*L,t[9]=d*S+m*I+_*L,t[10]=v*S+b*I+E*L,t[11]=M*S+g*I+x*L,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},e.rotateX=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),o=e[4],i=e[5],u=e[6],s=e[7],c=e[8],f=e[9],l=e[10],h=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=o*a+c*r,t[5]=i*a+f*r,t[6]=u*a+l*r,t[7]=s*a+h*r,t[8]=c*a-o*r,t[9]=f*a-i*r,t[10]=l*a-u*r,t[11]=h*a-s*r,t},e.rotateY=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),o=e[0],i=e[1],u=e[2],s=e[3],c=e[8],f=e[9],l=e[10],h=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*a-c*r,t[1]=i*a-f*r,t[2]=u*a-l*r,t[3]=s*a-h*r,t[8]=o*r+c*a,t[9]=i*r+f*a,t[10]=u*r+l*a,t[11]=s*r+h*a,t},e.rotateZ=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),o=e[0],i=e[1],u=e[2],s=e[3],c=e[4],f=e[5],l=e[6],h=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*a+c*r,t[1]=i*a+f*r,t[2]=u*a+l*r,t[3]=s*a+h*r,t[4]=c*a-o*r,t[5]=f*a-i*r,t[6]=l*a-u*r,t[7]=h*a-s*r,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotation=function(t,e,n){var a=n[0],o=n[1],i=n[2],u=Math.sqrt(a*a+o*o+i*i),s=void 0,c=void 0,f=void 0;if(Math.abs(u)<r.EPSILON)return null;return a*=u=1/u,o*=u,i*=u,s=Math.sin(e),c=Math.cos(e),f=1-c,t[0]=a*a*f+c,t[1]=o*a*f+i*s,t[2]=i*a*f-o*s,t[3]=0,t[4]=a*o*f-i*s,t[5]=o*o*f+c,t[6]=i*o*f+a*s,t[7]=0,t[8]=a*i*f+o*s,t[9]=o*i*f-a*s,t[10]=i*i*f+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotationTranslation=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=r+r,s=a+a,c=o+o,f=r*u,l=r*s,h=r*c,d=a*s,v=a*c,M=o*c,p=i*u,m=i*s,b=i*c;return t[0]=1-(d+M),t[1]=l+b,t[2]=h-m,t[3]=0,t[4]=l-b,t[5]=1-(f+M),t[6]=v+p,t[7]=0,t[8]=h+m,t[9]=v-p,t[10]=1-(f+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},e.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},e.getScaling=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[4],i=e[5],u=e[6],s=e[8],c=e[9],f=e[10];return t[0]=Math.sqrt(n*n+r*r+a*a),t[1]=Math.sqrt(o*o+i*i+u*u),t[2]=Math.sqrt(s*s+c*c+f*f),t},e.getRotation=function(t,e){var n=e[0]+e[5]+e[10],r=0;n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r);return t},e.fromRotationTranslationScale=function(t,e,n,r){var a=e[0],o=e[1],i=e[2],u=e[3],s=a+a,c=o+o,f=i+i,l=a*s,h=a*c,d=a*f,v=o*c,M=o*f,p=i*f,m=u*s,b=u*c,g=u*f,y=r[0],_=r[1],E=r[2];return t[0]=(1-(v+p))*y,t[1]=(h+g)*y,t[2]=(d-b)*y,t[3]=0,t[4]=(h-g)*_,t[5]=(1-(l+p))*_,t[6]=(M+m)*_,t[7]=0,t[8]=(d+b)*E,t[9]=(M-m)*E,t[10]=(1-(l+v))*E,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},e.fromRotationTranslationScaleOrigin=function(t,e,n,r,a){var o=e[0],i=e[1],u=e[2],s=e[3],c=o+o,f=i+i,l=u+u,h=o*c,d=o*f,v=o*l,M=i*f,p=i*l,m=u*l,b=s*c,g=s*f,y=s*l,_=r[0],E=r[1],x=r[2],P=a[0],O=a[1],w=a[2];return t[0]=(1-(M+m))*_,t[1]=(d+y)*_,t[2]=(v-g)*_,t[3]=0,t[4]=(d-y)*E,t[5]=(1-(h+m))*E,t[6]=(p+b)*E,t[7]=0,t[8]=(v+g)*x,t[9]=(p-b)*x,t[10]=(1-(h+M))*x,t[11]=0,t[12]=n[0]+P-(t[0]*P+t[4]*O+t[8]*w),t[13]=n[1]+O-(t[1]*P+t[5]*O+t[9]*w),t[14]=n[2]+w-(t[2]*P+t[6]*O+t[10]*w),t[15]=1,t},e.fromQuat=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n+n,u=r+r,s=a+a,c=n*i,f=r*i,l=r*u,h=a*i,d=a*u,v=a*s,M=o*i,p=o*u,m=o*s;return t[0]=1-l-v,t[1]=f+m,t[2]=h-p,t[3]=0,t[4]=f-m,t[5]=1-c-v,t[6]=d+M,t[7]=0,t[8]=h+p,t[9]=d-M,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.frustum=function(t,e,n,r,a,o,i){var u=1/(n-e),s=1/(a-r),c=1/(o-i);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(a+r)*s,t[10]=(i+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*o*2*c,t[15]=0,t},e.perspective=function(t,e,n,r,a){var o=1/Math.tan(e/2),i=1/(r-a);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+r)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*r*i,t[15]=0,t},e.perspectiveFromFieldOfView=function(t,e,n,r){var a=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),i=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),s=2/(i+u),c=2/(a+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(i-u)*s*.5,t[9]=(a-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},e.ortho=function(t,e,n,r,a,o,i){var u=1/(e-n),s=1/(r-a),c=1/(o-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*u,t[13]=(a+r)*s,t[14]=(i+o)*c,t[15]=1,t},e.lookAt=function(t,e,n,o){var i=void 0,u=void 0,s=void 0,c=void 0,f=void 0,l=void 0,h=void 0,d=void 0,v=void 0,M=void 0,p=e[0],m=e[1],b=e[2],g=o[0],y=o[1],_=o[2],E=n[0],x=n[1],P=n[2];if(Math.abs(p-E)<r.EPSILON&&Math.abs(m-x)<r.EPSILON&&Math.abs(b-P)<r.EPSILON)return a(t);h=p-E,d=m-x,v=b-P,M=1/Math.sqrt(h*h+d*d+v*v),i=y*(v*=M)-_*(d*=M),u=_*(h*=M)-g*v,s=g*d-y*h,(M=Math.sqrt(i*i+u*u+s*s))?(i*=M=1/M,u*=M,s*=M):(i=0,u=0,s=0);c=d*s-v*u,f=v*i-h*s,l=h*u-d*i,(M=Math.sqrt(c*c+f*f+l*l))?(c*=M=1/M,f*=M,l*=M):(c=0,f=0,l=0);return t[0]=i,t[1]=c,t[2]=h,t[3]=0,t[4]=u,t[5]=f,t[6]=d,t[7]=0,t[8]=s,t[9]=l,t[10]=v,t[11]=0,t[12]=-(i*p+u*m+s*b),t[13]=-(c*p+f*m+l*b),t[14]=-(h*p+d*m+v*b),t[15]=1,t},e.targetTo=function(t,e,n,r){var a=e[0],o=e[1],i=e[2],u=r[0],s=r[1],c=r[2],f=a-n[0],l=o-n[1],h=i-n[2],d=f*f+l*l+h*h;d>0&&(d=1/Math.sqrt(d),f*=d,l*=d,h*=d);var v=s*h-c*l,M=c*f-u*h,p=u*l-s*f;return t[0]=v,t[1]=M,t[2]=p,t[3]=0,t[4]=l*p-h*M,t[5]=h*v-f*p,t[6]=f*M-l*v,t[7]=0,t[8]=f,t[9]=l,t[10]=h,t[11]=0,t[12]=a,t[13]=o,t[14]=i,t[15]=1,t},e.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},e.subtract=i,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},e.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=t[9],d=t[10],v=t[11],M=t[12],p=t[13],m=t[14],b=t[15],g=e[0],y=e[1],_=e[2],E=e[3],x=e[4],P=e[5],O=e[6],w=e[7],T=e[8],A=e[9],R=e[10],S=e[11],I=e[12],L=e[13],N=e[14],C=e[15];return Math.abs(n-g)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(a-y)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(o-_)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(i-E)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(u-x)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(s-P)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(P))&&Math.abs(c-O)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(f-w)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(w))&&Math.abs(l-T)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(h-A)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(d-R)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(R))&&Math.abs(v-S)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(S))&&Math.abs(M-I)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(I))&&Math.abs(p-L)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(L))&&Math.abs(m-N)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(b-C)<=r.EPSILON*Math.max(1,Math.abs(b),Math.abs(C))};var r=n(3);function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function o(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],v=e[11],M=e[12],p=e[13],m=e[14],b=e[15],g=n[0],y=n[1],_=n[2],E=n[3];return t[0]=g*r+y*u+_*l+E*M,t[1]=g*a+y*s+_*h+E*p,t[2]=g*o+y*c+_*d+E*m,t[3]=g*i+y*f+_*v+E*b,g=n[4],y=n[5],_=n[6],E=n[7],t[4]=g*r+y*u+_*l+E*M,t[5]=g*a+y*s+_*h+E*p,t[6]=g*o+y*c+_*d+E*m,t[7]=g*i+y*f+_*v+E*b,g=n[8],y=n[9],_=n[10],E=n[11],t[8]=g*r+y*u+_*l+E*M,t[9]=g*a+y*s+_*h+E*p,t[10]=g*o+y*c+_*d+E*m,t[11]=g*i+y*f+_*v+E*b,g=n[12],y=n[13],_=n[14],E=n[15],t[12]=g*r+y*u+_*l+E*M,t[13]=g*a+y*s+_*h+E*p,t[14]=g*o+y*c+_*d+E*m,t[15]=g*i+y*f+_*v+E*b,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}var u=o;e.mul=u;var s=i;e.sub=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.create=u,e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},e.setAxisAngle=s,e.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0);return n},e.multiply=c,e.rotateX=function(t,e,n){n*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+i*u,t[1]=a*s+o*u,t[2]=o*s-a*u,t[3]=i*s-r*u,t},e.rotateY=function(t,e,n){n*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s-o*u,t[1]=a*s+i*u,t[2]=o*s+r*u,t[3]=i*s-a*u,t},e.rotateZ=function(t,e,n){n*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+a*u,t[1]=a*s-r*u,t[2]=o*s+i*u,t[3]=i*s-o*u,t},e.calculateW=function(t,e){var n=e[0],r=e[1],a=e[2];return t[0]=n,t[1]=r,t[2]=a,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),t},e.slerp=f,e.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n*n+r*r+a*a+o*o,u=i?1/i:0;return t[0]=-n*u,t[1]=-r*u,t[2]=-a*u,t[3]=o*u,t},e.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},e.fromMat3=l,e.fromEuler=function(t,e,n,r){var a=.5*Math.PI/180;e*=a,n*=a,r*=a;var o=Math.sin(e),i=Math.cos(e),u=Math.sin(n),s=Math.cos(n),c=Math.sin(r),f=Math.cos(r);return t[0]=o*s*f-i*u*c,t[1]=i*u*f+o*s*c,t[2]=i*s*c-o*u*f,t[3]=i*s*f+o*u*c,t},e.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"};var r=n(3),a=n(13),o=n(14),i=n(15);function u(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function s(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function c(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=n[0],s=n[1],c=n[2],f=n[3];return t[0]=r*f+i*u+a*c-o*s,t[1]=a*f+i*s+o*u-r*c,t[2]=o*f+i*c+r*s-a*u,t[3]=i*f-r*u-a*s-o*c,t}function f(t,e,n,r){var a=e[0],o=e[1],i=e[2],u=e[3],s=n[0],c=n[1],f=n[2],l=n[3],h=void 0,d=void 0,v=void 0,M=void 0,p=void 0;return(d=a*s+o*c+i*f+u*l)<0&&(d=-d,s=-s,c=-c,f=-f,l=-l),1-d>1e-6?(h=Math.acos(d),v=Math.sin(h),M=Math.sin((1-r)*h)/v,p=Math.sin(r*h)/v):(M=1-r,p=r),t[0]=M*a+p*s,t[1]=M*o+p*c,t[2]=M*i+p*f,t[3]=M*u+p*l,t}function l(t,e){var n=e[0]+e[4]+e[8],r=void 0;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var o=(a+1)%3,i=(a+2)%3;r=Math.sqrt(e[3*a+a]-e[3*o+o]-e[3*i+i]+1),t[a]=.5*r,r=.5/r,t[3]=(e[3*o+i]-e[3*i+o])*r,t[o]=(e[3*o+a]+e[3*a+o])*r,t[i]=(e[3*i+a]+e[3*a+i])*r}return t}var h=i.clone;e.clone=h;var d=i.fromValues;e.fromValues=d;var v=i.copy;e.copy=v;var M=i.set;e.set=M;var p=i.add;e.add=p;var m=c;e.mul=m;var b=i.scale;e.scale=b;var g=i.dot;e.dot=g;var y=i.lerp;e.lerp=y;var _=i.length;e.length=_;var E=_;e.len=E;var x=i.squaredLength;e.squaredLength=x;var P=x;e.sqrLen=P;var O=i.normalize;e.normalize=O;var w=i.exactEquals;e.exactEquals=w;var T=i.equals;e.equals=T;var A,R,S,I=(A=o.create(),R=o.fromValues(1,0,0),S=o.fromValues(0,1,0),function(t,e,n){var r=o.dot(e,n);return r<-.999999?(o.cross(A,R,e),o.len(A)<1e-6&&o.cross(A,S,e),o.normalize(A,A),s(t,A,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(o.cross(A,e,n),t[0]=A[0],t[1]=A[1],t[2]=A[2],t[3]=1+r,O(t,t))});e.rotationTo=I;var L,N,C=(L=u(),N=u(),function(t,e,n,r,a,o){return f(L,e,a,o),f(N,n,r,o),f(t,L,N,2*o*(1-o)),t});e.sqlerp=C;var j,D=(j=a.create(),function(t,e,n,r){return j[0]=n[0],j[3]=n[1],j[6]=n[2],j[1]=r[0],j[4]=r[1],j[7]=r[2],j[2]=-e[0],j[5]=-e[1],j[8]=-e[2],O(t,l(t,j))});e.setAxes=D},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.create=a,e.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=o,e.multiply=i,e.divide=u,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.distance=s,e.squaredDistance=c,e.length=f,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],r=e[1],a=n*n+r*r;a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a);return t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},e.lerp=function(t,e,n,r){var a=e[0],o=e[1];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t},e.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a,t[1]=n[1]*r+n[3]*a,t},e.transformMat2d=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a+n[4],t[1]=n[1]*r+n[3]*a+n[5],t},e.transformMat3=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[3]*a+n[6],t[1]=n[1]*r+n[4]*a+n[7],t},e.transformMat4=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[4]*a+n[12],t[1]=n[1]*r+n[5]*a+n[13],t},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var n=t[0],a=t[1],o=e[0],i=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-i)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))};var r=n(3);function a(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function i(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function u(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function s(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function f(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function l(t){var e=t[0],n=t[1];return e*e+n*n}var h=f;e.len=h;var d=o;e.sub=d;var v=i;e.mul=v;var M=u;e.div=M;var p=s;e.dist=p;var m=c;e.sqrDist=m;var b=l;e.sqrLen=b;var g,y=(g=a(),function(t,e,n,r,a,o){var i=void 0,u=void 0;for(e||(e=2),n||(n=0),u=r?Math.min(r*e+n,t.length):t.length,i=n;i<u;i+=e)g[0]=t[i],g[1]=t[i+1],a(g,g,o),t[i]=g[0],t[i+1]=g[1];return t});e.forEach=y},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.randomRange=function(t,e){return Math.random()*(e-t)+t},e.mod=function(t,e){return(t%e+e)%e}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,r.getContextType)()===a.CONTEXT.WEBGL2)return t;return("vertex"===e?f:l).forEach(function(e){t="function"==typeof e.replace?e.replace(t):t.replace(e.match,e.replace)}),t};var r=n(2),a=n(0),o=function(t){return new RegExp("\\b"+t+"\\b","gi")},i=function(t){return new RegExp(""+t,"gi")},u=[{match:o("in"),replace:"attribute"},{match:o("out"),replace:"varying"}],s=[{match:o("in"),replace:"varying"},{match:i("out vec4 outColor;"),replace:""},{match:o("outColor"),replace:"gl_FragColor"},{match:o("textureProj"),replace:"texture2DProj"},{match:o("texture"),replace:function(t){var e=new RegExp("\\btexture\\b","gi"),n=new RegExp("\\btexture\\b","i"),r=new RegExp(/texture\(([^)]+)\)/,"i"),a=t.match(e),o="";if(null===a)return t;var i=!0,u=!1,s=void 0;try{for(var c,f=a[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){c.value;var l=t.match(r)[0];if(l){var h=l.replace("texture(","").split(",")[0],d=t.match("(.*?) "+h,"i")[1].replace(/^\s+|\s+$/gm,"");switch(d=d.split(" ")[1]){case"sampler2D":o="texture2D";break;case"samplerCube":o="textureCube"}}t=t.replace(n,o)}}catch(t){u=!0,s=t}finally{try{!i&&f.return&&f.return()}finally{if(u)throw s}}return t}}],c=[{match:i("#version 300 es"),replace:""}],f=[].concat(c,u),l=[].concat(c,s)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1);var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=a.vec3.fromValues(e,n,r)}return r(t,[{key:"set",value:function(t,e,n){this.x=t,this.y=e,this.z=n}},{key:"x",set:function(t){this.data[0]=t},get:function(){return this.data[0]}},{key:"y",set:function(t){this.data[1]=t},get:function(){return this.data[1]}},{key:"z",set:function(t){this.data[2]=t},get:function(){return this.data[2]}}]),t}();e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=n(4),o=n(0);e.default=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.color||r.vec3.fromValues(1,1,1),i="#version 300 es\n            "+a.EXTENSIONS.vertex()+"\n\n            in vec3 a_position;\n\n            "+a.UBO.scene()+"\n            "+a.UBO.model()+"\n\n            void main() {\n                gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(a_position, 1.0);\n            }\n        ",u="#version 300 es\n            "+a.EXTENSIONS.fragment()+"\n\n            precision highp float;\n            precision highp int;\n\n            "+a.UBO.scene()+"\n\n            uniform vec3 u_color;\n\n            out vec4 outColor;\n\n            void main() {\n                vec4 base = vec4(u_color, 1.0);\n\n                "+a.FOG.linear()+"\n\n                outColor = base;\n            }\n        ";return Object.assign({type:o.SHADER_BASIC,mode:!0===e.wireframe?o.DRAW.LINES:o.DRAW.TRIANGLES},{vertex:i,fragment:u,uniforms:{u_color:{type:"vec3",value:n}}})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,a=n(1),o=n(9),i=(r=o)&&r.__esModule?r:{default:r},u=n(4),s=n(0);e.default=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.color||a.vec3.fromValues(1,1,1);this.map=new i.default({transparent:!0}),e.map&&this.map.fromImage(e.map),e.texture&&(this.map=e.texture);var r="#version 300 es\n            "+u.EXTENSIONS.vertex()+"\n\n            in vec3 a_position;\n            in vec3 a_normal;\n            in vec2 a_uv;\n\n            "+u.UBO.scene()+"\n            "+u.UBO.model()+"\n            "+u.CLIPPING.vertex_pre()+"\n            "+u.SHADOW.vertex_pre()+"\n\n            out vec3 fragVertexEc;\n            out vec2 v_uv;\n            out vec3 v_normal;\n\n            void main() {\n                vec4 worldPosition = modelMatrix * vec4(a_position, 1.0);\n                vec4 position = projectionMatrix * viewMatrix * worldPosition;\n                gl_Position = position;\n\n                fragVertexEc = position.xyz; // worldPosition.xyz;\n                v_uv = a_uv;\n                v_normal = (normalMatrix * vec4(a_normal, 1.0)).xyz;\n\n                "+u.SHADOW.vertex()+"\n                "+u.CLIPPING.vertex()+"\n            }\n        ",o="#version 300 es\n            "+u.EXTENSIONS.fragment()+"\n\n            precision highp float;\n            precision highp int;\n\n            in vec3 fragVertexEc;\n            in vec2 v_uv;\n            in vec3 v_normal;\n\n            "+u.CLIPPING.fragment_pre()+"\n\n            "+u.UBO.scene()+"\n            "+u.UBO.model()+"\n            "+u.UBO.lights()+"\n\n            uniform sampler2D u_map;\n            uniform vec3 u_color;\n\n            "+u.SHADOW.fragment_pre()+"\n\n            out vec4 outColor;\n\n            void main() {\n                vec3 v_normal = normalize(cross(dFdx(fragVertexEc), dFdy(fragVertexEc)));\n\n                vec4 base = vec4(0.0, 0.0, 0.0, 1.0);\n                base += vec4(u_color, 1.0);\n                base *= texture(u_map, v_uv);\n\n                "+u.SHADOW.fragment()+"\n                "+u.LIGHT.factory()+"\n                "+u.FOG.linear()+"\n                "+u.CLIPPING.fragment()+"\n\n                outColor = base;\n            }\n        ";return Object.assign({type:s.SHADER_DEFAULT,mode:!0===e.wireframe?s.DRAW.LINES:s.DRAW.TRIANGLES},{vertex:r,fragment:o,uniforms:{u_map:{type:"sampler2D",value:this.map.texture},u_color:{type:"vec3",value:n}}})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,a=n(9),o=(r=a)&&r.__esModule?r:{default:r},i=n(4),u=n(0);e.default=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map=new o.default,e.map&&this.map.fromImage(e.map),e.texture&&(this.map=e.texture);var n="#version 300 es\n            "+i.EXTENSIONS.vertex()+"\n\n            in vec3 a_position;\n            in vec2 a_uv;\n\n            "+i.UBO.scene()+"\n            "+i.UBO.model()+"\n\n            out vec2 v_uv;\n\n            void main() {\n                gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(a_position, 1.0);\n                v_uv = a_uv;\n            }\n        ",r="#version 300 es\n            "+i.EXTENSIONS.fragment()+"\n\n            precision highp float;\n            precision highp int;\n\n            in vec2 v_uv;\n\n            "+i.UBO.scene()+"\n\n            uniform sampler2D u_map;\n\n            out vec4 outColor;\n\n            void main() {\n                // depth map\n                float z = texture(u_map, v_uv).r;\n                float n = 1.0;\n                float f = 1000.0;\n                float c = (2.0 * n) / (f + n - z * (f - n));\n\n                // draw depth\n                outColor = vec4(c);\n            }\n        ";return Object.assign({type:u.SHADER_BILLBOARD,mode:u.DRAW.TRIANGLES},{vertex:n,fragment:r,uniforms:{u_map:{type:"sampler2D",value:this.map.texture}}})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Normals=e.Axis=void 0;var r=o(n(44)),a=o(n(50));function o(t){return t&&t.__esModule?t:{default:t}}e.Axis=r.default,e.Normals=a.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=s(n(7)),o=s(n(8)),u=n(6);function s(t){return t&&t.__esModule?t:{default:t}}function c(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var f=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":i(e))&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),o=t&&t.size||10,s={positions:[].concat(c(r.vec3.fromValues(0,0,0)),c(r.vec3.fromValues(o,0,0)))},f={positions:[].concat(c(r.vec3.fromValues(0,0,0)),c(r.vec3.fromValues(0,o,0)))},l={positions:[].concat(c(r.vec3.fromValues(0,0,0)),c(r.vec3.fromValues(0,0,o)))},h=new u.Basic({color:r.vec3.fromValues(1,0,0),wireframe:!0}),d=new u.Basic({color:r.vec3.fromValues(0,1,0),wireframe:!0}),v=new u.Basic({color:r.vec3.fromValues(0,0,1),wireframe:!0}),M=new a.default({geometry:s,shader:h});n.add(M);var p=new a.default({geometry:f,shader:d});n.add(p);var m=new a.default({geometry:l,shader:v});return n.add(m),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":i(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();e.default=f},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2);var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=(0,a.getContext)();this.boundLocation=n,this.data=new Float32Array(e),this.buffer=r.createBuffer(),r.bindBuffer(r.UNIFORM_BUFFER,this.buffer),r.bufferData(r.UNIFORM_BUFFER,this.data,r.STATIC_DRAW),r.bindBuffer(r.UNIFORM_BUFFER,null)}return r(t,[{key:"bind",value:function(){var t=(0,a.getContext)();t.bindBufferBase(t.UNIFORM_BUFFER,this.boundLocation,this.buffer)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,a.getContext)();this.data.set(t,e),n.bindBuffer(n.UNIFORM_BUFFER,this.buffer),n.bufferSubData(n.UNIFORM_BUFFER,0,this.data,0,null),n.bindBuffer(n.UNIFORM_BUFFER,null)}}]),t}();e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),o=n(0);var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=(0,a.getContext)(),n=(0,a.supports)().vertexArrayObject;(0,a.getContextType)()===o.CONTEXT.WEBGL2?(this.vao=e.createVertexArray(),e.bindVertexArray(this.vao)):n&&(this.vao=(0,a.supports)().vertexArrayObject.createVertexArrayOES(),n.bindVertexArrayOES(this.vao))}return r(t,[{key:"bind",value:function(){var t=(0,a.getContext)(),e=(0,a.supports)().vertexArrayObject;(0,a.getContextType)()===o.CONTEXT.WEBGL2?t.bindVertexArray(this.vao):e&&e.bindVertexArrayOES(this.vao)}},{key:"unbind",value:function(){var t=(0,a.getContext)(),e=(0,a.supports)().vertexArrayObject;(0,a.getContextType)()===o.CONTEXT.WEBGL2?t.bindVertexArray(null):e&&e.bindVertexArrayOES(null)}},{key:"destroy",value:function(){var t=(0,a.getContext)(),e=(0,a.supports)().vertexArrayObject;(0,a.getContextType)()===o.CONTEXT.WEBGL2?t.deleteVertexArray(this.vao):e&&e.deleteVertexArrayOES(this.vao),this.vao=null}}]),t}();e.default=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});e.getTypeSize=function(t){switch(t){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":case"mat2":return 4;case"mat3":return 9;case"mat4":return 16;default:throw new Error('"'+t+'" is an unknown type')}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.updateAttributes=e.bindAttributes=e.initAttributes=void 0;var r=n(2),a=n(0);e.initAttributes=function(t,e){var n=(0,r.getContext)();for(var a in t){var o=t[a],i=n.getAttribLocation(e,a),u=o.buffer;o.buffer||(u=n.createBuffer()),n.bindBuffer(n.ARRAY_BUFFER,u),n.bufferData(n.ARRAY_BUFFER,o.value,n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),Object.assign(o,{location:i,buffer:u})}},e.bindAttributes=function(t){var e=(0,r.getContext)();Object.keys(t).forEach(function(n){var o=t[n],i=o.location,u=o.buffer,s=o.size,c=o.instanced;if(-1!==i){e.bindBuffer(e.ARRAY_BUFFER,u),e.vertexAttribPointer(i,s,e.FLOAT,!1,0,0),e.enableVertexAttribArray(i);var f=c?1:0;(0,r.getContextType)()===a.CONTEXT.WEBGL2?e.vertexAttribDivisor(i,f):(0,r.supports)().instancedArrays.vertexAttribDivisorANGLE(i,f),e.bindBuffer(e.ARRAY_BUFFER,null)}})},e.updateAttributes=function(t){var e=(0,r.getContext)();Object.keys(t).forEach(function(n){var r=t[n],a=r.location,o=r.buffer,i=r.value;-1!==a&&(e.enableVertexAttribArray(a),e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,i,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null))})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.updateUniforms=e.initUniforms=void 0;var r=n(2);e.initUniforms=function(t,e){var n=(0,r.getContext)(),a=[n.TEXTURE0,n.TEXTURE1,n.TEXTURE2,n.TEXTURE3,n.TEXTURE4,n.TEXTURE5],o=0;Object.keys(t).forEach(function(r){var i=t[r],u=n.getUniformLocation(e,r);Object.assign(i,{location:u}),"sampler2D"===i.type&&(i.textureIndex=o,i.activeTexture=a[o],o++)})},e.updateUniforms=function(t){var e=(0,r.getContext)();Object.keys(t).forEach(function(n){var r=t[n];switch(r.type){case"mat4":e.uniformMatrix4fv(r.location,!1,r.value);break;case"mat3":e.uniformMatrix3fv(r.location,!1,r.value);break;case"vec4":e.uniform4fv(r.location,r.value);break;case"vec3":e.uniform3fv(r.location,r.value);break;case"vec2":e.uniform2fv(r.location,r.value);break;case"float":e.uniform1f(r.location,r.value);break;case"sampler2D":e.activeTexture(r.activeTexture),e.bindTexture(e.TEXTURE_2D,r.value),e.uniform1i(r.location,r.textureIndex);break;default:throw new Error('"'+r.type+'" is an unknown uniform type')}})}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),o=c(n(7)),u=c(n(8)),s=n(6);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":i(e))&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),r=t&&t.size||1,u={positions:[]},c=t.model.scale.x,f=t.model.scale.y,l=t.model.scale.z,h=t.model.attributes.a_normal.value.length/3,d=0;d<h;d++){var v=3*d,M=c*t.model.attributes.a_position.value[v+0],p=f*t.model.attributes.a_position.value[v+1],m=l*t.model.attributes.a_position.value[v+2],b=M+r*t.model.attributes.a_normal.value[v+0],g=p+r*t.model.attributes.a_normal.value[v+1],y=m+r*t.model.attributes.a_normal.value[v+2];u.positions=u.positions.concat([M,p,m,b,g,y])}var _=new s.Basic({color:a.vec3.fromValues(0,1,1),wireframe:!0}),E=new o.default({geometry:u,shader:_});return n.add(E),n.reference=t.model,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":i(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),r(e,[{key:"update",value:function(){(function t(e,n,r){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(void 0===a){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this),a.vec3.copy(this.position.data,this.reference.position.data),a.vec3.copy(this.rotation.data,this.reference.rotation.data),this.lookToTarget=this.reference.lookToTarget}}]),e}();e.default=f},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":i(window))&&(n=window)}t.exports=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.resize=function(t,e,n,r){t.width=e*r,t.height=n*r,t.style.width=e+"px",t.style.height=n+"px"},e.unsupported=function(){var t=document.createElement("div");return t.innerHTML='Your browser doesn\'t support WebGL.<br><a href="https://get.webgl.org">Get WebGL</a>',t.style.display="table",t.style.margin="20px auto 0 auto",t.style.border="1px solid #333",t.style.backgroundColor="rgba(255, 255, 255, 0.1)",t.style.borderRadius="4px",t.style.padding="10px",t.style.fontFamily="monospace",t.style.fontSize="12px",t.style.textAlign="center",t}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Directional=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),o=n(0);function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(){u(this,t),this.position=a.vec3.create()}return r(t,[{key:"destroy",value:function(){}}]),t}(),c=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":i(e))&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.type=o.DIRECTIONAL_LIGHT,n.color=t.color||a.vec3.fromValues(1,1,1),n.intensity=t.intensity||.989,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":i(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s),e}();e.Directional=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),o=s(n(11)),i=s(n(18)),u=s(n(17));function s(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=e.width||1024,this.height=e.height||1024;var n=this.width,r=this.height;this.rt=new o.default({width:n,height:r}),this.matrices={view:a.mat4.create(),shadow:a.mat4.create(),bias:a.mat4.fromValues(.5,0,0,0,0,.5,0,0,0,0,.5,0,.5,.5,.5,1)},this.camera=new i.default({fov:60,near:1,far:1e3}),this.camera=new u.default,this.camera.position.z=1,this.setLightOrigin(e.light||a.vec3.fromValues(100,250,500))}return r(t,[{key:"setLightOrigin",value:function(t){a.vec3.copy(this.camera.position.data,t),a.mat4.identity(this.matrices.view),a.mat4.lookAt(this.matrices.view,this.camera.position.data,this.camera.target,this.camera.up),a.mat4.identity(this.matrices.shadow),a.mat4.multiply(this.matrices.shadow,this.camera.matrices.projection,this.matrices.view),a.mat4.multiply(this.matrices.shadow,this.matrices.bias,this.matrices.shadow)}}]),t}();e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),o=n(16),i=f(n(21)),u=f(n(11)),s=f(n(22)),c=n(56);function f(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.renderer=new i.default(e),this.domElement=this.renderer.domElement,this.camera=new o.Orthographic,this.camera.position.z=100,this.passes=[],this.clearColor=a.vec4.fromValues(0,0,0,1),this.screen=new s.default(c.Basic),this.screen.compile(),this.buffers=[new u.default,new u.default],this.read=this.buffers[1],this.write=this.buffers[0]}return r(t,[{key:"setSize",value:function(t,e){this.renderer.setSize(t,e),this.read.setSize(t,e),this.write.setSize(t,e)}},{key:"setRatio",value:function(t){this.renderer.setRatio(t)}},{key:"pass",value:function(t){this.passes.push(t)}},{key:"compile",value:function(){for(var t=0;t<this.passes.length;t++)this.passes[t].compile()}},{key:"renderToTexture",value:function(t,e,n){this.renderer.rtt({renderTarget:t,scene:e,camera:n,clearColor:this.clearColor})}},{key:"resetBuffers",value:function(){this.read=this.buffers[1],this.write=this.buffers[0]}},{key:"swapBuffers",value:function(){this.temp=this.read,this.read=this.write,this.write=this.temp}},{key:"render",value:function(t,e){this.resetBuffers(),this.renderToTexture(this.write,t,e);for(var n=this.passes.length,r=0;r<n;r++)this.passes[r].enable&&(this.swapBuffers(),this.passes[r].setUniform("u_input",this.read.texture),this.renderToTexture(this.write,this.passes[r].scene,this.camera));this.screen.setUniform("u_input",this.write.texture),this.renderer.render(this.screen.scene,this.camera)}}]),t}();e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.Basic=void 0;var r,a=n(57),o=(r=a)&&r.__esModule?r:{default:r};e.Basic=o.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});e.default={uniforms:{u_input:{type:"sampler2D",value:null}},vertex:"\n    out vec2 v_uv;\n    void main() {\n        gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(a_position, 1.0);\n        v_uv = a_uv;\n    }",fragment:"\n    in vec2 v_uv;\n\n    uniform sampler2D u_input;\n\n    void main() {\n        outColor = texture(u_input, v_uv);\n    }"}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.theme=e.theme||{font:"font-family:sans-serif;font-size:xx-small;font-weight:bold;line-height:15px;-moz-osx-font-smoothing: grayscale;-webkit-font-smoothing: antialiased;",color1:"#242424",color2:"#2a2a2a",color3:"#666",color4:"#999"};var n=document.createElement("div");n.style.cssText="position:fixed;bottom:0;left:0;min-width:80px;opacity:0.9;z-index:10000;",this.holder=document.createElement("div"),this.holder.style.cssText="padding:3px;background-color:"+this.theme.color1+";",n.appendChild(this.holder);var r=document.createElement("div");r.style.cssText=this.theme.font+";color:"+this.theme.color3+";",r.innerHTML="Performance",this.holder.appendChild(r),this.msTexts=[],this.domElement=n}return r(t,[{key:"rebuild",value:function(t){var e=this;this.msTexts=[],Object.keys(t).forEach(function(t){var n=document.createElement("div");n.style.cssText=e.theme.font+";color:"+e.theme.color4+";background-color:"+e.theme.color2+";",e.holder.appendChild(n),e.msTexts[t]=n})}},{key:"update",value:function(t){var e=this;Object.keys(this.msTexts).length!==Object.keys(t.performance).length&&this.rebuild(t.performance),Object.keys(t.performance).forEach(function(n){e.msTexts[n].textContent=n+": "+t.performance[n]})}}]),t}();e.default=a}])},"object"===i(e)&&"object"===i(t)?t.exports=o():(r=[],void 0===(a="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=a))}).call(e,n(1)(t))},function(t,e,n){"use strict";(function(t){var n,r,a,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"undefined"!=typeof self&&self,o=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ARRAY_TYPE",function(){return a}),e.setMatrixArrayType=function(t){a=t},e.toRadian=function(t){return t*i},e.equals=function(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))};var r=1e-6;e.EPSILON=r;var a="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;e.RANDOM=o;var i=Math.PI/180},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(3);var o=function(){function t(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=[],u={faces:(0,a.unflatten)(n,3),positions:(0,a.unflatten)(e,3)},s=Math.min(o,4);s-- >0;)u=this.subdivide(u);for(var c=0;c<u.positions.length;c++){var f=this.normalize(u.positions[c]),l=.5*(-Math.atan2(f[2],-f[0])/Math.PI+1),h=.5+Math.asin(f[1])/Math.PI;i.push([1-l,1-h])}e=u.positions;for(var d=0;d<e.length;d++)this.scale(e[d],r);var v={positions:(0,a.flatten)(u.positions),indices:(0,a.flatten)(u.faces),normals:null,uvs:(0,a.flatten)(i,2)};this.geometry={positions:v.positions,indices:v.indices,normals:(0,a.generateVertexNormals)(v.positions,v.indices),uvs:(0,a.flatten)(i,2)}}return r(t,[{key:"fixPoleUVs",value:function(t,e,n){var r=this.firstYIndex(t,1),a=this.firstYIndex(t,-1);if(-1!==r&&-1!==a){for(var o=t.slice(),i=n.slice(),u=o.length-1,s=0;s<e.length;s++){var c=e[s],f=c[0],l=c[1],h=c[2];f===r?d(c,r,l,h):f===a&&d(c,a,l,h)}t=o,n=i}function d(e,r,a,s){var c=n[a],f=n[s];n[r][0]=(c[0]+f[0])/2,u++,o.push(t[r].slice()),i.push(n[r].slice()),e[0]=u}}},{key:"firstYIndex",value:function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(Math.abs(r[1]-e)<=1e-4)return n}return-1}},{key:"normalize",value:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]*t[n];if(0===(e=Math.sqrt(e)))return Array.apply(null,new Array(t.length)).map(Number.prototype.valueOf,0);for(var r=0;r<t.length;r++)t[r]/=e;return t}},{key:"scale",value:function(t,e){for(var n=0;n<t.length;n++)t[n]*=e;return t}},{key:"subdivide",value:function(t){var e=t.positions,n=t.faces,r=[],a=[],o={},i=0;function u(t,e){var n=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2,(t[2]+e[2])/2]}(t,e),r=function(t){return t[0].toPrecision(6)+","+t[1].toPrecision(6)+","+t[2].toPrecision(6)}(n),a=o[r];return a||(o[r]=n,o[r])}for(var s=0;s<n.length;s++){var c=n[s],f=c[0],l=c[1],h=c[2],d=e[f],v=e[l],M=e[h],p=u(d,v),m=u(v,M),b=u(M,d),g=a.indexOf(p);-1===g&&(g=i++,a.push(p));var y=a.indexOf(m);-1===y&&(y=i++,a.push(m));var _=a.indexOf(b);-1===_&&(_=i++,a.push(b));var E=a.indexOf(d);-1===E&&(E=i++,a.push(d));var x=a.indexOf(v);-1===x&&(x=i++,a.push(v));var P=a.indexOf(M);-1===P&&(P=i++,a.push(M)),r.push([E,g,_]),r.push([x,y,g]),r.push([P,_,y]),r.push([g,y,_])}return{faces:r,positions:a}}}]),t}();e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=n(8),o=n(9),i=n(4),u=n(10),s=n(11),c=n(12),f=n(5),l=n(6);n.d(e,"glMatrix",function(){return r}),n.d(e,"mat2",function(){return a}),n.d(e,"mat2d",function(){return o}),n.d(e,"mat3",function(){return i}),n.d(e,"mat4",function(){return u}),n.d(e,"quat",function(){return s}),n.d(e,"vec2",function(){return c}),n.d(e,"vec3",function(){return f}),n.d(e,"vec4",function(){return l})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.flatten=a,e.unflatten=o,e.generateVertexNormals=i,e.mergeVertices=function(t){for(var e=o(t.positions,3),n={},r=[],u=[],s=Math.pow(10,4),c=0;c<e.length;c++){var f=e[c],l="\n            "+Math.round(f[0]*s)+"_\n            "+Math.round(f[1]*s)+"_\n            "+Math.round(f[2]*s)+"\n        ";void 0===n[l]?(n[l]=c,r.push(e[c]),u[c]=r.length-1):u[c]=u[n[l]]}for(var h=[],d=o(t.indices,3),v=0;v<d.length;v++){var M=d[v];M[0]=u[M[0]],M[1]=u[M[1]],M[2]=u[M[2]];for(var p=[M[0],M[1],M[2]],m=0;m<3;m++)if(p[m]===p[(m+1)%3]){h.push(v);break}}for(var b=h.length-1;b>=0;b--){var g=h[b];d.splice(g,1);for(var y=0;y<this.faceVertexUvs.length;y++)this.faceVertexUvs[y].splice(g,1)}var _=a(r),E=a(d);return{positions:new Float32Array(_),indices:new Uint16Array(E),normals:new Float32Array(i(_,E))}};var r=n(2);function a(t){for(var e=[],n=0;n<t.length;n++)Array.isArray(t[n])||t[n]instanceof Float32Array?e=e.concat(a(t[n])):e.push(t[n]);return e}function o(t,e){for(var n=[],r=0;r<t.length;r+=e){for(var a=[],o=0;o<e;o++)a.push(t[r+o]);n.push(a)}return n}function i(t,e){for(var n=o(e,3),i=o(t,3),u=[],s=r.vec3.create(),c=r.vec3.create(),f=r.vec3.create(),l=void 0,h=void 0,d=void 0,v=0;v<n.length;v++){var M=n[v],p=M[0],m=M[1],b=M[2];l=i[p],h=i[m],d=i[b],r.vec3.subtract(s,d,h),r.vec3.subtract(c,l,h),r.vec3.cross(f,s,c),void 0===u[p]&&(u[p]=r.vec3.create()),void 0===u[m]&&(u[m]=r.vec3.create()),void 0===u[b]&&(u[b]=r.vec3.create()),r.vec3.add(u[p],u[p],f),r.vec3.add(u[m],u[m],f),r.vec3.add(u[b],u[b],f)}for(var g=0;g<u.length;g++)r.vec3.normalize(u[g],u[g]);return a(u)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,a,o,i,u,s,c){var f=new r.ARRAY_TYPE(9);return f[0]=t,f[1]=e,f[2]=n,f[3]=a,f[4]=o,f[5]=i,f[6]=u,f[7]=s,f[8]=c,f},e.set=function(t,e,n,r,a,o,i,u,s,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=s,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=f*i-u*c,h=-f*o+u*s,d=c*o-i*s,v=n*l+r*h+a*d;if(!v)return null;return v=1/v,t[0]=l*v,t[1]=(-f*r+a*c)*v,t[2]=(u*r-a*i)*v,t[3]=h*v,t[4]=(f*n-a*s)*v,t[5]=(-u*n+a*o)*v,t[6]=d*v,t[7]=(-c*n+r*s)*v,t[8]=(i*n-r*o)*v,t},e.adjoint=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8];return t[0]=i*f-u*c,t[1]=a*c-r*f,t[2]=r*u-a*i,t[3]=u*s-o*f,t[4]=n*f-a*s,t[5]=a*o-n*u,t[6]=o*c-i*s,t[7]=r*s-n*c,t[8]=n*i-r*o,t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],a=t[3],o=t[4],i=t[5],u=t[6],s=t[7],c=t[8];return e*(c*o-i*s)+n*(-c*a+i*u)+r*(s*a-o*u)},e.multiply=a,e.translate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],d=n[1];return t[0]=r,t[1]=a,t[2]=o,t[3]=i,t[4]=u,t[5]=s,t[6]=h*r+d*i+c,t[7]=h*a+d*u+f,t[8]=h*o+d*s+l,t},e.rotate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=Math.sin(n),d=Math.cos(n);return t[0]=d*r+h*i,t[1]=d*a+h*u,t[2]=d*o+h*s,t[3]=d*i-h*r,t[4]=d*u-h*a,t[5]=d*s-h*o,t[6]=c,t[7]=f,t[8]=l,t},e.scale=function(t,e,n){var r=n[0],a=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n+n,u=r+r,s=a+a,c=n*i,f=r*i,l=r*u,h=a*i,d=a*u,v=a*s,M=o*i,p=o*u,m=o*s;return t[0]=1-l-v,t[3]=f-m,t[6]=h+p,t[1]=f+m,t[4]=1-c-v,t[7]=d-M,t[2]=h-p,t[5]=d+M,t[8]=1-c-l,t},e.normalFromMat4=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],v=e[12],M=e[13],p=e[14],m=e[15],b=n*u-r*i,g=n*s-a*i,y=n*c-o*i,_=r*s-a*u,E=r*c-o*u,x=a*c-o*s,P=f*M-l*v,O=f*p-h*v,w=f*m-d*v,T=l*p-h*M,A=l*m-d*M,R=h*m-d*p,S=b*R-g*A+y*T+_*w-E*O+x*P;if(!S)return null;return S=1/S,t[0]=(u*R-s*A+c*T)*S,t[1]=(s*w-i*R-c*O)*S,t[2]=(i*A-u*w+c*P)*S,t[3]=(a*A-r*R-o*T)*S,t[4]=(n*R-a*w+o*O)*S,t[5]=(r*w-n*A-o*P)*S,t[6]=(M*x-p*E+m*_)*S,t[7]=(p*y-v*x-m*g)*S,t[8]=(v*E-M*y+m*b)*S,t},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=o,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=e[0],d=e[1],v=e[2],M=e[3],p=e[4],m=e[5],b=e[6],g=e[7],y=e[8];return Math.abs(n-h)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(a-d)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(o-v)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(i-M)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(u-p)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(s-m)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-b)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-g)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(g))&&Math.abs(l-y)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))};var r=n(0);function a(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],d=n[1],v=n[2],M=n[3],p=n[4],m=n[5],b=n[6],g=n[7],y=n[8];return t[0]=h*r+d*i+v*c,t[1]=h*a+d*u+v*f,t[2]=h*o+d*s+v*l,t[3]=M*r+p*i+m*c,t[4]=M*a+p*u+m*f,t[5]=M*o+p*s+m*l,t[6]=b*r+g*i+y*c,t[7]=b*a+g*u+y*f,t[8]=b*o+g*s+y*l,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}var i=a;e.mul=i;var u=o;e.sub=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.create=a,e.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=o,e.fromValues=i,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=u,e.multiply=s,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},e.distance=f,e.squaredDistance=l,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=d,e.dot=v,e.cross=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[0],u=n[1],s=n[2];return t[0]=a*s-o*u,t[1]=o*i-r*s,t[2]=r*u-a*i,t},e.lerp=function(t,e,n,r){var a=e[0],o=e[1],i=e[2];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t[2]=i+r*(n[2]-i),t},e.hermite=function(t,e,n,r,a,o){var i=o*o,u=i*(2*o-3)+1,s=i*(o-2)+o,c=i*(o-1),f=i*(3-2*o);return t[0]=e[0]*u+n[0]*s+r[0]*c+a[0]*f,t[1]=e[1]*u+n[1]*s+r[1]*c+a[1]*f,t[2]=e[2]*u+n[2]*s+r[2]*c+a[2]*f,t},e.bezier=function(t,e,n,r,a,o){var i=1-o,u=i*i,s=o*o,c=u*i,f=3*o*u,l=3*s*i,h=s*o;return t[0]=e[0]*c+n[0]*f+r[0]*l+a[0]*h,t[1]=e[1]*c+n[1]*f+r[1]*l+a[1]*h,t[2]=e[2]*c+n[2]*f+r[2]*l+a[2]*h,t},e.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,a=2*r.RANDOM()-1,o=Math.sqrt(1-a*a)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=a*e,t},e.transformMat4=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[3]*r+n[7]*a+n[11]*o+n[15];return i=i||1,t[0]=(n[0]*r+n[4]*a+n[8]*o+n[12])/i,t[1]=(n[1]*r+n[5]*a+n[9]*o+n[13])/i,t[2]=(n[2]*r+n[6]*a+n[10]*o+n[14])/i,t},e.transformMat3=function(t,e,n){var r=e[0],a=e[1],o=e[2];return t[0]=r*n[0]+a*n[3]+o*n[6],t[1]=r*n[1]+a*n[4]+o*n[7],t[2]=r*n[2]+a*n[5]+o*n[8],t},e.transformQuat=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[0],u=n[1],s=n[2],c=n[3],f=c*r+u*o-s*a,l=c*a+s*r-i*o,h=c*o+i*a-u*r,d=-i*r-u*a-s*o;return t[0]=f*c+d*-i+l*-s-h*-u,t[1]=l*c+d*-u+h*-i-f*-s,t[2]=h*c+d*-s+f*-u-l*-i,t},e.rotateX=function(t,e,n,r){var a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[0],o[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),o[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateY=function(t,e,n,r){var a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),o[1]=a[1],o[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateZ=function(t,e,n,r){var a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),o[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),o[2]=a[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.angle=function(t,e){var n=i(t[0],t[1],t[2]),r=i(e[0],e[1],e[2]);d(n,n),d(r,r);var a=v(n,r);return a>1?0:a<-1?Math.PI:Math.acos(a)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=e[0],u=e[1],s=e[2];return Math.abs(n-i)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(a-u)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))};var r=n(0);function a(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function o(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function i(t,e,n){var a=new r.ARRAY_TYPE(3);return a[0]=t,a[1]=e,a[2]=n,a}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function s(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function c(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function f(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(n*n+r*r+a*a)}function l(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return n*n+r*r+a*a}function h(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function d(t,e){var n=e[0],r=e[1],a=e[2],o=n*n+r*r+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function v(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}var M=u;e.sub=M;var p=s;e.mul=p;var m=c;e.div=m;var b=f;e.dist=b;var g=l;e.sqrDist=g;var y=o;e.len=y;var _=h;e.sqrLen=_;var E,x=(E=a(),function(t,e,n,r,a,o){var i=void 0,u=void 0;for(e||(e=3),n||(n=0),u=r?Math.min(r*e+n,t.length):t.length,i=n;i<u;i+=e)E[0]=t[i],E[1]=t[i+1],E[2]=t[i+2],a(E,E,o),t[i]=E[0],t[i+1]=E[1],t[i+2]=E[2];return t});e.forEach=x},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.create=a,e.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.fromValues=function(t,e,n,a){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=a,o},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.set=function(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},e.subtract=o,e.multiply=i,e.divide=u,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},e.scale=s,e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},e.distance=c,e.squaredDistance=f,e.length=l,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},e.normalize=d,e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},e.lerp=function(t,e,n,r){var a=e[0],o=e[1],i=e[2],u=e[3];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t[2]=i+r*(n[2]-i),t[3]=u+r*(n[3]-u),t},e.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),d(t,t),s(t,t,e),t},e.transformMat4=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3];return t[0]=n[0]*r+n[4]*a+n[8]*o+n[12]*i,t[1]=n[1]*r+n[5]*a+n[9]*o+n[13]*i,t[2]=n[2]*r+n[6]*a+n[10]*o+n[14]*i,t[3]=n[3]*r+n[7]*a+n[11]*o+n[15]*i,t},e.transformQuat=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=n[0],u=n[1],s=n[2],c=n[3],f=c*r+u*o-s*a,l=c*a+s*r-i*o,h=c*o+i*a-u*r,d=-i*r-u*a-s*o;return t[0]=f*c+d*-i+l*-s-h*-u,t[1]=l*c+d*-u+h*-i-f*-s,t[2]=h*c+d*-s+f*-u-l*-i,t[3]=e[3],t},e.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=e[2],f=e[3];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-s)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-f)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))};var r=n(0);function a(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function i(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function u(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function s(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+a*a+o*o)}function f(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+a*a+o*o}function l(t){var e=t[0],n=t[1],r=t[2],a=t[3];return Math.sqrt(e*e+n*n+r*r+a*a)}function h(t){var e=t[0],n=t[1],r=t[2],a=t[3];return e*e+n*n+r*r+a*a}function d(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n*n+r*r+a*a+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=n*i,t[1]=r*i,t[2]=a*i,t[3]=o*i),t}var v=o;e.sub=v;var M=i;e.mul=M;var p=u;e.div=p;var m=c;e.dist=m;var b=f;e.sqrDist=b;var g=l;e.len=g;var y=h;e.sqrLen=y;var _,E=(_=a(),function(t,e,n,r,a,o){var i=void 0,u=void 0;for(e||(e=4),n||(n=0),u=r?Math.min(r*e+n,t.length):t.length,i=n;i<u;i+=e)_[0]=t[i],_[1]=t[i+1],_[2]=t[i+2],_[3]=t[i+3],a(_,_,o),t[i]=_[0],t[i+1]=_[1],t[i+2]=_[2],t[i+3]=_[3];return t});e.forEach=E},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.TorusKnot=e.Torus=e.Sphere=e.Box=e.Plane=e.Icosahedron=e.Dodecahedron=e.Octahedron=e.Hexahedron=e.Tetrahedron=e.utils=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(3)),a=v(n(13)),o=v(n(14)),i=v(n(15)),u=v(n(16)),s=v(n(17)),c=v(n(18)),f=v(n(19)),l=v(n(20)),h=v(n(21)),d=v(n(22));function v(t){return t&&t.__esModule?t:{default:t}}e.utils=r,e.Tetrahedron=a.default,e.Hexahedron=o.default,e.Octahedron=i.default,e.Dodecahedron=u.default,e.Icosahedron=s.default,e.Plane=c.default,e.Box=f.default,e.Sphere=l.default,e.Torus=h.default,e.TorusKnot=d.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.clone=function(t){var e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.fromValues=function(t,e,n,a){var o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=a,o},e.set=function(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t},e.transpose=function(t,e){if(t===e){var n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},e.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n*o-a*r;if(!i)return null;return i=1/i,t[0]=o*i,t[1]=-r*i,t[2]=-a*i,t[3]=n*i,t},e.adjoint=function(t,e){var n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},e.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},e.multiply=a,e.rotate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+o*u,t[1]=a*s+i*u,t[2]=r*-u+o*s,t[3]=a*-u+i*s,t},e.scale=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=n[0],s=n[1];return t[0]=r*u,t[1]=a*u,t[2]=o*s,t[3]=i*s,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},e.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},e.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},e.subtract=o,e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=e[2],f=e[3];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-s)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-f)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))},e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t};var r=n(0);function a(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=n[0],s=n[1],c=n[2],f=n[3];return t[0]=r*u+o*s,t[1]=a*u+i*s,t[2]=r*c+o*f,t[3]=a*c+i*f,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}var i=a;e.mul=i;var u=o;e.sub=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.clone=function(t){var e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.fromValues=function(t,e,n,a,o,i){var u=new r.ARRAY_TYPE(6);return u[0]=t,u[1]=e,u[2]=n,u[3]=a,u[4]=o,u[5]=i,u},e.set=function(t,e,n,r,a,o,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t},e.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=n*o-r*a;if(!s)return null;return s=1/s,t[0]=o*s,t[1]=-r*s,t[2]=-a*s,t[3]=n*s,t[4]=(a*u-o*i)*s,t[5]=(r*i-n*u)*s,t},e.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},e.multiply=a,e.rotate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=Math.sin(n),f=Math.cos(n);return t[0]=r*f+o*c,t[1]=a*f+i*c,t[2]=r*-c+o*f,t[3]=a*-c+i*f,t[4]=u,t[5]=s,t},e.scale=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=n[0],f=n[1];return t[0]=r*c,t[1]=a*c,t[2]=o*f,t[3]=i*f,t[4]=u,t[5]=s,t},e.translate=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=n[0],f=n[1];return t[0]=r,t[1]=a,t[2]=o,t[3]=i,t[4]=r*c+o*f+u,t[5]=a*c+i*f+s,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},e.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},e.subtract=o,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},e.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=e[0],f=e[1],l=e[2],h=e[3],d=e[4],v=e[5];return Math.abs(n-c)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-h)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(u-d)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(s-v)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))};var r=n(0);function a(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=n[0],f=n[1],l=n[2],h=n[3],d=n[4],v=n[5];return t[0]=r*c+o*f,t[1]=a*c+i*f,t[2]=r*l+o*h,t[3]=a*l+i*h,t[4]=r*d+o*v+u,t[5]=a*d+i*v+s,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}var i=a;e.mul=i;var u=o;e.sub=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){var t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.clone=function(t){var e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.fromValues=function(t,e,n,a,o,i,u,s,c,f,l,h,d,v,M,p){var m=new r.ARRAY_TYPE(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=a,m[4]=o,m[5]=i,m[6]=u,m[7]=s,m[8]=c,m[9]=f,m[10]=l,m[11]=h,m[12]=d,m[13]=v,m[14]=M,m[15]=p,m},e.set=function(t,e,n,r,a,o,i,u,s,c,f,l,h,d,v,M,p){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=s,t[8]=c,t[9]=f,t[10]=l,t[11]=h,t[12]=d,t[13]=v,t[14]=M,t[15]=p,t},e.identity=a,e.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],a=e[3],o=e[6],i=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=a,t[13]=i,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},e.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],v=e[12],M=e[13],p=e[14],m=e[15],b=n*u-r*i,g=n*s-a*i,y=n*c-o*i,_=r*s-a*u,E=r*c-o*u,x=a*c-o*s,P=f*M-l*v,O=f*p-h*v,w=f*m-d*v,T=l*p-h*M,A=l*m-d*M,R=h*m-d*p,S=b*R-g*A+y*T+_*w-E*O+x*P;if(!S)return null;return S=1/S,t[0]=(u*R-s*A+c*T)*S,t[1]=(a*A-r*R-o*T)*S,t[2]=(M*x-p*E+m*_)*S,t[3]=(h*E-l*x-d*_)*S,t[4]=(s*w-i*R-c*O)*S,t[5]=(n*R-a*w+o*O)*S,t[6]=(p*y-v*x-m*g)*S,t[7]=(f*x-h*y+d*g)*S,t[8]=(i*A-u*w+c*P)*S,t[9]=(r*w-n*A-o*P)*S,t[10]=(v*E-M*y+m*b)*S,t[11]=(l*y-f*E-d*b)*S,t[12]=(u*O-i*T-s*P)*S,t[13]=(n*T-r*O+a*P)*S,t[14]=(M*g-v*_-p*b)*S,t[15]=(f*_-l*g+h*b)*S,t},e.adjoint=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],v=e[12],M=e[13],p=e[14],m=e[15];return t[0]=u*(h*m-d*p)-l*(s*m-c*p)+M*(s*d-c*h),t[1]=-(r*(h*m-d*p)-l*(a*m-o*p)+M*(a*d-o*h)),t[2]=r*(s*m-c*p)-u*(a*m-o*p)+M*(a*c-o*s),t[3]=-(r*(s*d-c*h)-u*(a*d-o*h)+l*(a*c-o*s)),t[4]=-(i*(h*m-d*p)-f*(s*m-c*p)+v*(s*d-c*h)),t[5]=n*(h*m-d*p)-f*(a*m-o*p)+v*(a*d-o*h),t[6]=-(n*(s*m-c*p)-i*(a*m-o*p)+v*(a*c-o*s)),t[7]=n*(s*d-c*h)-i*(a*d-o*h)+f*(a*c-o*s),t[8]=i*(l*m-d*M)-f*(u*m-c*M)+v*(u*d-c*l),t[9]=-(n*(l*m-d*M)-f*(r*m-o*M)+v*(r*d-o*l)),t[10]=n*(u*m-c*M)-i*(r*m-o*M)+v*(r*c-o*u),t[11]=-(n*(u*d-c*l)-i*(r*d-o*l)+f*(r*c-o*u)),t[12]=-(i*(l*p-h*M)-f*(u*p-s*M)+v*(u*h-s*l)),t[13]=n*(l*p-h*M)-f*(r*p-a*M)+v*(r*h-a*l),t[14]=-(n*(u*p-s*M)-i*(r*p-a*M)+v*(r*s-a*u)),t[15]=n*(u*h-s*l)-i*(r*h-a*l)+f*(r*s-a*u),t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],a=t[3],o=t[4],i=t[5],u=t[6],s=t[7],c=t[8],f=t[9],l=t[10],h=t[11],d=t[12],v=t[13],M=t[14],p=t[15];return(e*i-n*o)*(l*p-h*M)-(e*u-r*o)*(f*p-h*v)+(e*s-a*o)*(f*M-l*v)+(n*u-r*i)*(c*p-h*d)-(n*s-a*i)*(c*M-l*d)+(r*s-a*u)*(c*v-f*d)},e.multiply=o,e.translate=function(t,e,n){var r=n[0],a=n[1],o=n[2],i=void 0,u=void 0,s=void 0,c=void 0,f=void 0,l=void 0,h=void 0,d=void 0,v=void 0,M=void 0,p=void 0,m=void 0;e===t?(t[12]=e[0]*r+e[4]*a+e[8]*o+e[12],t[13]=e[1]*r+e[5]*a+e[9]*o+e[13],t[14]=e[2]*r+e[6]*a+e[10]*o+e[14],t[15]=e[3]*r+e[7]*a+e[11]*o+e[15]):(i=e[0],u=e[1],s=e[2],c=e[3],f=e[4],l=e[5],h=e[6],d=e[7],v=e[8],M=e[9],p=e[10],m=e[11],t[0]=i,t[1]=u,t[2]=s,t[3]=c,t[4]=f,t[5]=l,t[6]=h,t[7]=d,t[8]=v,t[9]=M,t[10]=p,t[11]=m,t[12]=i*r+f*a+v*o+e[12],t[13]=u*r+l*a+M*o+e[13],t[14]=s*r+h*a+p*o+e[14],t[15]=c*r+d*a+m*o+e[15]);return t},e.scale=function(t,e,n){var r=n[0],a=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.rotate=function(t,e,n,a){var o=a[0],i=a[1],u=a[2],s=Math.sqrt(o*o+i*i+u*u),c=void 0,f=void 0,l=void 0,h=void 0,d=void 0,v=void 0,M=void 0,p=void 0,m=void 0,b=void 0,g=void 0,y=void 0,_=void 0,E=void 0,x=void 0,P=void 0,O=void 0,w=void 0,T=void 0,A=void 0,R=void 0,S=void 0,I=void 0,L=void 0;if(Math.abs(s)<r.EPSILON)return null;o*=s=1/s,i*=s,u*=s,c=Math.sin(n),f=Math.cos(n),l=1-f,h=e[0],d=e[1],v=e[2],M=e[3],p=e[4],m=e[5],b=e[6],g=e[7],y=e[8],_=e[9],E=e[10],x=e[11],P=o*o*l+f,O=i*o*l+u*c,w=u*o*l-i*c,T=o*i*l-u*c,A=i*i*l+f,R=u*i*l+o*c,S=o*u*l+i*c,I=i*u*l-o*c,L=u*u*l+f,t[0]=h*P+p*O+y*w,t[1]=d*P+m*O+_*w,t[2]=v*P+b*O+E*w,t[3]=M*P+g*O+x*w,t[4]=h*T+p*A+y*R,t[5]=d*T+m*A+_*R,t[6]=v*T+b*A+E*R,t[7]=M*T+g*A+x*R,t[8]=h*S+p*I+y*L,t[9]=d*S+m*I+_*L,t[10]=v*S+b*I+E*L,t[11]=M*S+g*I+x*L,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},e.rotateX=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),o=e[4],i=e[5],u=e[6],s=e[7],c=e[8],f=e[9],l=e[10],h=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=o*a+c*r,t[5]=i*a+f*r,t[6]=u*a+l*r,t[7]=s*a+h*r,t[8]=c*a-o*r,t[9]=f*a-i*r,t[10]=l*a-u*r,t[11]=h*a-s*r,t},e.rotateY=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),o=e[0],i=e[1],u=e[2],s=e[3],c=e[8],f=e[9],l=e[10],h=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*a-c*r,t[1]=i*a-f*r,t[2]=u*a-l*r,t[3]=s*a-h*r,t[8]=o*r+c*a,t[9]=i*r+f*a,t[10]=u*r+l*a,t[11]=s*r+h*a,t},e.rotateZ=function(t,e,n){var r=Math.sin(n),a=Math.cos(n),o=e[0],i=e[1],u=e[2],s=e[3],c=e[4],f=e[5],l=e[6],h=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*a+c*r,t[1]=i*a+f*r,t[2]=u*a+l*r,t[3]=s*a+h*r,t[4]=c*a-o*r,t[5]=f*a-i*r,t[6]=l*a-u*r,t[7]=h*a-s*r,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotation=function(t,e,n){var a=n[0],o=n[1],i=n[2],u=Math.sqrt(a*a+o*o+i*i),s=void 0,c=void 0,f=void 0;if(Math.abs(u)<r.EPSILON)return null;return a*=u=1/u,o*=u,i*=u,s=Math.sin(e),c=Math.cos(e),f=1-c,t[0]=a*a*f+c,t[1]=o*a*f+i*s,t[2]=i*a*f-o*s,t[3]=0,t[4]=a*o*f-i*s,t[5]=o*o*f+c,t[6]=i*o*f+a*s,t[7]=0,t[8]=a*i*f+o*s,t[9]=o*i*f-a*s,t[10]=i*i*f+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromXRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromYRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromZRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotationTranslation=function(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=r+r,s=a+a,c=o+o,f=r*u,l=r*s,h=r*c,d=a*s,v=a*c,M=o*c,p=i*u,m=i*s,b=i*c;return t[0]=1-(d+M),t[1]=l+b,t[2]=h-m,t[3]=0,t[4]=l-b,t[5]=1-(f+M),t[6]=v+p,t[7]=0,t[8]=h+m,t[9]=v-p,t[10]=1-(f+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},e.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},e.getScaling=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[4],i=e[5],u=e[6],s=e[8],c=e[9],f=e[10];return t[0]=Math.sqrt(n*n+r*r+a*a),t[1]=Math.sqrt(o*o+i*i+u*u),t[2]=Math.sqrt(s*s+c*c+f*f),t},e.getRotation=function(t,e){var n=e[0]+e[5]+e[10],r=0;n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r);return t},e.fromRotationTranslationScale=function(t,e,n,r){var a=e[0],o=e[1],i=e[2],u=e[3],s=a+a,c=o+o,f=i+i,l=a*s,h=a*c,d=a*f,v=o*c,M=o*f,p=i*f,m=u*s,b=u*c,g=u*f,y=r[0],_=r[1],E=r[2];return t[0]=(1-(v+p))*y,t[1]=(h+g)*y,t[2]=(d-b)*y,t[3]=0,t[4]=(h-g)*_,t[5]=(1-(l+p))*_,t[6]=(M+m)*_,t[7]=0,t[8]=(d+b)*E,t[9]=(M-m)*E,t[10]=(1-(l+v))*E,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},e.fromRotationTranslationScaleOrigin=function(t,e,n,r,a){var o=e[0],i=e[1],u=e[2],s=e[3],c=o+o,f=i+i,l=u+u,h=o*c,d=o*f,v=o*l,M=i*f,p=i*l,m=u*l,b=s*c,g=s*f,y=s*l,_=r[0],E=r[1],x=r[2],P=a[0],O=a[1],w=a[2];return t[0]=(1-(M+m))*_,t[1]=(d+y)*_,t[2]=(v-g)*_,t[3]=0,t[4]=(d-y)*E,t[5]=(1-(h+m))*E,t[6]=(p+b)*E,t[7]=0,t[8]=(v+g)*x,t[9]=(p-b)*x,t[10]=(1-(h+M))*x,t[11]=0,t[12]=n[0]+P-(t[0]*P+t[4]*O+t[8]*w),t[13]=n[1]+O-(t[1]*P+t[5]*O+t[9]*w),t[14]=n[2]+w-(t[2]*P+t[6]*O+t[10]*w),t[15]=1,t},e.fromQuat=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n+n,u=r+r,s=a+a,c=n*i,f=r*i,l=r*u,h=a*i,d=a*u,v=a*s,M=o*i,p=o*u,m=o*s;return t[0]=1-l-v,t[1]=f+m,t[2]=h-p,t[3]=0,t[4]=f-m,t[5]=1-c-v,t[6]=d+M,t[7]=0,t[8]=h+p,t[9]=d-M,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.frustum=function(t,e,n,r,a,o,i){var u=1/(n-e),s=1/(a-r),c=1/(o-i);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(a+r)*s,t[10]=(i+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*o*2*c,t[15]=0,t},e.perspective=function(t,e,n,r,a){var o=1/Math.tan(e/2),i=1/(r-a);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+r)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*r*i,t[15]=0,t},e.perspectiveFromFieldOfView=function(t,e,n,r){var a=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),i=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),s=2/(i+u),c=2/(a+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(i-u)*s*.5,t[9]=(a-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},e.ortho=function(t,e,n,r,a,o,i){var u=1/(e-n),s=1/(r-a),c=1/(o-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*u,t[13]=(a+r)*s,t[14]=(i+o)*c,t[15]=1,t},e.lookAt=function(t,e,n,o){var i=void 0,u=void 0,s=void 0,c=void 0,f=void 0,l=void 0,h=void 0,d=void 0,v=void 0,M=void 0,p=e[0],m=e[1],b=e[2],g=o[0],y=o[1],_=o[2],E=n[0],x=n[1],P=n[2];if(Math.abs(p-E)<r.EPSILON&&Math.abs(m-x)<r.EPSILON&&Math.abs(b-P)<r.EPSILON)return a(t);h=p-E,d=m-x,v=b-P,M=1/Math.sqrt(h*h+d*d+v*v),i=y*(v*=M)-_*(d*=M),u=_*(h*=M)-g*v,s=g*d-y*h,(M=Math.sqrt(i*i+u*u+s*s))?(i*=M=1/M,u*=M,s*=M):(i=0,u=0,s=0);c=d*s-v*u,f=v*i-h*s,l=h*u-d*i,(M=Math.sqrt(c*c+f*f+l*l))?(c*=M=1/M,f*=M,l*=M):(c=0,f=0,l=0);return t[0]=i,t[1]=c,t[2]=h,t[3]=0,t[4]=u,t[5]=f,t[6]=d,t[7]=0,t[8]=s,t[9]=l,t[10]=v,t[11]=0,t[12]=-(i*p+u*m+s*b),t[13]=-(c*p+f*m+l*b),t[14]=-(h*p+d*m+v*b),t[15]=1,t},e.targetTo=function(t,e,n,r){var a=e[0],o=e[1],i=e[2],u=r[0],s=r[1],c=r[2],f=a-n[0],l=o-n[1],h=i-n[2],d=f*f+l*l+h*h;d>0&&(d=1/Math.sqrt(d),f*=d,l*=d,h*=d);var v=s*h-c*l,M=c*f-u*h,p=u*l-s*f;return t[0]=v,t[1]=M,t[2]=p,t[3]=0,t[4]=l*p-h*M,t[5]=h*v-f*p,t[6]=f*M-l*v,t[7]=0,t[8]=f,t[9]=l,t[10]=h,t[11]=0,t[12]=a,t[13]=o,t[14]=i,t[15]=1,t},e.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},e.subtract=i,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},e.equals=function(t,e){var n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=t[9],d=t[10],v=t[11],M=t[12],p=t[13],m=t[14],b=t[15],g=e[0],y=e[1],_=e[2],E=e[3],x=e[4],P=e[5],O=e[6],w=e[7],T=e[8],A=e[9],R=e[10],S=e[11],I=e[12],L=e[13],N=e[14],C=e[15];return Math.abs(n-g)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(a-y)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(o-_)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(i-E)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(u-x)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(s-P)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(P))&&Math.abs(c-O)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(f-w)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(w))&&Math.abs(l-T)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(h-A)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(d-R)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(R))&&Math.abs(v-S)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(S))&&Math.abs(M-I)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(I))&&Math.abs(p-L)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(L))&&Math.abs(m-N)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(b-C)<=r.EPSILON*Math.max(1,Math.abs(b),Math.abs(C))};var r=n(0);function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function o(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],v=e[11],M=e[12],p=e[13],m=e[14],b=e[15],g=n[0],y=n[1],_=n[2],E=n[3];return t[0]=g*r+y*u+_*l+E*M,t[1]=g*a+y*s+_*h+E*p,t[2]=g*o+y*c+_*d+E*m,t[3]=g*i+y*f+_*v+E*b,g=n[4],y=n[5],_=n[6],E=n[7],t[4]=g*r+y*u+_*l+E*M,t[5]=g*a+y*s+_*h+E*p,t[6]=g*o+y*c+_*d+E*m,t[7]=g*i+y*f+_*v+E*b,g=n[8],y=n[9],_=n[10],E=n[11],t[8]=g*r+y*u+_*l+E*M,t[9]=g*a+y*s+_*h+E*p,t[10]=g*o+y*c+_*d+E*m,t[11]=g*i+y*f+_*v+E*b,g=n[12],y=n[13],_=n[14],E=n[15],t[12]=g*r+y*u+_*l+E*M,t[13]=g*a+y*s+_*h+E*p,t[14]=g*o+y*c+_*d+E*m,t[15]=g*i+y*f+_*v+E*b,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}var u=o;e.mul=u;var s=i;e.sub=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.create=u,e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},e.setAxisAngle=s,e.getAxisAngle=function(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0);return n},e.multiply=c,e.rotateX=function(t,e,n){n*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+i*u,t[1]=a*s+o*u,t[2]=o*s-a*u,t[3]=i*s-r*u,t},e.rotateY=function(t,e,n){n*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s-o*u,t[1]=a*s+i*u,t[2]=o*s+r*u,t[3]=i*s-a*u,t},e.rotateZ=function(t,e,n){n*=.5;var r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+a*u,t[1]=a*s-r*u,t[2]=o*s+i*u,t[3]=i*s-o*u,t},e.calculateW=function(t,e){var n=e[0],r=e[1],a=e[2];return t[0]=n,t[1]=r,t[2]=a,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),t},e.slerp=f,e.invert=function(t,e){var n=e[0],r=e[1],a=e[2],o=e[3],i=n*n+r*r+a*a+o*o,u=i?1/i:0;return t[0]=-n*u,t[1]=-r*u,t[2]=-a*u,t[3]=o*u,t},e.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},e.fromMat3=l,e.fromEuler=function(t,e,n,r){var a=.5*Math.PI/180;e*=a,n*=a,r*=a;var o=Math.sin(e),i=Math.cos(e),u=Math.sin(n),s=Math.cos(n),c=Math.sin(r),f=Math.cos(r);return t[0]=o*s*f-i*u*c,t[1]=i*u*f+o*s*c,t[2]=i*s*c-o*u*f,t[3]=i*s*f+o*u*c,t},e.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"};var r=n(0),a=n(4),o=n(5),i=n(6);function u(){var t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function s(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function c(t,e,n){var r=e[0],a=e[1],o=e[2],i=e[3],u=n[0],s=n[1],c=n[2],f=n[3];return t[0]=r*f+i*u+a*c-o*s,t[1]=a*f+i*s+o*u-r*c,t[2]=o*f+i*c+r*s-a*u,t[3]=i*f-r*u-a*s-o*c,t}function f(t,e,n,r){var a=e[0],o=e[1],i=e[2],u=e[3],s=n[0],c=n[1],f=n[2],l=n[3],h=void 0,d=void 0,v=void 0,M=void 0,p=void 0;return(d=a*s+o*c+i*f+u*l)<0&&(d=-d,s=-s,c=-c,f=-f,l=-l),1-d>1e-6?(h=Math.acos(d),v=Math.sin(h),M=Math.sin((1-r)*h)/v,p=Math.sin(r*h)/v):(M=1-r,p=r),t[0]=M*a+p*s,t[1]=M*o+p*c,t[2]=M*i+p*f,t[3]=M*u+p*l,t}function l(t,e){var n=e[0]+e[4]+e[8],r=void 0;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var o=(a+1)%3,i=(a+2)%3;r=Math.sqrt(e[3*a+a]-e[3*o+o]-e[3*i+i]+1),t[a]=.5*r,r=.5/r,t[3]=(e[3*o+i]-e[3*i+o])*r,t[o]=(e[3*o+a]+e[3*a+o])*r,t[i]=(e[3*i+a]+e[3*a+i])*r}return t}var h=i.clone;e.clone=h;var d=i.fromValues;e.fromValues=d;var v=i.copy;e.copy=v;var M=i.set;e.set=M;var p=i.add;e.add=p;var m=c;e.mul=m;var b=i.scale;e.scale=b;var g=i.dot;e.dot=g;var y=i.lerp;e.lerp=y;var _=i.length;e.length=_;var E=_;e.len=E;var x=i.squaredLength;e.squaredLength=x;var P=x;e.sqrLen=P;var O=i.normalize;e.normalize=O;var w=i.exactEquals;e.exactEquals=w;var T=i.equals;e.equals=T;var A,R,S,I=(A=o.create(),R=o.fromValues(1,0,0),S=o.fromValues(0,1,0),function(t,e,n){var r=o.dot(e,n);return r<-.999999?(o.cross(A,R,e),o.len(A)<1e-6&&o.cross(A,S,e),o.normalize(A,A),s(t,A,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(o.cross(A,e,n),t[0]=A[0],t[1]=A[1],t[2]=A[2],t[3]=1+r,O(t,t))});e.rotationTo=I;var L,N,C=(L=u(),N=u(),function(t,e,n,r,a,o){return f(L,e,a,o),f(N,n,r,o),f(t,L,N,2*o*(1-o)),t});e.sqlerp=C;var j,D=(j=a.create(),function(t,e,n,r){return j[0]=n[0],j[3]=n[1],j[6]=n[2],j[1]=r[0],j[4]=r[1],j[7]=r[2],j[2]=-e[0],j[5]=-e[1],j[8]=-e[2],O(t,l(t,j))});e.setAxes=D},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.create=a,e.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=o,e.multiply=i,e.divide=u,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.distance=s,e.squaredDistance=c,e.length=f,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],r=e[1],a=n*n+r*r;a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a);return t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},e.lerp=function(t,e,n,r){var a=e[0],o=e[1];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t},e.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a,t[1]=n[1]*r+n[3]*a,t},e.transformMat2d=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a+n[4],t[1]=n[1]*r+n[3]*a+n[5],t},e.transformMat3=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[3]*a+n[6],t[1]=n[1]*r+n[4]*a+n[7],t},e.transformMat4=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[4]*a+n[12],t[1]=n[1]*r+n[5]*a+n[13],t},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var n=t[0],a=t[1],o=e[0],i=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-i)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))};var r=n(0);function a(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function i(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function u(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function s(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function f(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function l(t){var e=t[0],n=t[1];return e*e+n*n}var h=f;e.len=h;var d=o;e.sub=d;var v=i;e.mul=v;var M=u;e.div=M;var p=s;e.dist=p;var m=c;e.sqrDist=m;var b=l;e.sqrLen=b;var g,y=(g=a(),function(t,e,n,r,a,o){var i=void 0,u=void 0;for(e||(e=2),n||(n=0),u=r?Math.min(r*e+n,t.length):t.length,i=n;i<u;i+=e)g[0]=t[i],g[1]=t[i+1],a(g,g,o),t[i]=g[0],t[i+1]=g[1];return t});e.forEach=y},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,a=n(1),o=(r=a)&&r.__esModule?r:{default:r};function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":i(e))&&"function"!=typeof e?t:e}var s=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,n));return u(r,r.geometry)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":i(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,a=n(1),o=(r=a)&&r.__esModule?r:{default:r};function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":i(e))&&"function"!=typeof e?t:e}var s=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1],a=0;a<r.length;a+=3)r[a+0]*=t,r[a+1]*=t,r[a+2]*=t;var o=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],t,n));return u(o,o.geometry)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":i(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,a=n(1),o=(r=a)&&r.__esModule?r:{default:r};function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":i(e))&&"function"!=typeof e?t:e}var s=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,n));return u(r,r.geometry)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":i(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,a=n(1),o=(r=a)&&r.__esModule?r:{default:r};function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":i(e))&&"function"!=typeof e?t:e}var s=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=(1+Math.sqrt(5))/2,a=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-r,0,-a,r,0,a,-r,0,a,r,-a,-r,0,-a,r,0,a,-r,0,a,r,0,-r,0,-a,r,0,-a,-r,0,a,r,0,a],i=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,n));return u(i,i.geometry)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":i(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r,a=n(1),o=(r=a)&&r.__esModule?r:{default:r};function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":i(e))&&"function"!=typeof e?t:e}var s=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=.5+Math.sqrt(5)/2,a=[-1,+r,0,1,+r,0,-1,-r,0,1,-r,0,0,-1,+r,0,1,+r,0,-1,-r,0,1,-r,+r,0,-1,+r,0,1,-r,0,-1,-r,0,1],o=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,n));return u(o,o.geometry)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":i(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});e.default=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"XY";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=[],u=[],s=[],c=[],f=0,l=2*e,h=2*n,d=l/r,v=h/a,M=.5*-l,p=.5*-h,m=1/r,b=1/a,g=0;g<a;g++)for(var y=0;y<r;y++){var _=d*y+M,E=v*g+p,x=y/r,P=g/a;switch(o){case"XZ":i=(i=(i=(i=i.concat([_,0,E])).concat([_+d,0,E])).concat([_+d,0,E+v])).concat([_,0,E+v]),s=(s=(s=(s=s.concat([0,1,0])).concat([0,1,0])).concat([0,1,0])).concat([0,1,0]),c=(c=(c=(c=c.concat([x,1-P])).concat([x+m,1-P])).concat([x+m,1-(P+b)])).concat([x,1-(P+b)]);break;case"YZ":i=(i=(i=(i=i.concat([0,E,_])).concat([0,E,_+d])).concat([0,E+v,_+d])).concat([0,E+v,_]),s=(s=(s=(s=s.concat([1,0,0])).concat([1,0,0])).concat([1,0,0])).concat([1,0,0]),c=(c=(c=(c=c.concat([1-x,P])).concat([1-(x+m),P])).concat([1-(x+m),P+b])).concat([1-x,P+b]);break;default:i=(i=(i=(i=i.concat([_,E,0])).concat([_+d,E,0])).concat([_+d,E+v,0])).concat([_,E+v,0]),s=(s=(s=(s=s.concat([0,0,1])).concat([0,0,1])).concat([0,0,1])).concat([0,0,1]),c=(c=(c=(c=c.concat([x,P])).concat([x+m,P])).concat([x+m,P+b])).concat([x,P+b])}u.push(4*f+0),u.push(4*f+1),u.push(4*f+2),u.push(4*f+0),u.push(4*f+2),u.push(4*f+3),f++}return{positions:i,indices:u,normals:s,uvs:c}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});e.default=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1],o=0;o<a.length;o+=3)a[o+0]*=e,a[o+1]*=n,a[o+2]*=r;return{positions:a,indices:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],normals:[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0],uvs:[0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}e.default=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*-Math.PI,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Math.PI,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var f=[],l=[],h=[],d=[],v=r.vec3.create(),M=r.vec3.create(),p=s+c,m=0,b=[],g=0;g<=o;g++){for(var y=[],_=g/o,E=0;E<=n;E++){var x=E/n;v[0]=-e*Math.cos(i+x*u)*Math.sin(s+_*c),v[1]=e*Math.cos(s+_*c),v[2]=e*Math.sin(i+x*u)*Math.sin(s+_*c),f.push.apply(f,a(v)),r.vec3.normalize(M,v),h.push.apply(h,a(M)),d.push(x,1-_),y.push(m++)}b.push(y)}for(var P=0;P<o;P++)for(var O=0;O<n;O++){var w=b[P][O+1],T=b[P][O],A=b[P+1][O],R=b[P+1][O+1];(0!==P||s>0)&&l.push(w,T,R),(P!==o-1||p<Math.PI)&&l.push(T,A,R)}return{positions:f,indices:l,normals:h,uvs:d}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}e.default=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.375,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=[],c=[],f=[],l=[],h=r.vec3.create(),d=r.vec3.create(),v=r.vec3.create(),M=0;M<=i;M++)for(var p=0;p<=o;p++){var m=p/o*u,b=M/i*Math.PI*2;d[0]=(e+n*Math.cos(b))*Math.cos(m),d[1]=(e+n*Math.cos(b))*Math.sin(m),d[2]=n*Math.sin(b),s.push.apply(s,a(d)),h[0]=e*Math.cos(m),h[1]=e*Math.sin(m),r.vec3.subtract(v,d,h),r.vec3.normalize(v,v),f.push.apply(f,a(v)),l.push(p/o),l.push(M/i)}for(var g=1;g<=i;g++)for(var y=1;y<=o;y++){var _=(o+1)*g+(y-1),E=(o+1)*(g-1)+(y-1),x=(o+1)*(g-1)+y,P=(o+1)*g+y;c.push(_,E,P),c.push(E,x,P)}return{positions:s,indices:c,normals:f,uvs:l}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2);function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.375,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=[],f=[],l=[],h=[],d=a.vec3.create(),v=a.vec3.create(),M=a.vec3.create(),p=a.vec3.create(),m=a.vec3.create(),b=a.vec3.create(),g=a.vec3.create(),y=0;y<=r;y++){var _=y/r*u*Math.PI*2;this.calculatePositionOnCurve(_,u,s,e,M),this.calculatePositionOnCurve(_+.01,u,s,e,p),a.vec3.subtract(b,p,M),a.vec3.add(g,p,M),a.vec3.cross(m,b,g),a.vec3.cross(g,m,b),a.vec3.normalize(m,m),a.vec3.normalize(g,g);for(var E=0;E<=i;E++){var x=E/i*Math.PI*2,P=-n*Math.cos(x),O=n*Math.sin(x);d[0]=M[0]+(P*g[0]+O*m[0]),d[1]=M[1]+(P*g[1]+O*m[1]),d[2]=M[2]+(P*g[2]+O*m[2]),c.push.apply(c,o(d)),a.vec3.subtract(v,d,M),a.vec3.normalize(v,v),l.push.apply(l,o(v)),h.push(y/r,E/i)}}for(var w=1;w<=r;w++)for(var T=1;T<=i;T++){var A=(i+1)*(w-1)+(T-1),R=(i+1)*w+(T-1),S=(i+1)*w+T,I=(i+1)*(w-1)+T;f.push(A,R,I),f.push(R,S,I)}return{positions:c,indices:f,normals:l,uvs:h}}return r(t,[{key:"calculatePositionOnCurve",value:function(t,e,n,r,a){var o=Math.cos(t),i=Math.sin(t),u=n/e*t,s=Math.cos(u);a[0]=r*(2+s)*.5*o,a[1]=r*(2+s)*i*.5,a[2]=r*Math.sin(u)*.5}}]),t}();e.default=i}])},"object"===i(e)&&"object"===i(t)?t.exports=o():(r=[],void 0===(a="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=a))}).call(e,n(1)(t))},,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){let t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){let e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,a,o,i,u,s,c){let f=new r.ARRAY_TYPE(9);return f[0]=t,f[1]=e,f[2]=n,f[3]=a,f[4]=o,f[5]=i,f[6]=u,f[7]=s,f[8]=c,f},e.set=function(t,e,n,r,a,o,i,u,s,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=s,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){let n=e[1],r=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){let n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=f*i-u*c,h=-f*o+u*s,d=c*o-i*s,v=n*l+r*h+a*d;if(!v)return null;return v=1/v,t[0]=l*v,t[1]=(-f*r+a*c)*v,t[2]=(u*r-a*i)*v,t[3]=h*v,t[4]=(f*n-a*s)*v,t[5]=(-u*n+a*o)*v,t[6]=d*v,t[7]=(-c*n+r*s)*v,t[8]=(i*n-r*o)*v,t},e.adjoint=function(t,e){let n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8];return t[0]=i*f-u*c,t[1]=a*c-r*f,t[2]=r*u-a*i,t[3]=u*s-o*f,t[4]=n*f-a*s,t[5]=a*o-n*u,t[6]=o*c-i*s,t[7]=r*s-n*c,t[8]=n*i-r*o,t},e.determinant=function(t){let e=t[0],n=t[1],r=t[2],a=t[3],o=t[4],i=t[5],u=t[6],s=t[7],c=t[8];return e*(c*o-i*s)+n*(-c*a+i*u)+r*(s*a-o*u)},e.multiply=a,e.translate=function(t,e,n){let r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],d=n[1];return t[0]=r,t[1]=a,t[2]=o,t[3]=i,t[4]=u,t[5]=s,t[6]=h*r+d*i+c,t[7]=h*a+d*u+f,t[8]=h*o+d*s+l,t},e.rotate=function(t,e,n){let r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=Math.sin(n),d=Math.cos(n);return t[0]=d*r+h*i,t[1]=d*a+h*u,t[2]=d*o+h*s,t[3]=d*i-h*r,t[4]=d*u-h*a,t[5]=d*s-h*o,t[6]=c,t[7]=f,t[8]=l,t},e.scale=function(t,e,n){let r=n[0],a=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){let n=e[0],r=e[1],a=e[2],o=e[3],i=n+n,u=r+r,s=a+a,c=n*i,f=r*i,l=r*u,h=a*i,d=a*u,v=a*s,M=o*i,p=o*u,m=o*s;return t[0]=1-l-v,t[3]=f-m,t[6]=h+p,t[1]=f+m,t[4]=1-c-v,t[7]=d-M,t[2]=h-p,t[5]=d+M,t[8]=1-c-l,t},e.normalFromMat4=function(t,e){let n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],v=e[12],M=e[13],p=e[14],m=e[15],b=n*u-r*i,g=n*s-a*i,y=n*c-o*i,_=r*s-a*u,E=r*c-o*u,x=a*c-o*s,P=f*M-l*v,O=f*p-h*v,w=f*m-d*v,T=l*p-h*M,A=l*m-d*M,R=h*m-d*p,S=b*R-g*A+y*T+_*w-E*O+x*P;if(!S)return null;return S=1/S,t[0]=(u*R-s*A+c*T)*S,t[1]=(s*w-i*R-c*O)*S,t[2]=(i*A-u*w+c*P)*S,t[3]=(a*A-r*R-o*T)*S,t[4]=(n*R-a*w+o*O)*S,t[5]=(r*w-n*A-o*P)*S,t[6]=(M*x-p*E+m*_)*S,t[7]=(p*y-v*x-m*g)*S,t[8]=(v*E-M*y+m*b)*S,t},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=o,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){let n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=e[0],d=e[1],v=e[2],M=e[3],p=e[4],m=e[5],b=e[6],g=e[7],y=e[8];return Math.abs(n-h)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(a-d)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(o-v)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(i-M)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(u-p)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(s-m)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-b)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-g)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(g))&&Math.abs(l-y)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))};var r=n(3);function a(t,e,n){let r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],d=n[1],v=n[2],M=n[3],p=n[4],m=n[5],b=n[6],g=n[7],y=n[8];return t[0]=h*r+d*i+v*c,t[1]=h*a+d*u+v*f,t[2]=h*o+d*s+v*l,t[3]=M*r+p*i+m*c,t[4]=M*a+p*u+m*f,t[5]=M*o+p*s+m*l,t[6]=b*r+g*i+y*c,t[7]=b*a+g*u+y*f,t[8]=b*o+g*s+y*l,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}const i=a;e.mul=i;const u=o;e.sub=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=a,e.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=o,e.fromValues=i,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=u,e.multiply=s,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},e.distance=f,e.squaredDistance=l,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=d,e.dot=v,e.cross=function(t,e,n){let r=e[0],a=e[1],o=e[2],i=n[0],u=n[1],s=n[2];return t[0]=a*s-o*u,t[1]=o*i-r*s,t[2]=r*u-a*i,t},e.lerp=function(t,e,n,r){let a=e[0],o=e[1],i=e[2];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t[2]=i+r*(n[2]-i),t},e.hermite=function(t,e,n,r,a,o){let i=o*o,u=i*(2*o-3)+1,s=i*(o-2)+o,c=i*(o-1),f=i*(3-2*o);return t[0]=e[0]*u+n[0]*s+r[0]*c+a[0]*f,t[1]=e[1]*u+n[1]*s+r[1]*c+a[1]*f,t[2]=e[2]*u+n[2]*s+r[2]*c+a[2]*f,t},e.bezier=function(t,e,n,r,a,o){let i=1-o,u=i*i,s=o*o,c=u*i,f=3*o*u,l=3*s*i,h=s*o;return t[0]=e[0]*c+n[0]*f+r[0]*l+a[0]*h,t[1]=e[1]*c+n[1]*f+r[1]*l+a[1]*h,t[2]=e[2]*c+n[2]*f+r[2]*l+a[2]*h,t},e.random=function(t,e){e=e||1;let n=2*r.RANDOM()*Math.PI,a=2*r.RANDOM()-1,o=Math.sqrt(1-a*a)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=a*e,t},e.transformMat4=function(t,e,n){let r=e[0],a=e[1],o=e[2],i=n[3]*r+n[7]*a+n[11]*o+n[15];return i=i||1,t[0]=(n[0]*r+n[4]*a+n[8]*o+n[12])/i,t[1]=(n[1]*r+n[5]*a+n[9]*o+n[13])/i,t[2]=(n[2]*r+n[6]*a+n[10]*o+n[14])/i,t},e.transformMat3=function(t,e,n){let r=e[0],a=e[1],o=e[2];return t[0]=r*n[0]+a*n[3]+o*n[6],t[1]=r*n[1]+a*n[4]+o*n[7],t[2]=r*n[2]+a*n[5]+o*n[8],t},e.transformQuat=function(t,e,n){let r=e[0],a=e[1],o=e[2],i=n[0],u=n[1],s=n[2],c=n[3],f=c*r+u*o-s*a,l=c*a+s*r-i*o,h=c*o+i*a-u*r,d=-i*r-u*a-s*o;return t[0]=f*c+d*-i+l*-s-h*-u,t[1]=l*c+d*-u+h*-i-f*-s,t[2]=h*c+d*-s+f*-u-l*-i,t},e.rotateX=function(t,e,n,r){let a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[0],o[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),o[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateY=function(t,e,n,r){let a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),o[1]=a[1],o[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateZ=function(t,e,n,r){let a=[],o=[];return a[0]=e[0]-n[0],a[1]=e[1]-n[1],a[2]=e[2]-n[2],o[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),o[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),o[2]=a[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.angle=function(t,e){let n=i(t[0],t[1],t[2]),r=i(e[0],e[1],e[2]);d(n,n),d(r,r);let a=v(n,r);return a>1?0:a<-1?Math.PI:Math.acos(a)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){let n=t[0],a=t[1],o=t[2],i=e[0],u=e[1],s=e[2];return Math.abs(n-i)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(a-u)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))};var r=n(3);function a(){let t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function o(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function i(t,e,n){let a=new r.ARRAY_TYPE(3);return a[0]=t,a[1]=e,a[2]=n,a}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function s(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function c(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function f(t,e){let n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(n*n+r*r+a*a)}function l(t,e){let n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return n*n+r*r+a*a}function h(t){let e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function d(t,e){let n=e[0],r=e[1],a=e[2],o=n*n+r*r+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function v(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}const M=u;e.sub=M;const p=s;e.mul=p;const m=c;e.div=m;const b=f;e.dist=b;const g=l;e.sqrDist=g;const y=o;e.len=y;const _=h;e.sqrLen=_;const E=function(){let t=a();return function(e,n,r,a,o,i){let u,s;for(n||(n=3),r||(r=0),s=a?Math.min(a*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],o(t,t,i),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2];return e}}();e.forEach=E},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=a,e.clone=function(t){let e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.fromValues=function(t,e,n,a){let o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=a,o},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.set=function(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},e.subtract=o,e.multiply=i,e.divide=u,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},e.scale=s,e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},e.distance=c,e.squaredDistance=f,e.length=l,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},e.normalize=d,e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},e.lerp=function(t,e,n,r){let a=e[0],o=e[1],i=e[2],u=e[3];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t[2]=i+r*(n[2]-i),t[3]=u+r*(n[3]-u),t},e.random=function(t,e){return e=e||1,t[0]=r.RANDOM(),t[1]=r.RANDOM(),t[2]=r.RANDOM(),t[3]=r.RANDOM(),d(t,t),s(t,t,e),t},e.transformMat4=function(t,e,n){let r=e[0],a=e[1],o=e[2],i=e[3];return t[0]=n[0]*r+n[4]*a+n[8]*o+n[12]*i,t[1]=n[1]*r+n[5]*a+n[9]*o+n[13]*i,t[2]=n[2]*r+n[6]*a+n[10]*o+n[14]*i,t[3]=n[3]*r+n[7]*a+n[11]*o+n[15]*i,t},e.transformQuat=function(t,e,n){let r=e[0],a=e[1],o=e[2],i=n[0],u=n[1],s=n[2],c=n[3],f=c*r+u*o-s*a,l=c*a+s*r-i*o,h=c*o+i*a-u*r,d=-i*r-u*a-s*o;return t[0]=f*c+d*-i+l*-s-h*-u,t[1]=l*c+d*-u+h*-i-f*-s,t[2]=h*c+d*-s+f*-u-l*-i,t[3]=e[3],t},e.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){let n=t[0],a=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=e[2],f=e[3];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-s)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-f)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))};var r=n(3);function a(){let t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function i(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function u(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function s(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function c(t,e){let n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+a*a+o*o)}function f(t,e){let n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+a*a+o*o}function l(t){let e=t[0],n=t[1],r=t[2],a=t[3];return Math.sqrt(e*e+n*n+r*r+a*a)}function h(t){let e=t[0],n=t[1],r=t[2],a=t[3];return e*e+n*n+r*r+a*a}function d(t,e){let n=e[0],r=e[1],a=e[2],o=e[3],i=n*n+r*r+a*a+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=n*i,t[1]=r*i,t[2]=a*i,t[3]=o*i),t}const v=o;e.sub=v;const M=i;e.mul=M;const p=u;e.div=p;const m=c;e.dist=m;const b=f;e.sqrDist=b;const g=l;e.len=g;const y=h;e.sqrLen=y;const _=function(){let t=a();return function(e,n,r,a,o,i){let u,s;for(n||(n=4),r||(r=0),s=a?Math.min(a*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],o(t,t,i),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}();e.forEach=_},,,,function(t,e,n){"use strict";(function(t){var e=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=n(19),a=n(4),o=n(5),i=n(2),u=n(25);var s=a.chunks.UBO,c=a.chunks.NOISE,f=a.chunks.FOG;new(function(){function n(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.resize=function(){e.renderer.setSize(t.innerWidth,t.innerHeight),e.renderer.setRatio(t.devicePixelRatio),e.initialX=e.settings.row*e.settings.width/-2,e.initialX+=e.settings.width/2,e.initialZ=e.settings.col*e.settings.depth/-2,e.initialZ+=e.settings.depth/2,e.maxWidth=e.settings.row*e.settings.width,e.maxDepth=e.settings.col*e.settings.depth},this.move=function(n){e.mouse[0]=n.clientX/t.innerWidth*2-1,e.mouse[1]=-n.clientY/t.innerHeight*2+1},this.updateOffsets=function(){e.offset[0]-=10*e.mouse[0],e.offset[1]+=10*e.mouse[1],e.model.dirty.attributes=!0,e.offset[1]+=e.settings.speed;for(var t=0,n=void 0,r=void 0,a=e.model.attributes.a_offset.value,o=0;o<a.length;o+=3)n=Math.floor(t/e.settings.col)*e.settings.width,r=t%e.settings.col*e.settings.depth,a[o+0]=e.initialX+(0,u.mod)(n+e.offset[0],e.maxWidth),a[o+1]=0,a[o+2]=e.initialZ+(0,u.mod)(r+e.offset[1],e.maxDepth),t++},this.update=function(){e.updateOffsets(),e.renderer.render(e.scene,e.camera),requestAnimationFrame(e.update)},t.addEventListener("resize",this.resize,!1),this.setup(),this.debug(),this.init(),this.resize(),this.update(),"false"===(0,i.getUrlParam)("controls")&&(document.body.className="hide")}return e(n,[{key:"setup",value:function(){this.renderer=new a.Renderer,document.body.appendChild(this.renderer.domElement),this.scene=new a.Scene,this.scene.fog.start=1e3,this.scene.fog.end=1800,this.scene.fog.enable=!0,this.camera=new a.cameras.Perspective({near:.01,far:1e4}),this.camera.position.set(0,400,1200)}},{key:"debug",value:function(){this.settings={width:80,height:150,depth:80,row:34,col:20,speed:5,seed:700,scale:110},this.mouse=r.vec2.create(),this.offset=r.vec2.create()}},{key:"init",value:function(){for(var t="#version 300 es\n            in vec3 a_position;\n            in vec3 a_offset;\n            in vec3 a_normal;\n\n            "+s.scene()+"\n            "+s.model()+"\n            "+c()+"\n\n            uniform float u_seed;\n            uniform float u_scale;\n            uniform float u_speed;\n\n            out vec3 v_color;\n\n            float noise(vec3 p) {\n                float n = 0.0;\n                n += 1.00 * (cnoise(p * 1.0));\n                return n;\n            }\n\n            float map(float value, float inMin, float inMax, float outMin, float outMax) {\n                if (inMin == inMax) return 0.5;\n                return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n            }\n\n            void main() {\n                float n = noise(vec3(a_offset / u_seed) + vec3(u_speed / 100.0 * iGlobalTime));\n                vec3 position = a_position + a_offset + vec3(0.0, n * u_scale, 0.0);\n                gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.0);\n\n                float v = 200.0;\n                v_color = vec3( map(position.y, -v, v, 0., 1.) );\n            }\n        ",e="#version 300 es\n            precision highp float;\n            precision highp int;\n\n            in vec3 v_color;\n\n            "+s.scene()+"\n\n            out vec4 outColor;\n\n            void main() {\n                vec4 base = vec4(v_color, 1.0);\n                "+f.linear()+"\n                outColor = base;\n            }\n        ",n=this.settings.row*this.settings.col,r=[],i=this.settings,u=i.width,l=i.height,h=i.depth,d=0;d<n;d++)r.push(0,0,0);var v=new o.Box(u/2,l/2,h/2);this.model=new a.Model,this.model.setAttribute("a_position","vec3",new Float32Array(v.positions)),this.model.setIndex(new Uint16Array(v.indices)),this.model.setAttribute("a_normal","vec3",new Float32Array(v.normals)),this.model.setInstanceAttribute("a_offset","vec3",new Float32Array(r),!0),this.model.setInstanceCount(n),this.model.setUniform("u_seed","float",this.settings.seed),this.model.setUniform("u_scale","float",this.settings.scale),this.model.setUniform("u_speed","float",this.settings.speed),this.model.setShader(t,e),this.scene.add(this.model),this.renderer.domElement.addEventListener("mousemove",this.move,!1)}}]),n}())}).call(e,n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),a=n(20),o=n(21),i=n(12),u=n(22),s=n(23),c=n(24),f=n(13),l=n(14);n.d(e,"glMatrix",function(){return r}),n.d(e,"mat2",function(){return a}),n.d(e,"mat2d",function(){return o}),n.d(e,"mat3",function(){return i}),n.d(e,"mat4",function(){return u}),n.d(e,"quat",function(){return s}),n.d(e,"vec2",function(){return c}),n.d(e,"vec3",function(){return f}),n.d(e,"vec4",function(){return l})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){let t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.clone=function(t){let e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.fromValues=function(t,e,n,a){let o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=a,o},e.set=function(t,e,n,r,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t},e.transpose=function(t,e){if(t===e){let n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},e.invert=function(t,e){let n=e[0],r=e[1],a=e[2],o=e[3],i=n*o-a*r;if(!i)return null;return i=1/i,t[0]=o*i,t[1]=-r*i,t[2]=-a*i,t[3]=n*i,t},e.adjoint=function(t,e){let n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},e.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},e.multiply=a,e.rotate=function(t,e,n){let r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+o*u,t[1]=a*s+i*u,t[2]=r*-u+o*s,t[3]=a*-u+i*s,t},e.scale=function(t,e,n){let r=e[0],a=e[1],o=e[2],i=e[3],u=n[0],s=n[1];return t[0]=r*u,t[1]=a*u,t[2]=o*s,t[3]=i*s,t},e.fromRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},e.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},e.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},e.subtract=o,e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){let n=t[0],a=t[1],o=t[2],i=t[3],u=e[0],s=e[1],c=e[2],f=e[3];return Math.abs(n-u)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-s)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(o-c)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(i-f)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))},e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t};var r=n(3);function a(t,e,n){let r=e[0],a=e[1],o=e[2],i=e[3],u=n[0],s=n[1],c=n[2],f=n[3];return t[0]=r*u+o*s,t[1]=a*u+i*s,t[2]=r*c+o*f,t[3]=a*c+i*f,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}const i=a;e.mul=i;const u=o;e.sub=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){let t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.clone=function(t){let e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.fromValues=function(t,e,n,a,o,i){let u=new r.ARRAY_TYPE(6);return u[0]=t,u[1]=e,u[2]=n,u[3]=a,u[4]=o,u[5]=i,u},e.set=function(t,e,n,r,a,o,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t},e.invert=function(t,e){let n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=n*o-r*a;if(!s)return null;return s=1/s,t[0]=o*s,t[1]=-r*s,t[2]=-a*s,t[3]=n*s,t[4]=(a*u-o*i)*s,t[5]=(r*i-n*u)*s,t},e.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},e.multiply=a,e.rotate=function(t,e,n){let r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=Math.sin(n),f=Math.cos(n);return t[0]=r*f+o*c,t[1]=a*f+i*c,t[2]=r*-c+o*f,t[3]=a*-c+i*f,t[4]=u,t[5]=s,t},e.scale=function(t,e,n){let r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=n[0],f=n[1];return t[0]=r*c,t[1]=a*c,t[2]=o*f,t[3]=i*f,t[4]=u,t[5]=s,t},e.translate=function(t,e,n){let r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=n[0],f=n[1];return t[0]=r,t[1]=a,t[2]=o,t[3]=i,t[4]=r*c+o*f+u,t[5]=a*c+i*f+s,t},e.fromRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},e.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},e.subtract=o,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},e.equals=function(t,e){let n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=e[0],f=e[1],l=e[2],h=e[3],d=e[4],v=e[5];return Math.abs(n-c)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-h)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(u-d)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(s-v)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))};var r=n(3);function a(t,e,n){let r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=n[0],f=n[1],l=n[2],h=n[3],d=n[4],v=n[5];return t[0]=r*c+o*f,t[1]=a*c+i*f,t[2]=r*l+o*h,t[3]=a*l+i*h,t[4]=r*d+o*v+u,t[5]=a*d+i*v+s,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}const i=a;e.mul=i;const u=o;e.sub=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){let t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.clone=function(t){let e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.fromValues=function(t,e,n,a,o,i,u,s,c,f,l,h,d,v,M,p){let m=new r.ARRAY_TYPE(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=a,m[4]=o,m[5]=i,m[6]=u,m[7]=s,m[8]=c,m[9]=f,m[10]=l,m[11]=h,m[12]=d,m[13]=v,m[14]=M,m[15]=p,m},e.set=function(t,e,n,r,a,o,i,u,s,c,f,l,h,d,v,M,p){return t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=s,t[8]=c,t[9]=f,t[10]=l,t[11]=h,t[12]=d,t[13]=v,t[14]=M,t[15]=p,t},e.identity=a,e.transpose=function(t,e){if(t===e){let n=e[1],r=e[2],a=e[3],o=e[6],i=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=a,t[13]=i,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},e.invert=function(t,e){let n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],v=e[12],M=e[13],p=e[14],m=e[15],b=n*u-r*i,g=n*s-a*i,y=n*c-o*i,_=r*s-a*u,E=r*c-o*u,x=a*c-o*s,P=f*M-l*v,O=f*p-h*v,w=f*m-d*v,T=l*p-h*M,A=l*m-d*M,R=h*m-d*p,S=b*R-g*A+y*T+_*w-E*O+x*P;if(!S)return null;return S=1/S,t[0]=(u*R-s*A+c*T)*S,t[1]=(a*A-r*R-o*T)*S,t[2]=(M*x-p*E+m*_)*S,t[3]=(h*E-l*x-d*_)*S,t[4]=(s*w-i*R-c*O)*S,t[5]=(n*R-a*w+o*O)*S,t[6]=(p*y-v*x-m*g)*S,t[7]=(f*x-h*y+d*g)*S,t[8]=(i*A-u*w+c*P)*S,t[9]=(r*w-n*A-o*P)*S,t[10]=(v*E-M*y+m*b)*S,t[11]=(l*y-f*E-d*b)*S,t[12]=(u*O-i*T-s*P)*S,t[13]=(n*T-r*O+a*P)*S,t[14]=(M*g-v*_-p*b)*S,t[15]=(f*_-l*g+h*b)*S,t},e.adjoint=function(t,e){let n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],v=e[12],M=e[13],p=e[14],m=e[15];return t[0]=u*(h*m-d*p)-l*(s*m-c*p)+M*(s*d-c*h),t[1]=-(r*(h*m-d*p)-l*(a*m-o*p)+M*(a*d-o*h)),t[2]=r*(s*m-c*p)-u*(a*m-o*p)+M*(a*c-o*s),t[3]=-(r*(s*d-c*h)-u*(a*d-o*h)+l*(a*c-o*s)),t[4]=-(i*(h*m-d*p)-f*(s*m-c*p)+v*(s*d-c*h)),t[5]=n*(h*m-d*p)-f*(a*m-o*p)+v*(a*d-o*h),t[6]=-(n*(s*m-c*p)-i*(a*m-o*p)+v*(a*c-o*s)),t[7]=n*(s*d-c*h)-i*(a*d-o*h)+f*(a*c-o*s),t[8]=i*(l*m-d*M)-f*(u*m-c*M)+v*(u*d-c*l),t[9]=-(n*(l*m-d*M)-f*(r*m-o*M)+v*(r*d-o*l)),t[10]=n*(u*m-c*M)-i*(r*m-o*M)+v*(r*c-o*u),t[11]=-(n*(u*d-c*l)-i*(r*d-o*l)+f*(r*c-o*u)),t[12]=-(i*(l*p-h*M)-f*(u*p-s*M)+v*(u*h-s*l)),t[13]=n*(l*p-h*M)-f*(r*p-a*M)+v*(r*h-a*l),t[14]=-(n*(u*p-s*M)-i*(r*p-a*M)+v*(r*s-a*u)),t[15]=n*(u*h-s*l)-i*(r*h-a*l)+f*(r*s-a*u),t},e.determinant=function(t){let e=t[0],n=t[1],r=t[2],a=t[3],o=t[4],i=t[5],u=t[6],s=t[7],c=t[8],f=t[9],l=t[10],h=t[11],d=t[12],v=t[13],M=t[14],p=t[15];return(e*i-n*o)*(l*p-h*M)-(e*u-r*o)*(f*p-h*v)+(e*s-a*o)*(f*M-l*v)+(n*u-r*i)*(c*p-h*d)-(n*s-a*i)*(c*M-l*d)+(r*s-a*u)*(c*v-f*d)},e.multiply=o,e.translate=function(t,e,n){let r,a,o,i,u,s,c,f,l,h,d,v,M=n[0],p=n[1],m=n[2];e===t?(t[12]=e[0]*M+e[4]*p+e[8]*m+e[12],t[13]=e[1]*M+e[5]*p+e[9]*m+e[13],t[14]=e[2]*M+e[6]*p+e[10]*m+e[14],t[15]=e[3]*M+e[7]*p+e[11]*m+e[15]):(r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],v=e[11],t[0]=r,t[1]=a,t[2]=o,t[3]=i,t[4]=u,t[5]=s,t[6]=c,t[7]=f,t[8]=l,t[9]=h,t[10]=d,t[11]=v,t[12]=r*M+u*p+l*m+e[12],t[13]=a*M+s*p+h*m+e[13],t[14]=o*M+c*p+d*m+e[14],t[15]=i*M+f*p+v*m+e[15]);return t},e.scale=function(t,e,n){let r=n[0],a=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.rotate=function(t,e,n,a){let o,i,u,s,c,f,l,h,d,v,M,p,m,b,g,y,_,E,x,P,O,w,T,A,R=a[0],S=a[1],I=a[2],L=Math.sqrt(R*R+S*S+I*I);if(Math.abs(L)<r.EPSILON)return null;R*=L=1/L,S*=L,I*=L,o=Math.sin(n),i=Math.cos(n),u=1-i,s=e[0],c=e[1],f=e[2],l=e[3],h=e[4],d=e[5],v=e[6],M=e[7],p=e[8],m=e[9],b=e[10],g=e[11],y=R*R*u+i,_=S*R*u+I*o,E=I*R*u-S*o,x=R*S*u-I*o,P=S*S*u+i,O=I*S*u+R*o,w=R*I*u+S*o,T=S*I*u-R*o,A=I*I*u+i,t[0]=s*y+h*_+p*E,t[1]=c*y+d*_+m*E,t[2]=f*y+v*_+b*E,t[3]=l*y+M*_+g*E,t[4]=s*x+h*P+p*O,t[5]=c*x+d*P+m*O,t[6]=f*x+v*P+b*O,t[7]=l*x+M*P+g*O,t[8]=s*w+h*T+p*A,t[9]=c*w+d*T+m*A,t[10]=f*w+v*T+b*A,t[11]=l*w+M*T+g*A,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},e.rotateX=function(t,e,n){let r=Math.sin(n),a=Math.cos(n),o=e[4],i=e[5],u=e[6],s=e[7],c=e[8],f=e[9],l=e[10],h=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=o*a+c*r,t[5]=i*a+f*r,t[6]=u*a+l*r,t[7]=s*a+h*r,t[8]=c*a-o*r,t[9]=f*a-i*r,t[10]=l*a-u*r,t[11]=h*a-s*r,t},e.rotateY=function(t,e,n){let r=Math.sin(n),a=Math.cos(n),o=e[0],i=e[1],u=e[2],s=e[3],c=e[8],f=e[9],l=e[10],h=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*a-c*r,t[1]=i*a-f*r,t[2]=u*a-l*r,t[3]=s*a-h*r,t[8]=o*r+c*a,t[9]=i*r+f*a,t[10]=u*r+l*a,t[11]=s*r+h*a,t},e.rotateZ=function(t,e,n){let r=Math.sin(n),a=Math.cos(n),o=e[0],i=e[1],u=e[2],s=e[3],c=e[4],f=e[5],l=e[6],h=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*a+c*r,t[1]=i*a+f*r,t[2]=u*a+l*r,t[3]=s*a+h*r,t[4]=c*a-o*r,t[5]=f*a-i*r,t[6]=l*a-u*r,t[7]=h*a-s*r,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotation=function(t,e,n){let a,o,i,u=n[0],s=n[1],c=n[2],f=Math.sqrt(u*u+s*s+c*c);if(Math.abs(f)<r.EPSILON)return null;return u*=f=1/f,s*=f,c*=f,a=Math.sin(e),o=Math.cos(e),i=1-o,t[0]=u*u*i+o,t[1]=s*u*i+c*a,t[2]=c*u*i-s*a,t[3]=0,t[4]=u*s*i-c*a,t[5]=s*s*i+o,t[6]=c*s*i+u*a,t[7]=0,t[8]=u*c*i+s*a,t[9]=s*c*i-u*a,t[10]=c*c*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromXRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromYRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromZRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotationTranslation=function(t,e,n){let r=e[0],a=e[1],o=e[2],i=e[3],u=r+r,s=a+a,c=o+o,f=r*u,l=r*s,h=r*c,d=a*s,v=a*c,M=o*c,p=i*u,m=i*s,b=i*c;return t[0]=1-(d+M),t[1]=l+b,t[2]=h-m,t[3]=0,t[4]=l-b,t[5]=1-(f+M),t[6]=v+p,t[7]=0,t[8]=h+m,t[9]=v-p,t[10]=1-(f+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},e.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},e.getScaling=function(t,e){let n=e[0],r=e[1],a=e[2],o=e[4],i=e[5],u=e[6],s=e[8],c=e[9],f=e[10];return t[0]=Math.sqrt(n*n+r*r+a*a),t[1]=Math.sqrt(o*o+i*i+u*u),t[2]=Math.sqrt(s*s+c*c+f*f),t},e.getRotation=function(t,e){let n=e[0]+e[5]+e[10],r=0;n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r);return t},e.fromRotationTranslationScale=function(t,e,n,r){let a=e[0],o=e[1],i=e[2],u=e[3],s=a+a,c=o+o,f=i+i,l=a*s,h=a*c,d=a*f,v=o*c,M=o*f,p=i*f,m=u*s,b=u*c,g=u*f,y=r[0],_=r[1],E=r[2];return t[0]=(1-(v+p))*y,t[1]=(h+g)*y,t[2]=(d-b)*y,t[3]=0,t[4]=(h-g)*_,t[5]=(1-(l+p))*_,t[6]=(M+m)*_,t[7]=0,t[8]=(d+b)*E,t[9]=(M-m)*E,t[10]=(1-(l+v))*E,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},e.fromRotationTranslationScaleOrigin=function(t,e,n,r,a){let o=e[0],i=e[1],u=e[2],s=e[3],c=o+o,f=i+i,l=u+u,h=o*c,d=o*f,v=o*l,M=i*f,p=i*l,m=u*l,b=s*c,g=s*f,y=s*l,_=r[0],E=r[1],x=r[2],P=a[0],O=a[1],w=a[2];return t[0]=(1-(M+m))*_,t[1]=(d+y)*_,t[2]=(v-g)*_,t[3]=0,t[4]=(d-y)*E,t[5]=(1-(h+m))*E,t[6]=(p+b)*E,t[7]=0,t[8]=(v+g)*x,t[9]=(p-b)*x,t[10]=(1-(h+M))*x,t[11]=0,t[12]=n[0]+P-(t[0]*P+t[4]*O+t[8]*w),t[13]=n[1]+O-(t[1]*P+t[5]*O+t[9]*w),t[14]=n[2]+w-(t[2]*P+t[6]*O+t[10]*w),t[15]=1,t},e.fromQuat=function(t,e){let n=e[0],r=e[1],a=e[2],o=e[3],i=n+n,u=r+r,s=a+a,c=n*i,f=r*i,l=r*u,h=a*i,d=a*u,v=a*s,M=o*i,p=o*u,m=o*s;return t[0]=1-l-v,t[1]=f+m,t[2]=h-p,t[3]=0,t[4]=f-m,t[5]=1-c-v,t[6]=d+M,t[7]=0,t[8]=h+p,t[9]=d-M,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.frustum=function(t,e,n,r,a,o,i){let u=1/(n-e),s=1/(a-r),c=1/(o-i);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(a+r)*s,t[10]=(i+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*o*2*c,t[15]=0,t},e.perspective=function(t,e,n,r,a){let o=1/Math.tan(e/2),i=1/(r-a);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+r)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*r*i,t[15]=0,t},e.perspectiveFromFieldOfView=function(t,e,n,r){let a=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),i=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),s=2/(i+u),c=2/(a+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(i-u)*s*.5,t[9]=(a-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},e.ortho=function(t,e,n,r,a,o,i){let u=1/(e-n),s=1/(r-a),c=1/(o-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*u,t[13]=(a+r)*s,t[14]=(i+o)*c,t[15]=1,t},e.lookAt=function(t,e,n,o){let i,u,s,c,f,l,h,d,v,M,p=e[0],m=e[1],b=e[2],g=o[0],y=o[1],_=o[2],E=n[0],x=n[1],P=n[2];if(Math.abs(p-E)<r.EPSILON&&Math.abs(m-x)<r.EPSILON&&Math.abs(b-P)<r.EPSILON)return a(t);h=p-E,d=m-x,v=b-P,M=1/Math.sqrt(h*h+d*d+v*v),i=y*(v*=M)-_*(d*=M),u=_*(h*=M)-g*v,s=g*d-y*h,(M=Math.sqrt(i*i+u*u+s*s))?(i*=M=1/M,u*=M,s*=M):(i=0,u=0,s=0);c=d*s-v*u,f=v*i-h*s,l=h*u-d*i,(M=Math.sqrt(c*c+f*f+l*l))?(c*=M=1/M,f*=M,l*=M):(c=0,f=0,l=0);return t[0]=i,t[1]=c,t[2]=h,t[3]=0,t[4]=u,t[5]=f,t[6]=d,t[7]=0,t[8]=s,t[9]=l,t[10]=v,t[11]=0,t[12]=-(i*p+u*m+s*b),t[13]=-(c*p+f*m+l*b),t[14]=-(h*p+d*m+v*b),t[15]=1,t},e.targetTo=function(t,e,n,r){let a=e[0],o=e[1],i=e[2],u=r[0],s=r[1],c=r[2],f=a-n[0],l=o-n[1],h=i-n[2],d=f*f+l*l+h*h;d>0&&(d=1/Math.sqrt(d),f*=d,l*=d,h*=d);let v=s*h-c*l,M=c*f-u*h,p=u*l-s*f;return t[0]=v,t[1]=M,t[2]=p,t[3]=0,t[4]=l*p-h*M,t[5]=h*v-f*p,t[6]=f*M-l*v,t[7]=0,t[8]=f,t[9]=l,t[10]=h,t[11]=0,t[12]=a,t[13]=o,t[14]=i,t[15]=1,t},e.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},e.subtract=i,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},e.equals=function(t,e){let n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],h=t[9],d=t[10],v=t[11],M=t[12],p=t[13],m=t[14],b=t[15],g=e[0],y=e[1],_=e[2],E=e[3],x=e[4],P=e[5],O=e[6],w=e[7],T=e[8],A=e[9],R=e[10],S=e[11],I=e[12],L=e[13],N=e[14],C=e[15];return Math.abs(n-g)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(a-y)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(o-_)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(i-E)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(E))&&Math.abs(u-x)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(s-P)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(P))&&Math.abs(c-O)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(f-w)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(w))&&Math.abs(l-T)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(h-A)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(d-R)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(R))&&Math.abs(v-S)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(S))&&Math.abs(M-I)<=r.EPSILON*Math.max(1,Math.abs(M),Math.abs(I))&&Math.abs(p-L)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(L))&&Math.abs(m-N)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(b-C)<=r.EPSILON*Math.max(1,Math.abs(b),Math.abs(C))};var r=n(3);function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function o(t,e,n){let r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],v=e[11],M=e[12],p=e[13],m=e[14],b=e[15],g=n[0],y=n[1],_=n[2],E=n[3];return t[0]=g*r+y*u+_*l+E*M,t[1]=g*a+y*s+_*h+E*p,t[2]=g*o+y*c+_*d+E*m,t[3]=g*i+y*f+_*v+E*b,g=n[4],y=n[5],_=n[6],E=n[7],t[4]=g*r+y*u+_*l+E*M,t[5]=g*a+y*s+_*h+E*p,t[6]=g*o+y*c+_*d+E*m,t[7]=g*i+y*f+_*v+E*b,g=n[8],y=n[9],_=n[10],E=n[11],t[8]=g*r+y*u+_*l+E*M,t[9]=g*a+y*s+_*h+E*p,t[10]=g*o+y*c+_*d+E*m,t[11]=g*i+y*f+_*v+E*b,g=n[12],y=n[13],_=n[14],E=n[15],t[12]=g*r+y*u+_*l+E*M,t[13]=g*a+y*s+_*h+E*p,t[14]=g*o+y*c+_*d+E*m,t[15]=g*i+y*f+_*v+E*b,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}const u=o;e.mul=u;const s=i;e.sub=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=u,e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},e.setAxisAngle=s,e.getAxisAngle=function(t,e){let n=2*Math.acos(e[3]),r=Math.sin(n/2);0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0);return n},e.multiply=c,e.rotateX=function(t,e,n){n*=.5;let r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+i*u,t[1]=a*s+o*u,t[2]=o*s-a*u,t[3]=i*s-r*u,t},e.rotateY=function(t,e,n){n*=.5;let r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s-o*u,t[1]=a*s+i*u,t[2]=o*s+r*u,t[3]=i*s-a*u,t},e.rotateZ=function(t,e,n){n*=.5;let r=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+a*u,t[1]=a*s-r*u,t[2]=o*s+i*u,t[3]=i*s-o*u,t},e.calculateW=function(t,e){let n=e[0],r=e[1],a=e[2];return t[0]=n,t[1]=r,t[2]=a,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),t},e.slerp=f,e.invert=function(t,e){let n=e[0],r=e[1],a=e[2],o=e[3],i=n*n+r*r+a*a+o*o,u=i?1/i:0;return t[0]=-n*u,t[1]=-r*u,t[2]=-a*u,t[3]=o*u,t},e.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},e.fromMat3=l,e.fromEuler=function(t,e,n,r){let a=.5*Math.PI/180;e*=a,n*=a,r*=a;let o=Math.sin(e),i=Math.cos(e),u=Math.sin(n),s=Math.cos(n),c=Math.sin(r),f=Math.cos(r);return t[0]=o*s*f-i*u*c,t[1]=i*u*f+o*s*c,t[2]=i*s*c-o*u*f,t[3]=i*s*f+o*u*c,t},e.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"};var r=n(3),a=n(12),o=n(13),i=n(14);function u(){let t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function s(t,e,n){n*=.5;let r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function c(t,e,n){let r=e[0],a=e[1],o=e[2],i=e[3],u=n[0],s=n[1],c=n[2],f=n[3];return t[0]=r*f+i*u+a*c-o*s,t[1]=a*f+i*s+o*u-r*c,t[2]=o*f+i*c+r*s-a*u,t[3]=i*f-r*u-a*s-o*c,t}function f(t,e,n,r){let a,o,i,u,s,c=e[0],f=e[1],l=e[2],h=e[3],d=n[0],v=n[1],M=n[2],p=n[3];return(o=c*d+f*v+l*M+h*p)<0&&(o=-o,d=-d,v=-v,M=-M,p=-p),1-o>1e-6?(a=Math.acos(o),i=Math.sin(a),u=Math.sin((1-r)*a)/i,s=Math.sin(r*a)/i):(u=1-r,s=r),t[0]=u*c+s*d,t[1]=u*f+s*v,t[2]=u*l+s*M,t[3]=u*h+s*p,t}function l(t,e){let n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);let a=(r+1)%3,o=(r+2)%3;n=Math.sqrt(e[3*r+r]-e[3*a+a]-e[3*o+o]+1),t[r]=.5*n,n=.5/n,t[3]=(e[3*a+o]-e[3*o+a])*n,t[a]=(e[3*a+r]+e[3*r+a])*n,t[o]=(e[3*o+r]+e[3*r+o])*n}return t}const h=i.clone;e.clone=h;const d=i.fromValues;e.fromValues=d;const v=i.copy;e.copy=v;const M=i.set;e.set=M;const p=i.add;e.add=p;const m=c;e.mul=m;const b=i.scale;e.scale=b;const g=i.dot;e.dot=g;const y=i.lerp;e.lerp=y;const _=i.length;e.length=_;const E=_;e.len=E;const x=i.squaredLength;e.squaredLength=x;const P=x;e.sqrLen=P;const O=i.normalize;e.normalize=O;const w=i.exactEquals;e.exactEquals=w;const T=i.equals;e.equals=T;const A=function(){let t=o.create(),e=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(r,a,i){let u=o.dot(a,i);return u<-.999999?(o.cross(t,e,a),o.len(t)<1e-6&&o.cross(t,n,a),o.normalize(t,t),s(r,t,Math.PI),r):u>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(t,a,i),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+u,O(r,r))}}();e.rotationTo=A;const R=function(){let t=u(),e=u();return function(n,r,a,o,i,u){return f(t,r,i,u),f(e,a,o,u),f(n,t,e,2*u*(1-u)),n}}();e.sqlerp=R;const S=function(){let t=a.create();return function(e,n,r,a){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],O(e,l(e,t))}}();e.setAxes=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=a,e.clone=function(t){let e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){let n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=o,e.multiply=i,e.divide=u,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.distance=s,e.squaredDistance=c,e.length=f,e.squaredLength=l,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],r=e[1],a=n*n+r*r;a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a);return t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},e.lerp=function(t,e,n,r){var a=e[0],o=e[1];return t[0]=a+r*(n[0]-a),t[1]=o+r*(n[1]-o),t},e.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a,t[1]=n[1]*r+n[3]*a,t},e.transformMat2d=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a+n[4],t[1]=n[1]*r+n[3]*a+n[5],t},e.transformMat3=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[3]*a+n[6],t[1]=n[1]*r+n[4]*a+n[7],t},e.transformMat4=function(t,e,n){let r=e[0],a=e[1];return t[0]=n[0]*r+n[4]*a+n[12],t[1]=n[1]*r+n[5]*a+n[13],t},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){let n=t[0],a=t[1],o=e[0],i=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-i)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))};var r=n(3);function a(){let t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function i(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function u(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function s(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function f(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function l(t){var e=t[0],n=t[1];return e*e+n*n}const h=f;e.len=h;const d=o;e.sub=d;const v=i;e.mul=v;const M=u;e.div=M;const p=s;e.dist=p;const m=c;e.sqrDist=m;const b=l;e.sqrLen=b;const g=function(){let t=a();return function(e,n,r,a,o,i){let u,s;for(n||(n=2),r||(r=0),s=a?Math.min(a*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],o(t,t,i),e[u]=t[0],e[u+1]=t[1];return e}}();e.forEach=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.mod=function(t,e){return(t%e+e)%e}}]);