!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=17)}([function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},,function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});e.getUrlParam=function(e){return new t.URL(t.location.href).searchParams.get(e)}}).call(e,n(0))},,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Point=e.Rectangle=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=a(n(10)),s=a(n(11));function a(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.boundary=e,this.n=n,this.points=[],this.divided=!1}return i(t,[{key:"insert",value:function(t){this.boundary.constains(t)&&(this.points.length<this.n?this.points.push(t):(this.divided||this.subdivide(),this.nw.insert(t),this.ne.insert(t),this.sw.insert(t),this.se.insert(t)))}},{key:"subdivide",value:function(){var e=this.boundary,n=e.x,i=e.y,s=e.width,a=e.height,o=new r.default(n,i,s/2,a/2),h=new r.default(n+s/2,i,s/2,a/2),u=new r.default(n,i+a/2,s/2,a/2),c=new r.default(n+s/2,i+a/2,s/2,a/2);this.nw=new t(o,this.n),this.ne=new t(h,this.n),this.sw=new t(u,this.n),this.se=new t(c,this.n),this.divided=!0}},{key:"query",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(this.boundary.intersects(t)){var n=!0,i=!1,r=void 0;try{for(var s,a=this.points[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var o=s.value;t.constains(o)&&e.push(o)}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}this.divided&&(this.nw.query(t,e),this.ne.query(t,e),this.sw.query(t,e),this.se.query(t,e))}return e}},{key:"debug",value:function(t){var e=this.boundary,n=e.x,i=e.y,r=e.width,s=e.height;t.beginPath(),t.strokeStyle="#666",t.lineWidth=1,t.rect(n,i,r,s),t.stroke(),t.closePath();for(var a=0;a<this.points.length;a++)t.beginPath(),t.fillStyle="#f00",t.arc(this.points[a].x,this.points[a].y,2,0,2*Math.PI),t.fill(),t.closePath();this.divided&&(this.nw.debug(t),this.ne.debug(t),this.sw.debug(t),this.se.debug(t))}}]),t}();e.default=o,e.Rectangle=r.default,e.Point=s.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=n,this.width=i,this.height=r}return i(t,[{key:"constains",value:function(t){return t.x>this.x&&t.x<this.x+this.width&&t.y>this.y&&t.y<this.y+this.height}},{key:"intersects",value:function(t){return!(t.x-t.width>this.x+this.width||t.x+t.width<this.x-this.width||t.y-t.height>this.y+this.height||t.y+t.height<this.y-this.height)}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e||0,this.y=n||0}},,,,,,function(t,e,n){"use strict";(function(t){var e,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(9),s=(e=r)&&e.__esModule?e:{default:e},a=n(2);new(function(){function e(){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.handleMove=function(e){var i=t.devicePixelRatio;n.range.x=(e.clientX-50)*i,n.range.y=(e.clientY-50)*i},this.handleDown=function(e){var i=t.devicePixelRatio,s=e.clientX*i,a=e.clientY*i,o=new r.Point(s,a);n.quadtree.insert(o)},this.resize=function(){var e=t.devicePixelRatio;n.width=400*e,n.height=400*e,n.canvas.width=n.width,n.canvas.height=n.height,n.canvas.style.width=n.width/e+"px",n.canvas.style.height=n.height/e+"px"},this.update=function(){n.context.clearRect(0,0,n.width,n.height),n.quadtree.debug(n.context),n.context.beginPath(),n.context.strokeStyle="#0f0",n.context.rect(n.range.x,n.range.y,n.range.width,n.range.height),n.context.stroke(),n.context.closePath();for(var t=n.quadtree.query(n.range),e=0;e<t.length;e++)n.context.beginPath(),n.context.fillStyle="#0f0",n.context.arc(t[e].x,t[e].y,2,0,2*Math.PI),n.context.fill(),n.context.closePath();requestAnimationFrame(n.update)},t.addEventListener("resize",this.resize,!1),this.setup(),this.resize(),this.init(),this.update(),"false"===(0,a.getUrlParam)("controls")&&(document.body.className="hide")}return i(e,[{key:"setup",value:function(){this.canvas=document.createElement("canvas"),document.body.appendChild(this.canvas),this.context=this.canvas.getContext("2d"),t.addEventListener("resize",this.resize,!1),this.range=new r.Rectangle(0,0,200,200),t.addEventListener("mousemove",this.handleMove,!1),t.addEventListener("mousedown",this.handleDown,!1)}},{key:"random",value:function(t,e){return Math.random()*(e-t)+t}},{key:"init",value:function(){var t=new r.Rectangle(0,0,this.width,this.height);this.quadtree=new s.default(t);for(var e=0;e<256;e++){var n=Math.random()*this.width,i=Math.random()*this.height,a=new r.Point(n,i);this.quadtree.insert(a)}}}]),e}())}).call(e,n(0))}]);