!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2);var o=function(){function t(){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.handleResize=function(){n.captureMode||n.resize()},this.handleUpdate=function(){n.update(n.startTime),n.capturing&&(console.log("capture"),n.cc.capture(n.renderer.domElement)),requestAnimationFrame(n.handleUpdate)},this.ratio=e.devicePixelRatio,this.width=e.innerWidth*this.ratio,this.height=e.innerHeight*this.ratio,this.startTime=0,e.addEventListener("resize",this.handleResize,!1),this.capture(),this.setup(),this.debug(),this.init(),this.handleResize(),this.handleUpdate()}return i(t,[{key:"capture",value:function(){var t=this;this.captureMode="false"===(0,r.getUrlParam)("controls")&&"true"===(0,r.getUrlParam)("capture"),this.captureMode&&(document.body.className="hide",this.width=420,this.height=360,this.loopDuration=1,this.capturing=!1,this.cc=new CCapture({verbose:!1,display:!0,framerate:60,motionBlurFrames:16,quality:99,format:"gif",timeLimit:this.loopDuration,frameLimit:0,autoSaveTime:0,workersPath:"js/"}),setTimeout(function(){t.capturing=!0,t.cc.start(),t.startTime=e.performance.now()}))}},{key:"setup",value:function(){}},{key:"debug",value:function(){}},{key:"init",value:function(){}},{key:"resize",value:function(){}},{key:"update",value:function(){}}]),t}();t.default=o}).call(t,n(0))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.getUrlParam=function(t){return new e.URL(e.location.href).searchParams.get(t)}}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"chunks",function(){return S}),n.d(t,"utils",function(){return he}),n.d(t,"cameras",function(){return Ce}),n.d(t,"shaders",function(){return Re}),n.d(t,"helpers",function(){return je}),n.d(t,"constants",function(){return u}),n.d(t,"Renderer",function(){return tt}),n.d(t,"Object3",function(){return we}),n.d(t,"Scene",function(){return Xe}),n.d(t,"Model",function(){return Le}),n.d(t,"Mesh",function(){return Ne}),n.d(t,"Texture",function(){return Se}),n.d(t,"RenderTarget",function(){return Ve}),n.d(t,"Composer",function(){return rt}),n.d(t,"Pass",function(){return nt}),n.d(t,"Performance",function(){return ot});var i={factory:function(){return"\n        // factory light\n        vec3 inverseLightDirection = normalize(vec3(-0.25, -0.25, 1.0));\n        vec3 directionalColor = vec3(max(dot(v_normal, inverseLightDirection), 0.0));\n        vec3 factory = mix(vec3(0.0), directionalColor, 0.989); // light intensity\n        base.rgb *= factory;\n\n        "+i.directional()},directional:function(){return"\n            // vec3 dcolor = vec3(0.01);\n            //\n            // for (int i = 0; i < MAX_DIRECTIONAL; i++) {\n            //     vec3 inverseLightDirection = normalize(directionalLights[i].dlPosition.xyz);\n            //     vec3 light = vec3(max(dot(v_normal, inverseLightDirection), 0.0));\n            //     vec3 directionalColor = directionalLights[i].dlColor.rgb * light;\n            //     dcolor += mix(dcolor, directionalColor, directionalLights[i].flIntensity);\n            // }\n            // dcolor /= float(MAX_DIRECTIONAL);\n            //\n            // base.rgb *= dcolor;\n        "}};var r={linear:function(){return"\n        if (fogSettings.x > 0.0) {\n            \n    float fogStart = fogSettings.y;\n    float fogEnd = fogSettings.z;\n    float fogDensity = fogSettings.a;\n\n    float dist = 0.0;\n    float fogFactor = 0.0;\n    dist = gl_FragCoord.z / gl_FragCoord.w;\n            fogFactor = (fogEnd - dist) / (fogEnd - fogStart);\n            fogFactor = clamp(fogFactor, 0.0, 1.0);\n            base = mix(fogColor, base, fogFactor);\n        }"},exponential:function(){return"\n        if (fogSettings.x > 0.0) {\n            \n    float fogStart = fogSettings.y;\n    float fogEnd = fogSettings.z;\n    float fogDensity = fogSettings.a;\n\n    float dist = 0.0;\n    float fogFactor = 0.0;\n    dist = gl_FragCoord.z / gl_FragCoord.w;\n            fogFactor = 1.0 / exp(dist * fogDensity);\n            fogFactor = clamp(fogFactor, 0.0, 1.0);\n            base = mix(fogColor, base, fogFactor);\n        }"},exponential2:function(){return"\n        if (fogSettings.x > 0.0) {\n            \n    float fogStart = fogSettings.y;\n    float fogEnd = fogSettings.z;\n    float fogDensity = fogSettings.a;\n\n    float dist = 0.0;\n    float fogFactor = 0.0;\n    dist = gl_FragCoord.z / gl_FragCoord.w;\n            fogFactor = 1.0 / exp((dist * fogDensity) * (dist * fogDensity));\n            fogFactor = clamp(fogFactor, 0.0, 1.0);\n            base = mix(fogColor, base, fogFactor);\n        }"}},o=1e3,a=2500,s={POINTS:0,LINES:1,TRIANGLES:4},l={FRONT:0,BACK:1,BOTH:2},c={WEBGL:"webgl",WEBGL2:"webgl2"},u=Object.freeze({MAX_DIRECTIONAL:1,DIRECTIONAL_LIGHT:o,SHADER_BASIC:2e3,SHADER_DEFAULT:2001,SHADER_BILLBOARD:2002,SHADER_SHADOW:2003,SHADER_SEM:2004,SHADER_CUSTOM:a,DRAW:s,SIDE:l,CONTEXT:c}),d="lowww-core",h="1.1.3",f=null,p=null,v=document.createElement("canvas").getContext(c.WEBGL),m=document.createElement("canvas").getContext(c.WEBGL2),g={vertexArrayObject:v.getExtension("OES_vertex_array_object"),instancedArrays:v.getExtension("ANGLE_instanced_arrays"),standardDerivatives:v.getExtension("OES_standard_derivatives"),depthTextures:v.getExtension("WEBGL_depth_texture")},_=function(e){var t=m&&c.WEBGL2,n=v&&c.WEBGL;return(p=e||t||n)===c.WEBGL2&&(g.vertexArrayObject=!0,g.instancedArrays=!0,g.standardDerivatives=!0,g.depthTexture=!0),p},b=function(){return p},y=function(e){f=e,b()===c.WEBGL&&(g.vertexArrayObject=f.getExtension("OES_vertex_array_object"),g.instancedArrays=f.getExtension("ANGLE_instanced_arrays"),g.standardDerivatives=f.getExtension("OES_standard_derivatives"),g.depthTextures=f.getExtension("WEBGL_depth_texture"))},x=function(){return f},w=function(){return g},E={scene:function(){return b()===c.WEBGL2?"\n            uniform perScene {\n                mat4 projectionMatrix;\n                mat4 viewMatrix;\n                vec4 fogSettings;\n                vec4 fogColor;\n                float iGlobalTime;\n                vec4 globalClipSettings;\n                vec4 globalClipPlane0;\n                vec4 globalClipPlane1;\n                vec4 globalClipPlane2;\n            };":"\n        uniform mat4 projectionMatrix;\n        uniform mat4 viewMatrix;\n        uniform vec4 fogSettings;\n        uniform vec4 fogColor;\n        uniform float iGlobalTime;\n        uniform vec4 globalClipSettings;\n        uniform vec4 globalClipPlane0;\n        uniform vec4 globalClipPlane1;\n        uniform vec4 globalClipPlane2;"},model:function(){return b()===c.WEBGL2?"\n            uniform perModel {\n                mat4 modelMatrix;\n                mat4 normalMatrix;\n                vec4 localClipSettings;\n                vec4 localClipPlane0;\n                vec4 localClipPlane1;\n                vec4 localClipPlane2;\n            };":"\n            uniform mat4 modelMatrix;\n            uniform mat4 normalMatrix;\n            uniform vec4 localClipSettings;\n            uniform vec4 localClipPlane0;\n            uniform vec4 localClipPlane1;\n            uniform vec4 localClipPlane2;"},lights:function(){return b()===c.WEBGL2?"\n                #define MAX_DIRECTIONAL 1\n\n                struct Directional {\n                    vec4 dlPosition;\n                    vec4 dlColor;\n                    float flIntensity;\n                };\n\n                uniform directional {\n                    Directional directionalLights[MAX_DIRECTIONAL];\n                };":"\n            #define MAX_DIRECTIONAL 1\n\n            struct Directional {\n                vec4 dlPosition;\n                vec4 dlColor;\n                float flIntensity;\n            };\n\n            uniform Directional directionalLights[MAX_DIRECTIONAL];"}},A={vertex_pre:function(){return"\n        out vec4 local_eyespace;\n        out vec4 global_eyespace;"},vertex:function(){return"\n        local_eyespace = modelMatrix * vec4(a_position, 1.0);\n        global_eyespace = viewMatrix * modelMatrix * vec4(a_position, 1.0);"},fragment_pre:function(){return"\n        in vec4 local_eyespace;\n        in vec4 global_eyespace;"},fragment:function(){return"\n        if (localClipSettings.x > 0.0) {\n            if(dot(local_eyespace, localClipPlane0) < 0.0) discard;\n            if(dot(local_eyespace, localClipPlane1) < 0.0) discard;\n            if(dot(local_eyespace, localClipPlane2) < 0.0) discard;\n        }\n\n        if (globalClipSettings.x > 0.0) {\n            if(dot(global_eyespace, globalClipPlane0) < 0.0) discard;\n            if(dot(global_eyespace, globalClipPlane1) < 0.0) discard;\n            if(dot(global_eyespace, globalClipPlane2) < 0.0) discard;\n        }"}},C={vertex:function(){return b(),c.WEBGL2,""},fragment:function(){return b()===c.WEBGL2?"":"\n        #extension GL_OES_standard_derivatives : enable"}};var T={vertex_pre:function(){return"\n        uniform mat4 shadowMatrix;\n        out vec4 vShadowCoord;"},vertex:function(){return"\n        vShadowCoord = shadowMatrix * modelMatrix * vec4(a_position, 1.0);"},fragment_pre:function(){return"\n        uniform sampler2D shadowMap;\n        in vec4 vShadowCoord;\n\n        \n    float hardShadow1(sampler2D shadowMap) {\n        vec4 shadowCoord = vShadowCoord / vShadowCoord.w;\n        vec2 uv = shadowCoord.xy;\n        float shadow = texture(shadowMap, uv).r;\n\n        float visibility = 1.0;\n        float shadowAmount = 0.5;\n\n        float cosTheta = clamp(dot(v_normal, vShadowCoord.xyz), 0.0, 1.0);\n        float bias = 0.00005 * tan(acos(cosTheta)); // cosTheta is dot( n,l ), clamped between 0 and 1\n        bias = clamp(bias, 0.0, 0.001);\n\n        if (shadow < shadowCoord.z - bias){\n            visibility = shadowAmount;\n        }\n        return visibility;\n    }\n\n    float hardShadow2(sampler2D shadowMap) {\n        vec4 shadowCoord = vShadowCoord / vShadowCoord.w;\n        vec2 uv = shadowCoord.xy;\n\n        float lightDepth1 = texture(shadowMap, uv).r;\n        float lightDepth2 = clamp(shadowCoord.z, 0.0, 1.0);\n        float bias = 0.0001;\n\n        return step(lightDepth2, lightDepth1+bias);\n    }\n\n    float hardShadow3(sampler2D shadowMap) {\n        vec4 shadowCoord = vShadowCoord / vShadowCoord.w;\n        vec2 uv = shadowCoord.xy;\n\n        float visibility = 1.0;\n        float shadowAmount = 0.5;\n        float bias = 0.00005;\n\n        vec2 poissonDisk[16];\n        poissonDisk[0] = vec2(-0.94201624, -0.39906216);\n        poissonDisk[1] = vec2(0.94558609, -0.76890725);\n        poissonDisk[2] = vec2(-0.094184101, -0.92938870);\n        poissonDisk[3] = vec2(0.34495938, 0.29387760);\n        poissonDisk[4] = vec2(-0.91588581, 0.45771432);\n        poissonDisk[5] = vec2(-0.81544232, -0.87912464);\n        poissonDisk[6] = vec2(-0.38277543, 0.27676845);\n        poissonDisk[7] = vec2(0.97484398, 0.75648379);\n        poissonDisk[8] = vec2(0.44323325, -0.97511554);\n        poissonDisk[9] = vec2(0.53742981, -0.47373420);\n        poissonDisk[10] = vec2(-0.26496911, -0.41893023);\n        poissonDisk[11] = vec2(0.79197514, 0.19090188);\n        poissonDisk[12] = vec2(-0.24188840, 0.99706507);\n        poissonDisk[13] = vec2(-0.81409955, 0.91437590);\n        poissonDisk[14] = vec2(0.19984126, 0.78641367);\n        poissonDisk[15] = vec2(0.14383161, -0.14100790);\n\n        for (int i=0;i<16;i++) {\n            if ( texture(shadowMap, uv + poissonDisk[i]/700.0).r < shadowCoord.z-bias ){\n                visibility -= 0.02;\n            }\n        }\n\n        return visibility;\n    }\n\n    "},fragment:function(){return"\n        // shadows\n        float shadow = 1.0;\n\n        // OPTION 1\n        shadow = hardShadow1(shadowMap);\n\n        base *= shadow;\n        "}},S=Object.freeze({UBO:E,LIGHT:i,FOG:r,NOISE:function(){return"\n    vec3 mod289(vec3 x){return x-floor(x*(1./289.))*289.;}vec4 mod289(vec4 x){return x-floor(x*(1./289.))*289.;}vec4 permute(vec4 x){return mod289((x*34.+1.)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284-.853735*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.-15.)+10.);}float cnoise(vec3 P){vec3 Pi0=floor(P),Pi1=Pi0+vec3(1.);Pi0=mod289(Pi0);Pi1=mod289(Pi1);vec3 Pf0=fract(P),Pf1=Pf0-vec3(1.);vec4 ix=vec4(Pi0.r,Pi1.r,Pi0.r,Pi1.r),iy=vec4(Pi0.gg,Pi1.gg),iz0=Pi0.bbbb,iz1=Pi1.bbbb,ixy=permute(permute(ix)+iy),ixy0=permute(ixy+iz0),ixy1=permute(ixy+iz1),gx0=ixy0*(1./7.),gy0=fract(floor(gx0)*(1./7.))-.5;gx0=fract(gx0);vec4 gz0=vec4(.5)-abs(gx0)-abs(gy0),sz0=step(gz0,vec4(0.));gx0-=sz0*(step(0.,gx0)-.5);gy0-=sz0*(step(0.,gy0)-.5);vec4 gx1=ixy1*(1./7.),gy1=fract(floor(gx1)*(1./7.))-.5;gx1=fract(gx1);vec4 gz1=vec4(.5)-abs(gx1)-abs(gy1),sz1=step(gz1,vec4(0.));gx1-=sz1*(step(0.,gx1)-.5);gy1-=sz1*(step(0.,gy1)-.5);vec3 g000=vec3(gx0.r,gy0.r,gz0.r),g100=vec3(gx0.g,gy0.g,gz0.g),g010=vec3(gx0.b,gy0.b,gz0.b),g110=vec3(gx0.a,gy0.a,gz0.a),g001=vec3(gx1.r,gy1.r,gz1.r),g101=vec3(gx1.g,gy1.g,gz1.g),g011=vec3(gx1.b,gy1.b,gz1.b),g111=vec3(gx1.a,gy1.a,gz1.a);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.r;g010*=norm0.g;g100*=norm0.b;g110*=norm0.a;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.r;g011*=norm1.g;g101*=norm1.b;g111*=norm1.a;float n000=dot(g000,Pf0),n100=dot(g100,vec3(Pf1.r,Pf0.gb)),n010=dot(g010,vec3(Pf0.r,Pf1.g,Pf0.b)),n110=dot(g110,vec3(Pf1.rg,Pf0.b)),n001=dot(g001,vec3(Pf0.rg,Pf1.b)),n101=dot(g101,vec3(Pf1.r,Pf0.g,Pf1.b)),n011=dot(g011,vec3(Pf0.r,Pf1.gb)),n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.b);vec2 n_yz=mix(n_z.rg,n_z.ba,fade_xyz.g);float n_xyz=mix(n_yz.r,n_yz.g,fade_xyz.r);return 2.2*n_xyz;}float pnoise(vec3 P,vec3 rep){vec3 Pi0=mod(floor(P),rep),Pi1=mod(Pi0+vec3(1.),rep);Pi0=mod289(Pi0);Pi1=mod289(Pi1);vec3 Pf0=fract(P),Pf1=Pf0-vec3(1.);vec4 ix=vec4(Pi0.r,Pi1.r,Pi0.r,Pi1.r),iy=vec4(Pi0.gg,Pi1.gg),iz0=Pi0.bbbb,iz1=Pi1.bbbb,ixy=permute(permute(ix)+iy),ixy0=permute(ixy+iz0),ixy1=permute(ixy+iz1),gx0=ixy0*(1./7.),gy0=fract(floor(gx0)*(1./7.))-.5;gx0=fract(gx0);vec4 gz0=vec4(.5)-abs(gx0)-abs(gy0),sz0=step(gz0,vec4(0.));gx0-=sz0*(step(0.,gx0)-.5);gy0-=sz0*(step(0.,gy0)-.5);vec4 gx1=ixy1*(1./7.),gy1=fract(floor(gx1)*(1./7.))-.5;gx1=fract(gx1);vec4 gz1=vec4(.5)-abs(gx1)-abs(gy1),sz1=step(gz1,vec4(0.));gx1-=sz1*(step(0.,gx1)-.5);gy1-=sz1*(step(0.,gy1)-.5);vec3 g000=vec3(gx0.r,gy0.r,gz0.r),g100=vec3(gx0.g,gy0.g,gz0.g),g010=vec3(gx0.b,gy0.b,gz0.b),g110=vec3(gx0.a,gy0.a,gz0.a),g001=vec3(gx1.r,gy1.r,gz1.r),g101=vec3(gx1.g,gy1.g,gz1.g),g011=vec3(gx1.b,gy1.b,gz1.b),g111=vec3(gx1.a,gy1.a,gz1.a);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.r;g010*=norm0.g;g100*=norm0.b;g110*=norm0.a;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.r;g011*=norm1.g;g101*=norm1.b;g111*=norm1.a;float n000=dot(g000,Pf0),n100=dot(g100,vec3(Pf1.r,Pf0.gb)),n010=dot(g010,vec3(Pf0.r,Pf1.g,Pf0.b)),n110=dot(g110,vec3(Pf1.rg,Pf0.b)),n001=dot(g001,vec3(Pf0.rg,Pf1.b)),n101=dot(g101,vec3(Pf1.r,Pf0.g,Pf1.b)),n011=dot(g011,vec3(Pf0.r,Pf1.gb)),n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.b);vec2 n_yz=mix(n_z.rg,n_z.ba,fade_xyz.g);float n_xyz=mix(n_yz.r,n_yz.g,fade_xyz.r);return 2.2*n_xyz;}\n"},CLIPPING:A,EXTENSIONS:C,SHADOW:T}),O=1e-6,R="undefined"!=typeof Float32Array?Float32Array:Array;Math.PI;function k(){var e=new R(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function P(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function M(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function F(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=t[9],f=t[10],p=t[11],v=t[12],m=t[13],g=t[14],_=t[15],b=n[0],y=n[1],x=n[2],w=n[3];return e[0]=b*i+y*s+x*d+w*v,e[1]=b*r+y*l+x*h+w*m,e[2]=b*o+y*c+x*f+w*g,e[3]=b*a+y*u+x*p+w*_,b=n[4],y=n[5],x=n[6],w=n[7],e[4]=b*i+y*s+x*d+w*v,e[5]=b*r+y*l+x*h+w*m,e[6]=b*o+y*c+x*f+w*g,e[7]=b*a+y*u+x*p+w*_,b=n[8],y=n[9],x=n[10],w=n[11],e[8]=b*i+y*s+x*d+w*v,e[9]=b*r+y*l+x*h+w*m,e[10]=b*o+y*c+x*f+w*g,e[11]=b*a+y*u+x*p+w*_,b=n[12],y=n[13],x=n[14],w=n[15],e[12]=b*i+y*s+x*d+w*v,e[13]=b*r+y*l+x*h+w*m,e[14]=b*o+y*c+x*f+w*g,e[15]=b*a+y*u+x*p+w*_,e}function D(e,t,n,i){var r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,h=void 0,f=void 0,p=t[0],v=t[1],m=t[2],g=i[0],_=i[1],b=i[2],y=n[0],x=n[1],w=n[2];return Math.abs(p-y)<O&&Math.abs(v-x)<O&&Math.abs(m-w)<O?M(e):(u=p-y,d=v-x,h=m-w,r=_*(h*=f=1/Math.sqrt(u*u+d*d+h*h))-b*(d*=f),o=b*(u*=f)-g*h,a=g*d-_*u,(f=Math.sqrt(r*r+o*o+a*a))?(r*=f=1/f,o*=f,a*=f):(r=0,o=0,a=0),s=d*a-h*o,l=h*r-u*a,c=u*o-d*r,(f=Math.sqrt(s*s+l*l+c*c))?(s*=f=1/f,l*=f,c*=f):(s=0,l=0,c=0),e[0]=r,e[1]=s,e[2]=u,e[3]=0,e[4]=o,e[5]=l,e[6]=d,e[7]=0,e[8]=a,e[9]=c,e[10]=h,e[11]=0,e[12]=-(r*p+o*v+a*m),e[13]=-(s*p+l*v+c*m),e[14]=-(u*p+d*v+h*m),e[15]=1,e)}function B(){var e=new R(3);return e[0]=0,e[1]=0,e[2]=0,e}function L(e,t,n){var i=new R(3);return i[0]=e,i[1]=t,i[2]=n,i}function U(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function N(e,t,n){var i=t[0],r=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=r*l-o*s,e[1]=o*a-i*l,e[2]=i*s-r*a,e}var I,z=function(e){var t=e[0],n=e[1],i=e[2];return Math.sqrt(t*t+n*n+i*i)};I=B();function j(){var e=new R(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function G(e,t,n,i){var r=new R(4);return r[0]=e,r[1]=t,r[2]=n,r[3]=i,r}!function(){var e=j()}();function H(){var e=new R(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function X(e,t,n,i){var r=t[0],o=t[1],a=t[2],s=t[3],l=n[0],c=n[1],u=n[2],d=n[3],h=void 0,f=void 0,p=void 0,v=void 0,m=void 0;return(f=r*l+o*c+a*u+s*d)<0&&(f=-f,l=-l,c=-c,u=-u,d=-d),1-f>1e-6?(h=Math.acos(f),p=Math.sin(h),v=Math.sin((1-i)*h)/p,m=Math.sin(i*h)/p):(v=1-i,m=i),e[0]=v*r+m*l,e[1]=v*o+m*c,e[2]=v*a+m*u,e[3]=v*s+m*d,e}var V,W,q,Y,K,J,Q,Z=function(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=n*n+i*i+r*r+o*o;return a>0&&(a=1/Math.sqrt(a),e[0]=n*a,e[1]=i*a,e[2]=r*a,e[3]=o*a),e};V=B(),W=L(1,0,0),q=L(0,1,0),Y=H(),K=H(),(J=new R(9))[0]=1,J[1]=0,J[2]=0,J[3]=0,J[4]=1,J[5]=0,J[6]=0,J[7]=0,J[8]=1,Q=J;!function(){var e,t=((e=new R(2))[0]=0,e[1]=0,e)}();function $(e){return L(e>>16,e>>8&255,255&e)}function ee(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?L(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)):null}function te(e){var t=e.toString(16);return 1===t.length?"0"+t:t}var ne=Object.freeze({hexIntToRgb:$,hexStringToRgb:ee,componentToHex:te,rgbToHex:function(e,t,n){return"#"+te(e)+te(t)+te(n)},convert:function(e){var t,n=B(),i="number"==typeof e?$(e):ee(e);return U(n,L((t=i)[0]/255,t[1]/255,t[2]/255)),n}});var ie=Object.freeze({randomRange:function(e,t){return Math.random()*(t-e)+e},mod:function(e,t){return(e%t+t)%t}}),re=function(e){return new RegExp("\\b"+e+"\\b","gi")},oe=function(e){return new RegExp(""+e,"gi")},ae=[{match:re("in"),replace:"attribute"},{match:re("out"),replace:"varying"}],se=[{match:re("in"),replace:"varying"},{match:oe("out vec4 outColor;"),replace:""},{match:re("outColor"),replace:"gl_FragColor"},{match:re("textureProj"),replace:"texture2DProj"},{match:re("texture"),replace:function(e){var t=new RegExp("\\btexture\\b","gi"),n=new RegExp("\\btexture\\b","i"),i=new RegExp(/texture\(([^)]+)\)/,"i"),r=e.match(t),o="";if(null===r)return e;var a=!0,s=!1,l=void 0;try{for(var c,u=r[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){c.value;var d=e.match(i)[0];if(d){var h=d.replace("texture(","").split(",")[0],f=e.match("(.*?) "+h,"i")[1].replace(/^\s+|\s+$/gm,"");switch(f=f.split(" ")[1]){case"sampler2D":o="texture2D";break;case"samplerCube":o="textureCube"}}e=e.replace(n,o)}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}return e}}],le=[{match:oe("#version 300 es"),replace:""}],ce=[].concat(le,ae),ue=[].concat(le,se);function de(e,t){return b()===c.WEBGL2?e:(("vertex"===t?ce:ue).forEach(function(t){e="function"==typeof t.replace?t.replace(e):e.replace(t.match,t.replace)}),e)}var he=Object.freeze({color:ne,math:ie,glsl3to1:de}),fe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},pe=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),ve=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},me=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},ge=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},_e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;fe(this,e),this.data=L(t,n,i)}return pe(e,[{key:"set",value:function(e,t,n){this.x=e,this.y=t,this.z=n}},{key:"x",set:function(e){this.data[0]=e},get:function(){return this.data[0]}},{key:"y",set:function(e){this.data[1]=e},get:function(){return this.data[1]}},{key:"z",set:function(e){this.data[2]=e},get:function(){return this.data[2]}}]),e}(),be=0,ye=0,xe=B(),we=function(){function e(){fe(this,e),this.uid=be++,this.parent=null,this.children=[],this.position=new _e,this.rotation=new _e,this.scale=new _e(1,1,1),this._transparent=!1,this._visible=!0,this.quaternion=H(),this.target=B(),this.up=L(0,1,0),this.lookToTarget=!1,this.matrices={parent:k(),model:k(),lookAt:k()},this.dirty={sorting:!1,transparent:!1,attributes:!1,shader:!1},this.sceneGraphSorter=!1}return pe(e,[{key:"updateMatrices",value:function(){var e,t,n,i,r;M(this.matrices.parent),M(this.matrices.model),M(this.matrices.lookAt),(e=this.quaternion)[0]=0,e[1]=0,e[2]=0,e[3]=1,this.parent&&(P(this.matrices.parent,this.parent.matrices.model),F(this.matrices.model,this.matrices.model,this.matrices.parent)),this.lookToTarget?(!function(e,t,n,i){var r=t[0],o=t[1],a=t[2],s=i[0],l=i[1],c=i[2],u=r-n[0],d=o-n[1],h=a-n[2],f=u*u+d*d+h*h;f>0&&(u*=f=1/Math.sqrt(f),d*=f,h*=f);var p=l*h-c*d,v=c*u-s*h,m=s*d-l*u;(f=p*p+v*v+m*m)>0&&(p*=f=1/Math.sqrt(f),v*=f,m*=f),e[0]=p,e[1]=v,e[2]=m,e[3]=0,e[4]=d*m-h*v,e[5]=h*p-u*m,e[6]=u*v-d*p,e[7]=0,e[8]=u,e[9]=d,e[10]=h,e[11]=0,e[12]=r,e[13]=o,e[14]=a,e[15]=1}(this.matrices.lookAt,this.position.data,this.target,this.up),F(this.matrices.model,this.matrices.model,this.matrices.lookAt)):(function(e,t,n){var i=n[0],r=n[1],o=n[2],a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0,h=void 0,f=void 0,p=void 0,v=void 0,m=void 0,g=void 0;t===e?(e[12]=t[0]*i+t[4]*r+t[8]*o+t[12],e[13]=t[1]*i+t[5]*r+t[9]*o+t[13],e[14]=t[2]*i+t[6]*r+t[10]*o+t[14],e[15]=t[3]*i+t[7]*r+t[11]*o+t[15]):(a=t[0],s=t[1],l=t[2],c=t[3],u=t[4],d=t[5],h=t[6],f=t[7],p=t[8],v=t[9],m=t[10],g=t[11],e[0]=a,e[1]=s,e[2]=l,e[3]=c,e[4]=u,e[5]=d,e[6]=h,e[7]=f,e[8]=p,e[9]=v,e[10]=m,e[11]=g,e[12]=a*i+u*r+p*o+t[12],e[13]=s*i+d*r+v*o+t[13],e[14]=l*i+h*r+m*o+t[14],e[15]=c*i+f*r+g*o+t[15])}(this.matrices.model,this.matrices.model,this.position.data),function(e,t,n){n*=.5;var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=i*l+a*s,e[1]=r*l+o*s,e[2]=o*l-r*s,e[3]=a*l-i*s}(this.quaternion,this.quaternion,this.rotation.x),function(e,t,n){n*=.5;var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=i*l-o*s,e[1]=r*l+a*s,e[2]=o*l+i*s,e[3]=a*l-r*s}(this.quaternion,this.quaternion,this.rotation.y),function(e,t,n){n*=.5;var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=i*l+r*s,e[1]=r*l-i*s,e[2]=o*l+a*s,e[3]=a*l-o*s}(this.quaternion,this.quaternion,this.rotation.z),t=xe,n=this.quaternion,i=2*Math.acos(n[3]),0!=(r=Math.sin(i/2))?(t[0]=n[0]/r,t[1]=n[1]/r,t[2]=n[2]/r):(t[0]=1,t[1]=0,t[2]=0),ye=i,function(e,t,n,i){var r,o,a,s,l,c,u,d,h,f,p,v,m,g,_,b,y,x,w,E,A,C,T,S,R=i[0],k=i[1],P=i[2],M=Math.sqrt(R*R+k*k+P*P);Math.abs(M)<O||(R*=M=1/M,k*=M,P*=M,r=Math.sin(n),a=1-(o=Math.cos(n)),s=t[0],l=t[1],c=t[2],u=t[3],d=t[4],h=t[5],f=t[6],p=t[7],v=t[8],m=t[9],g=t[10],_=t[11],b=R*R*a+o,y=k*R*a+P*r,x=P*R*a-k*r,w=R*k*a-P*r,E=k*k*a+o,A=P*k*a+R*r,C=R*P*a+k*r,T=k*P*a-R*r,S=P*P*a+o,e[0]=s*b+d*y+v*x,e[1]=l*b+h*y+m*x,e[2]=c*b+f*y+g*x,e[3]=u*b+p*y+_*x,e[4]=s*w+d*E+v*A,e[5]=l*w+h*E+m*A,e[6]=c*w+f*E+g*A,e[7]=u*w+p*E+_*A,e[8]=s*C+d*T+v*S,e[9]=l*C+h*T+m*S,e[10]=c*C+f*T+g*S,e[11]=u*C+p*T+_*S,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]))}(this.matrices.model,this.matrices.model,ye,xe)),function(e,t,n){var i=n[0],r=n[1],o=n[2];e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]}(this.matrices.model,this.matrices.model,this.scale.data)}},{key:"init",value:function(){}},{key:"add",value:function(e){e.parent=this,this.children.push(e),this.dirty.sorting=!0}},{key:"remove",value:function(e){var t=this.children.indexOf(e);-1!==t&&(e.destroy(),this.children.splice(t,1),this.dirty.sorting=!0)}},{key:"traverse",value:function(e){void 0===e&&(e=this,this.sceneGraphSorter=!0);for(var t=0;t<e.children.length;t++)this.traverse(e.children[t]);return null!==e.parent&&e.updateMatrices(),(e.dirty.sorting||e.dirty.transparent)&&(e.dirty.transparent=!1,this.sceneGraphSorter=!0),this.sceneGraphSorter}},{key:"transparent",set:function(e){this.dirty.transparent=this.transparent!==e,this._transparent=e},get:function(){return this._transparent}},{key:"visible",set:function(e){this.dirty.sorting=this.visible!==e,this._visible=e},get:function(){return this._visible}}]),e}(),Ee=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fe(this,t);var n=me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.assign(n,{left:-1,right:1,top:1,bottom:-1,near:-1e3,far:1e3},e),n.matrices.projection=k(),n}return ve(t,we),pe(t,[{key:"lookAt",value:function(e){U(this.target,e)}},{key:"updateCameraMatrix",value:function(){var e,t,n,i,r,o,a,s,l,c;e=this.matrices.projection,t=this.left,n=this.right,i=this.bottom,r=this.top,o=this.near,a=this.far,s=1/(t-n),l=1/(i-r),c=1/(o-a),e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(r+i)*l,e[14]=(a+o)*c,e[15]=1}}]),t}(),Ae=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fe(this,t);var n=me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Object.assign(n,{near:1,far:1e3,fov:35},e),n.matrices.projection=k(),n}return ve(t,we),pe(t,[{key:"lookAt",value:function(e){U(this.target,e)}},{key:"updateCameraMatrix",value:function(e,t){var n,i,r,o,a,s,l;n=this.matrices.projection,i=this.fov*(Math.PI/180),r=e/t,o=this.near,a=this.far,s=1/Math.tan(i/2),l=1/(o-a),n[0]=s/r,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(a+o)*l,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*a*o*l,n[15]=0}}]),t}(),Ce=Object.freeze({Orthographic:Ee,Perspective:Ae}),Te=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fe(this,e);var n=t.color||L(1,1,1),i="#version 300 es\n            "+C.vertex()+"\n\n            in vec3 a_position;\n\n            "+E.scene()+"\n            "+E.model()+"\n\n            void main() {\n                gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(a_position, 1.0);\n            }\n        ",o="#version 300 es\n            "+C.fragment()+"\n\n            precision highp float;\n            precision highp int;\n\n            "+E.scene()+"\n\n            uniform vec3 u_color;\n\n            out vec4 outColor;\n\n            void main() {\n                vec4 base = vec4(u_color, 1.0);\n\n                "+r.linear()+"\n\n                outColor = base;\n            }\n        ";return Object.assign({type:2e3,mode:!0===t.wireframe?s.LINES:s.TRIANGLES},{vertex:i,fragment:o,uniforms:{u_color:{type:"vec3",value:n}}})},Se=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fe(this,e);var n=x();Object.assign(this,{magFilter:n.NEAREST,minFilter:n.NEAREST,wrapS:n.CLAMP_TO_EDGE,wrapT:n.CLAMP_TO_EDGE,transparent:!1},t);var i=new Uint8Array([255,255,255,255]);this.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,this.magFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.minFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.wrapT),this.transparent&&n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),n.bindTexture(n.TEXTURE_2D,null)}return pe(e,[{key:"fromImage",value:function(e){var t=this,n=new Image;n.crossOrigin="",n.onload=function(){t.update(n)},n.src=e}},{key:"update",value:function(e){var t=x();t.bindTexture(t.TEXTURE_2D,this.texture),t.generateMipmap(t.TEXTURE_2D),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.bindTexture(t.TEXTURE_2D,null)}}]),e}(),Oe=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fe(this,e);var n=t.color||L(1,1,1);this.map=new Se({transparent:!0}),t.map&&this.map.fromImage(t.map),t.texture&&(this.map=t.texture);var o="#version 300 es\n            "+C.vertex()+"\n\n            in vec3 a_position;\n            in vec3 a_normal;\n            in vec2 a_uv;\n\n            "+E.scene()+"\n            "+E.model()+"\n            "+A.vertex_pre()+"\n            "+T.vertex_pre()+"\n\n            out vec3 fragVertexEc;\n            out vec2 v_uv;\n            out vec3 v_normal;\n\n            void main() {\n                vec4 worldPosition = modelMatrix * vec4(a_position, 1.0);\n                vec4 position = projectionMatrix * viewMatrix * worldPosition;\n                gl_Position = position;\n\n                fragVertexEc = position.xyz; // worldPosition.xyz;\n                v_uv = a_uv;\n                v_normal = (normalMatrix * vec4(a_normal, 1.0)).xyz;\n\n                "+T.vertex()+"\n                "+A.vertex()+"\n            }\n        ",a="#version 300 es\n            "+C.fragment()+"\n\n            precision highp float;\n            precision highp int;\n\n            in vec3 fragVertexEc;\n            in vec2 v_uv;\n            in vec3 v_normal;\n\n            "+A.fragment_pre()+"\n\n            "+E.scene()+"\n            "+E.model()+"\n            "+E.lights()+"\n\n            uniform sampler2D u_map;\n            uniform vec3 u_color;\n\n            "+T.fragment_pre()+"\n\n            out vec4 outColor;\n\n            void main() {\n                vec3 v_normal = normalize(cross(dFdx(fragVertexEc), dFdy(fragVertexEc)));\n\n                vec4 base = vec4(0.0, 0.0, 0.0, 1.0);\n                base += vec4(u_color, 1.0);\n                base *= texture(u_map, v_uv);\n\n                "+T.fragment()+"\n                "+i.factory()+"\n                "+r.linear()+"\n                "+A.fragment()+"\n\n                outColor = base;\n            }\n        ";return Object.assign({type:2001,mode:!0===t.wireframe?s.LINES:s.TRIANGLES},{vertex:o,fragment:a,uniforms:{u_map:{type:"sampler2D",value:this.map.texture},u_color:{type:"vec3",value:n}}})},Re=Object.freeze({Basic:Te,Default:Oe,Billboard:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fe(this,e),this.map=new Se,t.map&&this.map.fromImage(t.map),t.texture&&(this.map=t.texture);var n="#version 300 es\n            "+C.vertex()+"\n\n            in vec3 a_position;\n            in vec2 a_uv;\n\n            "+E.scene()+"\n            "+E.model()+"\n\n            out vec2 v_uv;\n\n            void main() {\n                gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(a_position, 1.0);\n                v_uv = a_uv;\n            }\n        ",i="#version 300 es\n            "+C.fragment()+"\n\n            precision highp float;\n            precision highp int;\n\n            in vec2 v_uv;\n\n            "+E.scene()+"\n\n            uniform sampler2D u_map;\n\n            out vec4 outColor;\n\n            void main() {\n                // depth map\n                float z = texture(u_map, v_uv).r;\n                float n = 1.0;\n                float f = 1000.0;\n                float c = (2.0 * n) / (f + n - z * (f - n));\n\n                // draw depth\n                outColor = vec4(c);\n            }\n        ";return Object.assign({type:2002,mode:s.TRIANGLES},{vertex:n,fragment:i,uniforms:{u_map:{type:"sampler2D",value:this.map.texture}}})},Sem:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fe(this,e),this.map=new Se({transparent:!0}),t.map&&this.map.fromImage(t.map),t.texture&&(this.map=t.texture);var n="#version 300 es\n            "+C.vertex()+"\n\n            in vec3 a_position;\n            in vec3 a_normal;\n            in vec2 a_uv;\n\n            "+E.scene()+"\n            "+E.model()+"\n            "+A.vertex_pre()+"\n\n            out vec2 v_uv;\n\n            void main() {\n                vec4 position = viewMatrix * modelMatrix * vec4(a_position, 1.0);\n                gl_Position = projectionMatrix * position;\n\n                vec3 v_e = vec3(position);\n                vec3 v_n = mat3(viewMatrix * modelMatrix) * a_normal;\n                vec3 r = reflect(normalize(v_e), normalize(v_n));\n                float m = 2.0 * sqrt(pow(r.x, 2.0) + pow(r.y, 2.0) + pow(r.z + 1.0, 2.0));\n                v_uv = r.xy / m + 0.5;\n\n                "+A.vertex()+"\n            }\n        ",i="#version 300 es\n            "+C.fragment()+"\n\n            precision highp float;\n            precision highp int;\n\n            in vec2 v_uv;\n\n            "+A.fragment_pre()+"\n\n            "+E.scene()+"\n            "+E.model()+"\n            "+E.lights()+"\n\n            uniform sampler2D u_map;\n\n            out vec4 outColor;\n\n            void main() {\n                vec4 base = vec4(0.0, 0.0, 0.0, 1.0);\n\n                base += texture(u_map, v_uv);\n\n                "+r.linear()+"\n                "+A.fragment()+"\n\n                outColor = base;\n            }\n        ";return Object.assign({type:2004},{vertex:n,fragment:i,uniforms:{u_map:{type:"sampler2D",value:this.map.texture}}})}}),ke={};function Pe(e,t,n){var i=e.createShader(n);if(e.shaderSource(i,t),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){var r=e.getShaderInfoLog(i);throw e.deleteShader(i),console.error(r,t),new Error(r)}return i}var Me=function(){function e(t,n){fe(this,e);var i=x();this.boundLocation=n,this.data=new Float32Array(t),this.buffer=i.createBuffer(),i.bindBuffer(i.UNIFORM_BUFFER,this.buffer),i.bufferData(i.UNIFORM_BUFFER,this.data,i.STATIC_DRAW),i.bindBuffer(i.UNIFORM_BUFFER,null)}return pe(e,[{key:"bind",value:function(){var e=x();e.bindBufferBase(e.UNIFORM_BUFFER,this.boundLocation,this.buffer)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=x();this.data.set(e,t),n.bindBuffer(n.UNIFORM_BUFFER,this.buffer),n.bufferSubData(n.UNIFORM_BUFFER,0,this.data,0,null),n.bindBuffer(n.UNIFORM_BUFFER,null)}}]),e}(),Fe=function(){function e(){fe(this,e);var t=x(),n=w().vertexArrayObject;b()===c.WEBGL2?(this.vao=t.createVertexArray(),t.bindVertexArray(this.vao)):n&&(this.vao=w().vertexArrayObject.createVertexArrayOES(),n.bindVertexArrayOES(this.vao))}return pe(e,[{key:"bind",value:function(){var e=x(),t=w().vertexArrayObject;b()===c.WEBGL2?e.bindVertexArray(this.vao):t&&t.bindVertexArrayOES(this.vao)}},{key:"unbind",value:function(){var e=x(),t=w().vertexArrayObject;b()===c.WEBGL2?e.bindVertexArray(null):t&&t.bindVertexArrayOES(null)}},{key:"destroy",value:function(){var e=x(),t=w().vertexArrayObject;b()===c.WEBGL2?e.deleteVertexArray(this.vao):t&&t.deleteVertexArrayOES(this.vao),this.vao=null}}]),e}(),De=function(e){switch(e){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":case"mat2":return 4;case"mat3":return 9;case"mat4":return 16;default:throw new Error('"'+e+'" is an unknown type')}},Be=!1,Le=function(e){function t(){fe(this,t);var e=me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.attributes={},e.uniforms={},e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=1,e.clipping={enable:!1,planes:[j(),j(),j()]},e.instanceCount=0,e.isInstance=!1,e.mode=s.TRIANGLES,e.side=l.FRONT,e.type=String(a),e.shadows=!0,e}return ve(t,we),pe(t,[{key:"setAttribute",value:function(e,t,n){var i=De(t);this.attributes[e]={value:n,size:i}}},{key:"setIndex",value:function(e){this.indices={value:e}}},{key:"setUniform",value:function(e,t,n){this.uniforms[e]={value:n,type:t}}},{key:"setShader",value:function(e,t){this.vertex=e,this.fragment=t}},{key:"setInstanceAttribute",value:function(e,t,n){var i=De(t);this.attributes[e]={value:n,size:i,instanced:!0}}},{key:"setInstanceCount",value:function(e){this.instanceCount=e,this.instanceCount>0?this.isInstance=!0:this.isInstance=!1}},{key:"init",value:function(){var e=x();Be=b()===c.WEBGL2,this.vertex&&this.fragment&&(Be||(this.vertex=de(this.vertex,"vertex"),this.fragment=de(this.fragment,"fragment")),this.program=function(e,t,n,i){var r=ke["pool_"+i];if(!r){var o=Pe(e,t,e.VERTEX_SHADER),a=Pe(e,n,e.FRAGMENT_SHADER),s=e.createProgram();return e.attachShader(s,o),e.attachShader(s,a),e.linkProgram(s),ke["pool_"+i]=s,s}return r}(e,this.vertex,this.fragment,this.type),e.useProgram(this.program),this.vao=new Fe,function(e,t){var n=x();for(var i in e){var r=e[i],o=n.getAttribLocation(t,i),a=r.buffer;r.buffer||(a=n.createBuffer()),n.bindBuffer(n.ARRAY_BUFFER,a),n.bufferData(n.ARRAY_BUFFER,r.value,n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),Object.assign(r,{location:o,buffer:a})}}(this.attributes,this.program),function(e,t){var n=x(),i=[n.TEXTURE0,n.TEXTURE1,n.TEXTURE2,n.TEXTURE3,n.TEXTURE4,n.TEXTURE5],r=0;Object.keys(e).forEach(function(o){var a=e[o],s=n.getUniformLocation(t,o);Object.assign(a,{location:s}),"sampler2D"===a.type&&(a.textureIndex=r,a.activeTexture=i[r],r++)})}(this.uniforms,this.program),this.indices&&!this.indices.buffer&&(this.indices.buffer=e.createBuffer()))}},{key:"destroy",value:function(){this.program=null}},{key:"bind",value:function(){var e=x();!function(e){var t=x();Object.keys(e).forEach(function(n){var i=e[n],r=i.location,o=i.buffer,a=i.size,s=i.instanced;if(-1!==r){t.bindBuffer(t.ARRAY_BUFFER,o),t.vertexAttribPointer(r,a,t.FLOAT,!1,0,0),t.enableVertexAttribArray(r);var l=s?1:0;b()===c.WEBGL2?t.vertexAttribDivisor(r,l):w().instancedArrays.vertexAttribDivisorANGLE(r,l),t.bindBuffer(t.ARRAY_BUFFER,null)}})}(this.attributes,this.program),this.indices&&(e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indices.buffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices.value,e.STATIC_DRAW))}},{key:"unbind",value:function(){var e=x();e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}},{key:"update",value:function(e){var t=x();this.dirty.attributes&&(!function(e){var t=x();Object.keys(e).forEach(function(n){var i=e[n],r=i.location,o=i.buffer,a=i.value;-1!==r&&(t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,a,t.DYNAMIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null))})}(this.attributes),this.dirty.attributes=!0),function(e){var t=x();Object.keys(e).forEach(function(n){var i=e[n];switch(i.type){case"mat4":t.uniformMatrix4fv(i.location,!1,i.value);break;case"mat3":t.uniformMatrix3fv(i.location,!1,i.value);break;case"vec4":t.uniform4fv(i.location,i.value);break;case"vec3":t.uniform3fv(i.location,i.value);break;case"vec2":t.uniform2fv(i.location,i.value);break;case"float":t.uniform1f(i.location,i.value);break;case"sampler2D":t.activeTexture(i.activeTexture),t.bindTexture(t.TEXTURE_2D,i.value),t.uniform1i(i.location,i.textureIndex);break;default:throw new Error('"'+i.type+'" is an unknown uniform type')}})}(this.uniforms),this.polygonOffset?(t.enable(t.POLYGON_OFFSET_FILL),t.polygonOffset(this.polygonOffsetFactor,this.polygonOffsetUnits)):t.disable(t.POLYGON_OFFSET_FILL),this.transparent&&(t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.disable(t.DEPTH_TEST)),this.side===l.FRONT?(t.enable(t.CULL_FACE),t.cullFace(t.BACK)):this.side===l.BACK?(t.enable(t.CULL_FACE),t.cullFace(t.FRONT)):this.side===l.BOTH&&t.disable(t.CULL_FACE),e&&(t.enable(t.CULL_FACE),t.cullFace(t.FRONT))}},{key:"draw",value:function(){var e=x();this.isInstance?Be?e.drawElementsInstanced(this.mode,this.indices.value.length,e.UNSIGNED_SHORT,0,this.instanceCount):w().instancedArrays.drawElementsInstancedANGLE(this.mode,this.indices.value.length,e.UNSIGNED_SHORT,0,this.instanceCount):this.indices?e.drawElements(this.mode,this.indices.value.length,e.UNSIGNED_SHORT,0):e.drawArrays(this.mode,0,this.attributes.a_position.value.length/3)}}]),t}(),Ue=0,Ne=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fe(this,t);var n=me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._shader=null;var i=e.geometry,r=i.positions,o=i.indices,s=i.normals,l=i.uvs,c=e.shader||new Oe({color:e.color,map:e.map}),u=c.vertex,d=c.fragment,h=c.uniforms,f=c.type,p=c.mode;return n.type=void 0!==f?f:a+"-"+Ue++,void 0!==p&&(n.mode=p),n.setAttribute("a_position","vec3",new Float32Array(r)),o&&n.setIndex(new Uint16Array(o)),s&&n.setAttribute("a_normal","vec3",new Float32Array(s)),l&&n.setAttribute("a_uv","vec2",new Float32Array(l)),Object.keys(h).forEach(function(e){n.setUniform(e,h[e].type,h[e].value)}),n.setShader(u,d),n}return ve(t,Le),pe(t,[{key:"shader",set:function(e){this.dirty.shader=!0,this._shader=e,void 0!==e.type?this.type=e.type:this.type=a,this.setShader(e.vertex,e.fragment)},get:function(){return this._shader}}]),t}(),Ie=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fe(this,t);var n=me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=e&&e.size||10,r={positions:[].concat(ge(L(0,0,0)),ge(L(i,0,0)))},o={positions:[].concat(ge(L(0,0,0)),ge(L(0,i,0)))},a={positions:[].concat(ge(L(0,0,0)),ge(L(0,0,i)))},s=new Te({color:L(1,0,0),wireframe:!0}),l=new Te({color:L(0,1,0),wireframe:!0}),c=new Te({color:L(0,0,1),wireframe:!0}),u=new Ne({geometry:r,shader:s});n.add(u);var d=new Ne({geometry:o,shader:l});n.add(d);var h=new Ne({geometry:a,shader:c});return n.add(h),n}return ve(t,Le),t}(),ze=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fe(this,t);for(var n=me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=e&&e.size||1,r={positions:[]},o=e.model.scale.x,a=e.model.scale.y,s=e.model.scale.z,l=e.model.attributes.a_normal.value.length/3,c=0;c<l;c++){var u=3*c,d=o*e.model.attributes.a_position.value[u+0],h=a*e.model.attributes.a_position.value[u+1],f=s*e.model.attributes.a_position.value[u+2],p=d+i*e.model.attributes.a_normal.value[u+0],v=h+i*e.model.attributes.a_normal.value[u+1],m=f+i*e.model.attributes.a_normal.value[u+2];r.positions=r.positions.concat([d,h,f,p,v,m])}var g=new Te({color:L(0,1,1),wireframe:!0}),_=new Ne({geometry:r,shader:g});return n.add(_),n.reference=e.model,n}return ve(t,Le),pe(t,[{key:"update",value:function(){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this),U(this.position.data,this.reference.position.data),U(this.rotation.data,this.reference.rotation.data),this.lookToTarget=this.reference.lookToTarget}}]),t}(),je=Object.freeze({Axis:Ie,Normals:ze});var Ge=function(){function e(){fe(this,e),this.position=B()}return pe(e,[{key:"destroy",value:function(){}}]),e}(),He=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fe(this,t);var n=me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.type=o,n.color=e.color||L(1,1,1),n.intensity=e.intensity||.989,n}return ve(t,Ge),t}(),Xe=function(e){function t(){fe(this,t);var e=me(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.lights={directional:[]},e.fog={enable:!1,color:G(0,0,0,1),start:500,end:1e3,density:25e-5},e.clipping={enable:!1,planes:[j(),j(),j()]};var n=new He({near:1,far:1e3});return n.position[0]=125,n.position[1]=250,n.position[2]=500,e.addLight(n),e}return ve(t,we),pe(t,[{key:"addLight",value:function(e){switch(e.type){case o:this.lights.directional.push(e)}}},{key:"removeLight",value:function(e){var t=this.lights.directional.indexOf(e);-1!==t&&(e.destroy(),this.lights.directional.splice(t,1))}}]),t}(),Ve=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fe(this,e);var n=x();Object.assign(this,{width:512,height:512,internalformat:n.DEPTH_COMPONENT,type:n.UNSIGNED_SHORT},t),b()===c.WEBGL2&&(this.internalformat=n.DEPTH_COMPONENT24,this.type=n.UNSIGNED_INT),this.frameBuffer=n.createFramebuffer(),n.bindFramebuffer(n.FRAMEBUFFER,this.frameBuffer),this.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,this.width,this.height,0,n.RGBA,n.UNSIGNED_BYTE,null),this.depthTexture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.depthTexture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texImage2D(n.TEXTURE_2D,0,this.internalformat,this.width,this.height,0,n.DEPTH_COMPONENT,this.type,null),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.texture,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,this.depthTexture,0),n.bindFramebuffer(n.FRAMEBUFFER,null)}return pe(e,[{key:"setSize",value:function(e,t){var n=x();this.width=e,this.height=t,n.bindTexture(n.TEXTURE_2D,this.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,this.width,this.height,0,n.RGBA,n.UNSIGNED_BYTE,null),n.bindTexture(n.TEXTURE_2D,null),n.bindTexture(n.TEXTURE_2D,this.depthTexture),n.texImage2D(n.TEXTURE_2D,0,this.internalformat,this.width,this.height,0,n.DEPTH_COMPONENT,this.type,null),n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null)}}]),e}(),We=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fe(this,e),this.width=t.width||1024,this.height=t.height||1024;var n,i,r,o,a,s,l,c,u,d,h,f,p,v,m,g,_,b=this.width,y=this.height;this.rt=new Ve({width:b,height:y}),this.matrices={view:k(),shadow:k(),bias:(n=.5,i=0,r=0,o=0,a=0,s=.5,l=0,c=0,u=0,d=0,h=.5,f=0,p=.5,v=.5,m=.5,g=1,_=new R(16),_[0]=n,_[1]=i,_[2]=r,_[3]=o,_[4]=a,_[5]=s,_[6]=l,_[7]=c,_[8]=u,_[9]=d,_[10]=h,_[11]=f,_[12]=p,_[13]=v,_[14]=m,_[15]=g,_)},this.camera=new Ae({fov:60,near:1,far:1e3}),this.camera=new Ee,this.camera.position.z=1,this.setLightOrigin(t.light||L(100,250,500))}return pe(e,[{key:"setLightOrigin",value:function(e){U(this.camera.position.data,e),M(this.matrices.view),D(this.matrices.view,this.camera.position.data,this.camera.target,this.camera.up),M(this.matrices.shadow),F(this.matrices.shadow,this.camera.matrices.projection,this.matrices.view),F(this.matrices.shadow,this.matrices.bias,this.matrices.shadow)}}]),e}(),qe=void 0,Ye=Date.now(),Ke=!1,Je=j(),Qe=j(),Ze={view:k(),normal:k(),modelView:k(),inversedModelView:k()},$e=null,et=null,tt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fe(this,e),this.supported=!1,this.sorted={opaque:[],transparent:[],shadow:[]},this.performance={opaque:0,transparent:0,shadow:0,vertices:0,instances:0},this.ratio=t.ratio||window.devicePixelRatio,this.shadows=t.shadows||!1,this.domElement=t.canvas||document.createElement("canvas");var n,i=_(t.contextType),r=this.domElement.getContext(i,Object.assign({},{antialias:!1},t)),o=w();if(r&&(o.vertexArrayObject&&o.instancedArrays&&o.standardDerivatives&&o.depthTextures||null!==window.gli)){if(!1!==t.greeting){var a,s="color:#f33;font-size:x-small",l=["%c"+d+" - %cversion: %c"+h+" %crunning: %c"+r.getParameter(r.VERSION),"color:#666;font-size:x-small;font-weight:bold;","color:#777;font-size:x-small",s,"color:#777;font-size:x-small",s];(a=console).log.apply(a,l)}y(r),Ke=b()===c.WEBGL2,this.init()}else this.domElement=((n=document.createElement("div")).innerHTML='Your browser doesn\'t support WebGL.<br><a href="https://get.webgl.org">Get WebGL</a>',n.style.display="table",n.style.margin="20px auto 0 auto",n.style.border="1px solid #333",n.style.backgroundColor="rgba(255, 255, 255, 0.1)",n.style.borderRadius="4px",n.style.padding="10px",n.style.fontFamily="monospace",n.style.fontSize="12px",n.style.textAlign="center",n)}return pe(e,[{key:"init",value:function(){this.supported=!0,Ke&&(this.perScene=new Me([].concat(ge(k()),ge(k()),ge(Qe),ge(j()),ge(Je),ge(j()),ge(j()),ge(j()),ge(j())),0),this.perModel=new Me([].concat(ge(k()),ge(k()),ge(j()),ge(j()),ge(j()),ge(j())),1),this.directional=new Me(new Float32Array(12),2)),this.shadowmap=new We}},{key:"setSize",value:function(e,t){this.supported&&function(e,t,n,i){e.width=t*i,e.height=n*i,e.style.width=t+"px",e.style.height=n+"px"}(this.domElement,e,t,this.ratio)}},{key:"setRatio",value:function(e){this.ratio=e}},{key:"changeProgram",value:function(e){var t=x();if(t.useProgram(e),Ke){var n=t.getUniformBlockIndex(e,"perScene"),i=t.getUniformBlockIndex(e,"perModel"),r=t.getUniformBlockIndex(e,"directional");t.uniformBlockBinding(e,n,this.perScene.boundLocation),t.uniformBlockBinding(e,i,this.perModel.boundLocation),r===this.directional.boundLocation&&t.uniformBlockBinding(e,r,this.directional.boundLocation)}}},{key:"draw",value:function(e,t,n,i){if(this.supported){$e=e,et=t;var r=x();if(r.enable(r.DEPTH_TEST),r.enable(r.CULL_FACE),r.disable(r.BLEND),t.updateCameraMatrix(n,i),M(Ze.view),D(Ze.view,t.position.data,t.target,t.up),e.traverse()&&(this.sorted.opaque=[],this.sorted.transparent=[],this.sorted.shadow=[],this.performance.opaque=0,this.performance.transparent=0,this.performance.shadow=0,this.performance.vertices=0,this.performance.instances=0,this.sort(e)),Je[0]=(Date.now()-Ye)/1e3,Qe[0]=e.fog.enable,Qe[1]=e.fog.start,Qe[2]=e.fog.end,Qe[3]=e.fog.density,Ke){this.perScene.bind(),this.perModel.bind(),this.directional.bind(),this.perScene.update([].concat(ge(t.matrices.projection),ge(Ze.view),ge(Qe),ge(e.fog.color),ge(Je),[e.clipping.enable,0,0,0],ge(e.clipping.planes[0]),ge(e.clipping.planes[1]),ge(e.clipping.planes[2])));for(var o=0;o<e.lights.directional.length;o++)this.directional.update([].concat(ge(e.lights.directional[o].position),[0]).concat([].concat(ge(e.lights.directional[o].color),[0]),[e.lights.directional[o].intensity,0,0,0]),12*o)}if(this.shadowmap.setLightOrigin(e.lights.directional[0].position),this.renderShadow)for(var a=0;a<this.sorted.shadow.length;a++)this.renderObject(this.sorted.shadow[a],this.sorted.shadow[a].program,!0);for(var s=0;s<this.sorted.opaque.length;s++)this.renderObject(this.sorted.opaque[s],this.sorted.opaque[s].program);this.sorted.transparent.sort(function(e,t){return e.position.z-t.position.z});for(var l=0;l<this.sorted.transparent.length;l++)this.renderObject(this.sorted.transparent[l],this.sorted.transparent[l].program)}}},{key:"rtt",value:function(e){var t=e.renderTarget,n=e.scene,i=e.camera,r=e.clearColor,o=void 0===r?[0,0,0,1]:r;if(this.supported){var a=x();a.bindFramebuffer(a.FRAMEBUFFER,t.frameBuffer),a.viewport(0,0,t.width,t.height),a.clearColor.apply(a,ge(o)),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),this.draw(n,i,t.width,t.height),a.bindTexture(a.TEXTURE_2D,t.texture),a.bindTexture(a.TEXTURE_2D,null),a.bindFramebuffer(a.FRAMEBUFFER,null)}}},{key:"render",value:function(e,t){if(this.supported){var n=x();this.shadows&&(this.renderShadow=!0,this.rtt({renderTarget:this.shadowmap.rt,scene:e,camera:this.shadowmap.camera,clearColor:[1,1,1,1]}),this.renderShadow=!1),n.viewport(0,0,n.canvas.width,n.canvas.height),n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),this.draw(e,t,n.canvas.width,n.canvas.height)}}},{key:"updateMatrices",value:function(e){var t,n,i,r,o,a,s,l,c,u,d,h,f,p,v,m,g,_,b,y,x,w,E,A,C,T,S,O,R,k,F;M(Ze.modelView),P(Ze.modelView,e),t=Ze.inversedModelView,i=(n=Ze.modelView)[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=n[7],d=n[8],h=n[9],f=n[10],p=n[11],v=n[12],m=n[13],g=n[14],_=n[15],(F=(b=i*l-r*s)*(k=f*_-p*g)-(y=i*c-o*s)*(R=h*_-p*m)+(x=i*u-a*s)*(O=h*g-f*m)+(w=r*c-o*l)*(S=d*_-p*v)-(E=r*u-a*l)*(T=d*g-f*v)+(A=o*u-a*c)*(C=d*m-h*v))&&(F=1/F,t[0]=(l*k-c*R+u*O)*F,t[1]=(o*R-r*k-a*O)*F,t[2]=(m*A-g*E+_*w)*F,t[3]=(f*E-h*A-p*w)*F,t[4]=(c*S-s*k-u*T)*F,t[5]=(i*k-o*S+a*T)*F,t[6]=(g*x-v*A-_*y)*F,t[7]=(d*A-f*x+p*y)*F,t[8]=(s*R-l*S+u*C)*F,t[9]=(r*S-i*R-a*C)*F,t[10]=(v*E-m*x+_*b)*F,t[11]=(h*x-d*E-p*b)*F,t[12]=(l*T-s*O-c*C)*F,t[13]=(i*O-r*T+o*C)*F,t[14]=(m*y-v*w-g*b)*F,t[15]=(d*w-h*y+f*b)*F),function(e,t){if(e===t){var n=t[1],i=t[2],r=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=o,e[11]=t[14],e[12]=r,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15]}(Ze.inversedModelView,Ze.inversedModelView),M(Ze.normal),P(Ze.normal,Ze.inversedModelView)}},{key:"sort",value:function(e){for(var t=0;t<e.children.length;t++)this.sort(e.children[t]);!e.visible||e instanceof Xe||(e.transparent?(this.sorted.transparent.push(e),this.performance.transparent++):(this.sorted.opaque.push(e),this.performance.opaque++),this.shadows&&e.shadows&&(this.sorted.shadow.push(e),this.performance.shadow++),e.attributes.a_position&&(this.performance.vertices+=e.attributes.a_position.value.length/3),e.isInstance&&(this.performance.instances+=e.instanceCount)),e.dirty.sorting=!1}},{key:"renderObject",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null!==e.parent){if(this.updateMatrices(e.matrices.model),e.dirty.shader&&(e.dirty.shader=!1,t&&e.destroy()),!t)return this.initUniformsPerModel(e),void e.init();qe!==t&&(qe=t,this.changeProgram(qe,e.type)),e.bind(),this.updateUniformsPerModel(e),e.update(n),e.draw(),e.unbind()}}},{key:"initUniformsPerModel",value:function(e){Ke||(e.setUniform("projectionMatrix","mat4",k()),e.setUniform("viewMatrix","mat4",k()),e.setUniform("fogSettings","vec4",Qe),e.setUniform("fogColor","vec4",j()),e.setUniform("iGlobalTime","float",Je[0]),e.setUniform("globalClipSettings","vec4",j()),e.setUniform("globalClipPlane0","vec4",j()),e.setUniform("globalClipPlane1","vec4",j()),e.setUniform("globalClipPlane2","vec4",j()),e.setUniform("modelMatrix","mat4",k()),e.setUniform("normalMatrix","mat4",k()),e.setUniform("localClipSettings","vec4",j()),e.setUniform("localClipPlane0","vec4",j()),e.setUniform("localClipPlane1","vec4",j()),e.setUniform("localClipPlane2","vec4",j()),e.setUniform("dlPosition","vec4",j()),e.setUniform("dlColor","vec4",j()),e.setUniform("flIntensity","float",0)),e.setUniform("shadowMap","sampler2D",0),e.setUniform("shadowMatrix","mat4",k()),e.setUniform("shadowNear","float",0),e.setUniform("shadowFar","float",0)}},{key:"updateUniformsPerModel",value:function(e){Ke?this.perModel.update([].concat(ge(e.matrices.model),ge(Ze.normal),[e.clipping.enable,0,0,0],ge(e.clipping.planes[0]),ge(e.clipping.planes[1]),ge(e.clipping.planes[2]))):(e.uniforms.projectionMatrix.value=et.matrices.projection,e.uniforms.viewMatrix.value=Ze.view,e.uniforms.fogSettings.value=Qe,e.uniforms.fogColor.value=$e.fog.color,e.uniforms.iGlobalTime.value=Je[0],e.uniforms.globalClipSettings.value=[$e.clipping.enable,0,0,0],e.uniforms.globalClipPlane0.value=$e.clipping.planes[0],e.uniforms.globalClipPlane1.value=$e.clipping.planes[1],e.uniforms.globalClipPlane2.value=$e.clipping.planes[2],e.uniforms.modelMatrix.value=e.matrices.model,e.uniforms.normalMatrix.value=Ze.normal,e.uniforms.localClipSettings.value=[e.clipping.enable,0,0,0],e.uniforms.localClipPlane0.value=e.clipping.planes[0],e.uniforms.localClipPlane1.value=e.clipping.planes[0],e.uniforms.localClipPlane2.value=e.clipping.planes[0]),e.uniforms.shadowMap.value=this.shadowmap.rt.depthTexture,e.uniforms.shadowMatrix.value=this.shadowmap.matrices.shadow,e.uniforms.shadowNear.value=this.shadowmap.camera.near,e.uniforms.shadowFar.value=this.shadowmap.camera.far}}]),e}(),nt=function(){function e(t){fe(this,e),this.scene=new Xe;var n=t.vertex,i=t.fragment,r=t.uniforms;this.vertex=n,this.fragment=i,this.uniforms=r,this.enable=!0}return pe(e,[{key:"compile",value:function(){var e={vertex:"#version 300 es\n                in vec3 a_position;\n                in vec3 a_normal;\n                in vec2 a_uv;\n\n                "+E.scene()+"\n                "+E.model()+"\n\n                "+this.vertex,fragment:"#version 300 es\n                precision highp float;\n                precision highp int;\n\n                "+E.scene()+"\n                "+E.model()+"\n\n                out vec4 outColor;\n                "+this.fragment,uniforms:this.uniforms};this.quad=new Ne({geometry:{positions:[-1,-1,0,1,-1,0,1,1,0,-1,1,0],indices:[0,1,2,0,2,3],uvs:[0,0,1,0,1,1,0,1]},shader:e}),this.scene.add(this.quad)}},{key:"setUniform",value:function(e,t){this.quad.uniforms[e].value=t}}]),e}(),it={uniforms:{u_input:{type:"sampler2D",value:null}},vertex:"\n    out vec2 v_uv;\n    void main() {\n        gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(a_position, 1.0);\n        v_uv = a_uv;\n    }",fragment:"\n    in vec2 v_uv;\n\n    uniform sampler2D u_input;\n\n    void main() {\n        outColor = texture(u_input, v_uv);\n    }"},rt=function(){function e(t){fe(this,e),this.renderer=new tt(t),this.domElement=this.renderer.domElement,this.camera=new Ee,this.camera.position.z=100,this.passes=[],this.clearColor=G(0,0,0,1),this.screen=new nt(it),this.screen.compile(),this.buffers=[new Ve,new Ve],this.read=this.buffers[1],this.write=this.buffers[0]}return pe(e,[{key:"setSize",value:function(e,t){this.renderer.setSize(e,t),this.read.setSize(e,t),this.write.setSize(e,t)}},{key:"setRatio",value:function(e){this.renderer.setRatio(e)}},{key:"pass",value:function(e){this.passes.push(e)}},{key:"compile",value:function(){for(var e=0;e<this.passes.length;e++)this.passes[e].compile()}},{key:"renderToTexture",value:function(e,t,n){this.renderer.rtt({renderTarget:e,scene:t,camera:n,clearColor:this.clearColor})}},{key:"resetBuffers",value:function(){this.read=this.buffers[1],this.write=this.buffers[0]}},{key:"swapBuffers",value:function(){this.temp=this.read,this.read=this.write,this.write=this.temp}},{key:"render",value:function(e,t){this.resetBuffers(),this.renderToTexture(this.write,e,t);for(var n=this.passes.length,i=0;i<n;i++)this.passes[i].enable&&(this.swapBuffers(),this.passes[i].setUniform("u_input",this.read.texture),this.renderToTexture(this.write,this.passes[i].scene,this.camera));this.screen.setUniform("u_input",this.write.texture),this.renderer.render(this.screen.scene,this.camera)}}]),e}(),ot=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fe(this,e),this.theme=t.theme||{font:"font-family:sans-serif;font-size:xx-small;font-weight:bold;line-height:15px;-moz-osx-font-smoothing: grayscale;-webkit-font-smoothing: antialiased;",color1:"#242424",color2:"#2a2a2a",color3:"#666",color4:"#999"};var n=document.createElement("div");n.style.cssText="position:fixed;bottom:0;left:0;min-width:80px;opacity:0.9;z-index:10000;",this.holder=document.createElement("div"),this.holder.style.cssText="padding:3px;background-color:"+this.theme.color1+";",n.appendChild(this.holder);var i=document.createElement("div");i.style.cssText=this.theme.font+";color:"+this.theme.color3+";",i.innerHTML="Performance",this.holder.appendChild(i),this.msTexts=[],this.domElement=n}return pe(e,[{key:"rebuild",value:function(e){var t=this;this.msTexts=[],Object.keys(e).forEach(function(e){var n=document.createElement("div");n.style.cssText=t.theme.font+";color:"+t.theme.color4+";background-color:"+t.theme.color2+";",t.holder.appendChild(n),t.msTexts[e]=n})}},{key:"update",value:function(e){var t=this;Object.keys(this.msTexts).length!==Object.keys(e.performance).length&&this.rebuild(e.performance),Object.keys(e.performance).forEach(function(n){t.msTexts[n].textContent=n+": "+e.performance[n]})}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"utils",function(){return C}),n.d(t,"Tetrahedron",function(){return M}),n.d(t,"Hexahedron",function(){return F}),n.d(t,"Octahedron",function(){return D}),n.d(t,"Dodecahedron",function(){return B}),n.d(t,"Icosahedron",function(){return L}),n.d(t,"Plane",function(){return U}),n.d(t,"Box",function(){return N}),n.d(t,"Sphere",function(){return I}),n.d(t,"Torus",function(){return z}),n.d(t,"TorusKnot",function(){return j}),n.d(t,"Suzanne",function(){return G});var i="undefined"!=typeof Float32Array?Float32Array:Array;Math.PI;function r(){var e=new i(3);return e[0]=0,e[1]=0,e[2]=0,e}function o(e,t,n){var r=new i(3);return r[0]=e,r[1]=t,r[2]=n,r}function a(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function s(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function l(e,t){var n=t[0],i=t[1],r=t[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function c(e,t,n){var i=t[0],r=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=r*l-o*s,e[1]=o*a-i*l,e[2]=i*s-r*a,e}var u,d=function(e){var t=e[0],n=e[1],i=e[2];return Math.sqrt(t*t+n*n+i*i)};u=r();!function(){var e,t=((e=new i(4))[0]=0,e[1]=0,e[2]=0,e[3]=0,e)}();function h(){var e=new i(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function f(e,t,n,i){var r=t[0],o=t[1],a=t[2],s=t[3],l=n[0],c=n[1],u=n[2],d=n[3],h=void 0,f=void 0,p=void 0,v=void 0,m=void 0;return(f=r*l+o*c+a*u+s*d)<0&&(f=-f,l=-l,c=-c,u=-u,d=-d),1-f>1e-6?(h=Math.acos(f),p=Math.sin(h),v=Math.sin((1-i)*h)/p,m=Math.sin(i*h)/p):(v=1-i,m=i),e[0]=v*r+m*l,e[1]=v*o+m*c,e[2]=v*a+m*u,e[3]=v*s+m*d,e}var p,v,m,g,_,b,y,x=function(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=n*n+i*i+r*r+o*o;return a>0&&(a=1/Math.sqrt(a),e[0]=n*a,e[1]=i*a,e[2]=r*a,e[3]=o*a),e};p=r(),v=o(1,0,0),m=o(0,1,0),g=h(),_=h(),(b=new i(9))[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=1,b[5]=0,b[6]=0,b[7]=0,b[8]=1,y=b;!function(){var e,t=((e=new i(2))[0]=0,e[1]=0,e)}();function w(e){for(var t=[],n=0;n<e.length;n++)Array.isArray(e[n])||e[n]instanceof Float32Array?t=t.concat(w(e[n])):t.push(e[n]);return t}function E(e,t){for(var n=[],i=0;i<e.length;i+=t){for(var r=[],o=0;o<t;o++)r.push(e[i+o]);n.push(r)}return n}function A(e,t){for(var n=E(t,3),i=E(e,3),o=[],u=r(),d=r(),h=r(),f=void 0,p=void 0,v=0;v<n.length;v++){var m=n[v],g=m[0],_=m[1],b=m[2];f=i[g],p=i[_],s(u,i[b],p),s(d,f,p),c(h,u,d),void 0===o[g]&&(o[g]=r()),void 0===o[_]&&(o[_]=r()),void 0===o[b]&&(o[b]=r()),a(o[g],o[g],h),a(o[_],o[_],h),a(o[b],o[b],h)}for(var y=0;y<o.length;y++)l(o[y],o[y]);return w(o)}var C=Object.freeze({flatten:w,unflatten:E,generateVertexNormals:A,mergeVertices:function(e){for(var t=E(e.positions,3),n={},i=[],r=[],o=Math.pow(10,4),a=0;a<t.length;a++){var s=t[a],l="\n            "+Math.round(s[0]*o)+"_\n            "+Math.round(s[1]*o)+"_\n            "+Math.round(s[2]*o)+"\n        ";void 0===n[l]?(n[l]=a,i.push(t[a]),r[a]=i.length-1):r[a]=r[n[l]]}for(var c=[],u=E(e.indices,3),d=0;d<u.length;d++){var h=u[d];h[0]=r[h[0]],h[1]=r[h[1]],h[2]=r[h[2]];for(var f=[h[0],h[1],h[2]],p=0;p<3;p++)if(f[p]===f[(p+1)%3]){c.push(d);break}}for(var v=c.length-1;v>=0;v--){var m=c[v];u.splice(m,1);for(var g=0;g<this.faceVertexUvs.length;g++)this.faceVertexUvs[g].splice(m,1)}var _=w(i),b=w(u);return{positions:new Float32Array(_),indices:new Uint16Array(b),normals:new Float32Array(A(_,b))}}}),T=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},S=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),O=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},R=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},k=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},P=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;T(this,e);for(var o=[],a={faces:E(n,3),positions:E(t,3)},s=Math.min(r,4);s-- >0;)a=this.subdivide(a);for(var l=0;l<a.positions.length;l++){var c=this.normalize(a.positions[l]),u=.5*(-Math.atan2(c[2],-c[0])/Math.PI+1),d=.5+Math.asin(c[1])/Math.PI;o.push([1-u,1-d])}t=a.positions;for(var h=0;h<t.length;h++)this.scale(t[h],i);var f={positions:w(a.positions),indices:w(a.faces),normals:null,uvs:w(o)};this.geometry={positions:f.positions,indices:f.indices,normals:A(f.positions,f.indices),uvs:w(o)}}return S(e,[{key:"fixPoleUVs",value:function(e,t,n){var i=this.firstYIndex(e,1),r=this.firstYIndex(e,-1);if(-1!==i&&-1!==r){for(var o=e.slice(),a=n.slice(),s=o.length-1,l=0;l<t.length;l++){var c=t[l],u=c[0],d=c[1],h=c[2];u===i?f(c,i,d,h):u===r&&f(c,r,d,h)}e=o,n=a}function f(t,i,r,l){var c=n[r],u=n[l];n[i][0]=(c[0]+u[0])/2,s++,o.push(e[i].slice()),a.push(n[i].slice()),t[0]=s}}},{key:"firstYIndex",value:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(Math.abs(i[1]-t)<=1e-4)return n}return-1}},{key:"normalize",value:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]*e[n];if(0===(t=Math.sqrt(t)))return Array.apply(null,new Array(e.length)).map(Number.prototype.valueOf,0);for(var i=0;i<e.length;i++)e[i]/=t;return e}},{key:"scale",value:function(e,t){for(var n=0;n<e.length;n++)e[n]*=t;return e}},{key:"subdivide",value:function(e){var t=e.positions,n=e.faces,i=[],r=[],o={},a=0;function s(e,t){var n=function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2,(e[2]+t[2])/2]}(e,t),i=function(e){return e[0].toPrecision(6)+","+e[1].toPrecision(6)+","+e[2].toPrecision(6)}(n),r=o[i];return r||(o[i]=n,o[i])}for(var l=0;l<n.length;l++){var c=n[l],u=c[0],d=c[1],h=c[2],f=t[u],p=t[d],v=t[h],m=s(f,p),g=s(p,v),_=s(v,f),b=r.indexOf(m);-1===b&&(b=a++,r.push(m));var y=r.indexOf(g);-1===y&&(y=a++,r.push(g));var x=r.indexOf(_);-1===x&&(x=a++,r.push(_));var w=r.indexOf(f);-1===w&&(w=a++,r.push(f));var E=r.indexOf(p);-1===E&&(E=a++,r.push(p));var A=r.indexOf(v);-1===A&&(A=a++,r.push(v)),i.push([w,b,x]),i.push([E,y,b]),i.push([A,x,y]),i.push([b,y,x])}return{faces:i,positions:r}}}]),e}(),M=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;T(this,t);var r=R(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],n,i));return e=r.geometry,R(r,e)}return O(t,P),t}(),F=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;T(this,t);for(var r=[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1],o=0;o<r.length;o+=3)r[o+0]*=n,r[o+1]*=n,r[o+2]*=n;var a=R(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],n,i));return e=a.geometry,R(a,e)}return O(t,P),t}(),D=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;T(this,t);var r=R(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],n,i));return e=r.geometry,R(r,e)}return O(t,P),t}(),B=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;T(this,t);var r=(1+Math.sqrt(5))/2,o=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-r,0,-o,r,0,o,-r,0,o,r,-o,-r,0,-o,r,0,o,-r,0,o,r,0,-r,0,-o,r,0,-o,-r,0,o,r,0,o],s=R(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],n,i));return e=s.geometry,R(s,e)}return O(t,P),t}(),L=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;T(this,t);var r=.5+Math.sqrt(5)/2,o=[-1,+r,0,1,+r,0,-1,-r,0,1,-r,0,0,-1,+r,0,1,+r,0,-1,-r,0,1,-r,+r,0,-1,+r,0,1,-r,0,-1,-r,0,1],a=R(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],n,i));return e=a.geometry,R(a,e)}return O(t,P),t}(),U=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"XY";T(this,e);for(var a=[],s=[],l=[],c=[],u=0,d=2*t,h=2*n,f=d/i,p=h/r,v=.5*-d,m=.5*-h,g=1/i,_=1/r,b=0;b<r;b++)for(var y=0;y<i;y++){var x=f*y+v,w=p*b+m,E=y/i,A=b/r;switch(o){case"XZ":a=(a=(a=(a=a.concat([x,0,w])).concat([x+f,0,w])).concat([x+f,0,w+p])).concat([x,0,w+p]),l=(l=(l=(l=l.concat([0,1,0])).concat([0,1,0])).concat([0,1,0])).concat([0,1,0]),c=(c=(c=(c=c.concat([E,1-A])).concat([E+g,1-A])).concat([E+g,1-(A+_)])).concat([E,1-(A+_)]);break;case"YZ":a=(a=(a=(a=a.concat([0,w,x])).concat([0,w,x+f])).concat([0,w+p,x+f])).concat([0,w+p,x]),l=(l=(l=(l=l.concat([1,0,0])).concat([1,0,0])).concat([1,0,0])).concat([1,0,0]),c=(c=(c=(c=c.concat([1-E,A])).concat([1-(E+g),A])).concat([1-(E+g),A+_])).concat([1-E,A+_]);break;default:a=(a=(a=(a=a.concat([x,w,0])).concat([x+f,w,0])).concat([x+f,w+p,0])).concat([x,w+p,0]),l=(l=(l=(l=l.concat([0,0,1])).concat([0,0,1])).concat([0,0,1])).concat([0,0,1]),c=(c=(c=(c=c.concat([E,A])).concat([E+g,A])).concat([E+g,A+_])).concat([E,A+_])}s.push(4*u+0),s.push(4*u+1),s.push(4*u+2),s.push(4*u+0),s.push(4*u+2),s.push(4*u+3),u++}return{positions:a,indices:s,normals:l,uvs:c}},N=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;T(this,e);for(var r=[-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1],o=0;o<r.length;o+=3)r[o+0]*=t,r[o+1]*=n,r[o+2]*=i;return{positions:r,indices:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],normals:[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0],uvs:[0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]}},I=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*-Math.PI,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Math.PI,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;T(this,e);for(var u=[],d=[],h=[],f=[],p=r(),v=r(),m=s+c,g=0,_=[],b=0;b<=i;b++){for(var y=[],x=b/i,w=0;w<=n;w++){var E=w/n;p[0]=-t*Math.cos(o+E*a)*Math.sin(s+x*c),p[1]=t*Math.cos(s+x*c),p[2]=t*Math.sin(o+E*a)*Math.sin(s+x*c),u.push.apply(u,k(p)),l(v,p),h.push.apply(h,k(v)),f.push(E,1-x),y.push(g++)}_.push(y)}for(var A=0;A<i;A++)for(var C=0;C<n;C++){var S=_[A][C+1],O=_[A][C],R=_[A+1][C],P=_[A+1][C+1];(0!==A||s>0)&&d.push(S,O,P),(A!==i-1||m<Math.PI)&&d.push(O,R,P)}return{positions:u,indices:d,normals:h,uvs:f}},z=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.375,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;T(this,e);for(var c=[],u=[],d=[],h=[],f=r(),p=r(),v=r(),m=0;m<=o;m++)for(var g=0;g<=i;g++){var _=g/i*a,b=m/o*Math.PI*2;p[0]=(t+n*Math.cos(b))*Math.cos(_),p[1]=(t+n*Math.cos(b))*Math.sin(_),p[2]=n*Math.sin(b),c.push.apply(c,k(p)),f[0]=t*Math.cos(_),f[1]=t*Math.sin(_),s(v,p,f),l(v,v),d.push.apply(d,k(v)),h.push(g/i),h.push(m/o)}for(var y=1;y<=o;y++)for(var x=1;x<=i;x++){var w=(i+1)*y+(x-1),E=(i+1)*(y-1)+(x-1),A=(i+1)*(y-1)+x,C=(i+1)*y+x;u.push(w,E,C),u.push(E,A,C)}return{positions:c,indices:u,normals:d,uvs:h}},j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.375,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;T(this,e);for(var h=[],f=[],p=[],v=[],m=r(),g=r(),_=r(),b=r(),y=r(),x=r(),w=r(),E=0;E<=i;E++){var A=E/i*u*Math.PI*2;this.calculatePositionOnCurve(A,u,d,t,_),this.calculatePositionOnCurve(A+.01,u,d,t,b),s(x,b,_),a(w,b,_),c(y,x,w),c(w,y,x),l(y,y),l(w,w);for(var C=0;C<=o;C++){var S=C/o*Math.PI*2,O=-n*Math.cos(S),R=n*Math.sin(S);m[0]=_[0]+(O*w[0]+R*y[0]),m[1]=_[1]+(O*w[1]+R*y[1]),m[2]=_[2]+(O*w[2]+R*y[2]),h.push.apply(h,k(m)),s(g,m,_),l(g,g),p.push.apply(p,k(g)),v.push(E/i,C/o)}}for(var P=1;P<=i;P++)for(var M=1;M<=o;M++){var F=(o+1)*(P-1)+(M-1),D=(o+1)*P+(M-1),B=(o+1)*P+M,L=(o+1)*(P-1)+M;f.push(F,D,L),f.push(D,B,L)}return{positions:h,indices:f,normals:p,uvs:v}}return S(e,[{key:"calculatePositionOnCurve",value:function(e,t,n,i,r){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,l=Math.cos(s);r[0]=i*(2+l)*.5*o,r[1]=i*(2+l)*a*.5,r[2]=i*Math.sin(s)*.5}}]),e}(),G=function e(t){T(this,e);for(var n=[.35156,.24219,.82813,.44531,.15625,.78125,.47656,.24219,.77344,-.47656,.24219,.77344,-.44531,.15625,.78125,-.35156,.24219,.82813,.35156,.11719,.80469,-.35156,.11719,.80469,.26563,.15625,.82031,-.26563,.15625,.82031,.22656,.24219,.82031,-.22656,.24219,.82031,.26563,.33594,.82031,-.26563,.33594,.82031,.35156,.375,.80469,-.35156,.375,.80469,.44531,.33594,.78125,-.44531,.33594,.78125,.09375,-.75,.66406,.04688,-.85156,.63281,.09375,-.8125,.64063,-.09375,-.8125,.64063,-.04688,-.85156,.63281,-.09375,-.75,.66406,0,.40625,.60156,.10938,.46094,.60938,0,.57031,.57031,-.10938,.46094,.60938,.21875,-.28125,.42969,.21094,-.39063,.16406,.40625,-.17188,.14844,-.40625,-.17188,.14844,-.21094,-.39063,.16406,-.21875,-.28125,.42969,.4375,-.09375,.46875,.20313,-.17188,.5,.21094,-.22656,.46875,-.21094,-.22656,.46875,-.20313,-.17188,.5,-.4375,-.09375,.46875,.33594,.05469,-.66406,.48438,.02344,-.54688,.34375,-.14844,-.53906,-.34375,-.14844,-.53906,-.48438,.02344,-.54688,-.33594,.05469,-.66406,.72656,0,-.07031,.71875,-.02344,-.17188,.71875,.03906,-.1875,-.71875,.03906,-.1875,-.71875,-.02344,-.17188,-.72656,0,-.07031,1.03906,.32813,-.41406,1.08594,.27344,-.39063,1.1875,.34375,-.48438,-1.1875,.34375,-.48438,-1.08594,.27344,-.39063,-1.03906,.32813,-.41406,1.25,.46875,-.54688,1.36719,.29688,-.5,1.3125,.05469,-.53125,-1.3125,.05469,-.53125,-1.36719,.29688,-.5,-1.25,.46875,-.54688,-.78906,-.125,-.32813,-.64063,-.00781,-.42969,-.59375,-.125,-.16406,-.77344,-.14063,-.125,.59375,-.125,-.16406,.64063,-.00781,-.42969,.78906,-.125,-.32813,.77344,-.14063,-.125,-.85938,.38281,-.38281,-.77344,.26563,-.4375,.77344,.26563,-.4375,.85938,.38281,-.38281,-.89063,.40625,-.23438,-.82031,.32813,-.20313,.82031,.32813,-.20313,.89063,.40625,-.23438,-1.02344,.4375,-.48438,-1.03906,-.08594,-.49219,1.02344,.4375,-.48438,1.03906,-.08594,-.49219,-1.02344,.47656,-.3125,1.02344,.47656,-.3125,-1.23438,.50781,-.42188,1.23438,.50781,-.42188,-1.35156,.32031,-.42188,1.35156,.32031,-.42188,-1.28125,.05469,-.42969,1.28125,.05469,-.42969,-1.03906,-.10156,-.32813,1.03906,-.10156,-.32813,-1.10938,.21094,-.39063,-1.25781,.24219,-.49219,1.10938,.21094,-.39063,1.25781,.24219,-.49219,-1.05469,.1875,-.38281,-1.21094,.08594,-.48438,1.21094,.08594,-.48438,1.05469,.1875,-.38281,-1,.125,-.36719,-1.04688,0,-.42188,1.04688,0,-.42188,1,.125,-.36719,-.9375,.0625,-.33594,-.88281,-.01563,-.26563,.9375,.0625,-.33594,.88281,-.01563,-.26563,-.85156,.01563,-.32031,-.8125,-.01563,-.32031,.8125,-.01563,-.32031,.85156,.01563,-.32031,-.84375,.17188,-.32031,-.89063,.10938,-.32813,-.82813,.07813,-.32031,-.76563,.09375,-.32031,.82813,.07813,-.32031,.89063,.10938,-.32813,.84375,.17188,-.32031,.76563,.09375,-.32031,-.96094,.17188,-.35156,-.89063,.23438,-.32031,.89063,.23438,-.32031,.96094,.17188,-.35156,-1.01563,.23438,-.375,-.95313,.28906,-.34375,.95313,.28906,-.34375,1.01563,.23438,-.375,-1.03906,0,-.36719,-.88281,-.02344,-.21094,.88281,-.02344,-.21094,1.03906,0,-.36719,-1.1875,.09375,-.44531,1.1875,.09375,-.44531,-1.23438,.25,-.44531,1.23438,.25,-.44531,-1.17188,.35938,-.4375,1.17188,.35938,-.4375,-1.02344,.34375,-.35938,1.02344,.34375,-.35938,-.94531,.30469,-.28906,.94531,.30469,-.28906,-.8125,-.01563,-.27344,.8125,-.01563,-.27344,-.84375,.01563,-.27344,.84375,.01563,-.27344,-.82031,.08594,-.27344,.82031,.08594,-.27344,-.75781,.09375,-.27344,.75781,.09375,-.27344,-.83594,.17188,-.27344,.83594,.17188,-.27344,-.89063,.24219,-.26563,.89063,.24219,-.26563,-.79688,.20313,-.21094,-.85938,.32031,-.04688,.85938,.32031,-.04688,.79688,.20313,-.21094,-.84375,.28906,-.21094,.84375,.28906,-.21094,-.92188,.35938,-.21875,.92188,.35938,-.21875,-.82813,-.07031,-.13281,.82813,-.07031,-.13281,-.73438,-.04688,.07031,-.85156,.23438,.05469,.85156,.23438,.05469,.73438,-.04688,.07031,-1.01563,.41406,-.28906,1.01563,.41406,-.28906,-1.1875,.4375,-.39063,1.1875,.4375,-.39063,-1.26563,.28906,-.40625,1.26563,.28906,-.40625,-1.21094,.07813,-.40625,1.21094,.07813,-.40625,-1.03125,-.03906,-.30469,1.03125,-.03906,-.30469,-.42969,-.19531,-.21094,-.29688,-.3125,-.26563,.29688,-.3125,-.26563,.42969,-.19531,-.21094,-.61719,.32813,-.58594,-.46094,.4375,-.70313,.46094,.4375,-.70313,.61719,.32813,-.58594,-.60156,0,.41406,.60156,0,.41406,-.79688,.61719,-.11719,-.79688,.53906,-.35938,.79688,.53906,-.35938,.79688,.61719,-.11719,-.79688,.5625,.125,.79688,.5625,.125,-.72656,.40625,.33594,.72656,.40625,.33594,-.77344,.16406,.375,-.79688,.40625,.46094,.79688,.40625,.46094,.77344,.16406,.375,-.46094,.52344,.42969,-.48438,.55469,.55469,.48438,.55469,.55469,.46094,.52344,.42969,-.33594,.6875,.59375,-.19531,.66406,.61719,.19531,.66406,.61719,.33594,.6875,.59375,-.45313,.85156,.23438,0,.89844,.28906,.45313,.85156,.23438,-.63281,.45313,.28125,-.67969,.45313,.49219,.67969,.45313,.49219,.63281,.45313,.28125,-.64063,.70313,.05469,.64063,.70313,.05469,-.45313,.92969,-.07031,-.64063,.75,-.19531,.45313,.92969,-.07031,.64063,.75,-.19531,-.45313,.86719,-.38281,-.64063,.67969,-.44531,.45313,.86719,-.38281,.64063,.67969,-.44531,0,.89844,-.54688,0,.5625,-.85156,0,.98438,-.07813,0,.07031,-.82813,-.17969,-.41406,.25781,-.23438,-.35156,.40625,.23438,-.35156,.40625,.17969,-.41406,.25781,0,-.46094,.1875,0,-.48438,.28125,0,-.38281,-.35156,0,-.19531,-.67188,-.4375,-.14063,.53125,-.20313,-.1875,.5625,.20313,-.1875,.5625,.4375,-.14063,.53125,-.23438,-.25,.55469,.23438,-.25,.55469,-.25781,-.3125,.55469,-.3125,-.4375,.57031,.3125,-.4375,.57031,.25781,-.3125,.55469,-.25,-.5,.39063,-.35156,-.69531,.57031,.35156,-.69531,.57031,.25,-.5,.39063,-.125,-.53906,.35938,.125,-.53906,.35938,-.16406,-.94531,.4375,-.32813,-.91406,.39844,-.14063,-.75781,.36719,-.28906,-.71094,.38281,.28906,-.71094,.38281,.32813,-.91406,.39844,.14063,-.75781,.36719,.16406,-.94531,.4375,-.36719,-.89063,.53125,.36719,-.89063,.53125,-.32813,-.94531,.52344,.32813,-.94531,.52344,-.17969,-.96875,.55469,.17969,-.96875,.55469,0,-.97656,.46094,0,-.98438,.57813,0,-.80469,.34375,0,-.57031,.32031,-.63281,-.03906,.53906,.63281,-.03906,.53906,-.82813,.14844,.44531,.82813,.14844,.44531,-.85938,.42969,.59375,.85938,.42969,.59375,-.71094,.48438,.625,.71094,.48438,.625,-.49219,.60156,.6875,.49219,.60156,.6875,-.32031,.75781,.73438,.32031,.75781,.73438,-.15625,.71875,.75781,.15625,.71875,.75781,-.0625,.49219,.75,.0625,.49219,.75,0,.42969,.74219,-.20313,.17188,.75,-.1875,.15625,.77344,-.17188,.21875,.78125,-.19531,.22656,.75,.17188,.21875,.78125,.1875,.15625,.77344,.20313,.17188,.75,.19531,.22656,.75,-.17969,.29688,.78125,-.19531,.29688,.75781,.17969,.29688,.78125,.19531,.29688,.75781,-.21094,.375,.78125,-.23438,.35938,.75781,.21094,.375,.78125,.23438,.35938,.75781,-.24219,.125,.75781,-.22656,.10938,.78125,.22656,.10938,.78125,.24219,.125,.75781,-.375,.08594,.72656,-.375,.0625,.74219,.375,.0625,.74219,.375,.08594,.72656,-.46094,.11719,.70313,-.47656,.10156,.71875,.47656,.10156,.71875,.46094,.11719,.70313,-.54688,.21094,.67188,-.57813,.19531,.67969,.57813,.19531,.67969,.54688,.21094,.67188,-.55469,.28125,.67188,-.58594,.28906,.6875,.58594,.28906,.6875,.55469,.28125,.67188,-.53125,.33594,.67969,-.5625,.35156,.69531,.5625,.35156,.69531,.53125,.33594,.67969,-.41406,.39063,.75,-.42188,.39844,.77344,.42188,.39844,.77344,.41406,.39063,.75,-.33594,.40625,.75,-.33594,.42969,.75781,.33594,.42969,.75781,.33594,.40625,.75,-.28125,.39844,.76563,-.27344,.42188,.77344,.27344,.42188,.77344,.28125,.39844,.76563,-.16406,.41406,.77344,-.25,.46875,.75781,.25,.46875,.75781,.16406,.41406,.77344,-.32813,.47656,.74219,.32813,.47656,.74219,-.42969,.4375,.71875,.42969,.4375,.71875,-.60156,.375,.66406,.60156,.375,.66406,-.64063,.29688,.64844,.64063,.29688,.64844,-.625,.1875,.64844,.625,.1875,.64844,-.49219,.0625,.67188,.49219,.0625,.67188,-.375,.01563,.70313,.375,.01563,.70313,-.20313,.09375,.74219,.20313,.09375,.74219,-.16406,.14063,.75,.16406,.14063,.75,-.125,.30469,.76563,.125,.30469,.76563,-.13281,.21094,.75781,.13281,.21094,.75781,0,-.85938,.63281,0,-.78125,.65625,0,-.77344,.71875,-.09375,-.74219,.72656,.09375,-.74219,.72656,-.09375,-.82031,.71094,.09375,-.82031,.71094,-.04688,-.86719,.6875,.04688,-.86719,.6875,0,-.875,.6875,-.0625,-.88281,.69531,0,-.89063,.6875,.0625,-.88281,.69531,-.11719,-.83594,.71094,.11719,-.83594,.71094,-.10938,-.71875,.73438,.10938,-.71875,.73438,0,-.76563,.73438,-.16406,-.24219,.71094,-.125,-.10156,.8125,.125,-.10156,.8125,.16406,-.24219,.71094,-.17969,-.3125,.71094,.17969,-.3125,.71094,-.21094,-.44531,.71094,.21094,-.44531,.71094,-.07813,-.44531,.75,-.08594,-.28906,.74219,.08594,-.28906,.74219,.07813,-.44531,.75,-.125,-.22656,.75,.125,-.22656,.75,-.10156,-.14844,.74219,.10156,-.14844,.74219,0,-.14063,.74219,0,.04688,.72656,-.07813,-.25,.80469,0,-.28906,.80469,0,-.20313,.82813,-.10938,-.22656,.82813,.07813,-.25,.80469,.10938,-.22656,.82813,-.09375,-.15625,.8125,-.04688,-.14844,.8125,.04688,-.14844,.8125,.09375,-.15625,.8125,-.13281,-.22656,.79688,-.09375,-.27344,.78125,.13281,-.22656,.79688,.09375,-.27344,.78125,-.10938,-.13281,.78125,.10938,-.13281,.78125,-.03906,-.125,.78125,.03906,-.125,.78125,0,-.1875,.79688,0,-.32031,.78125,0,-.32813,.74219,0,-.19531,.75,-.11719,-.6875,.73438,0,-.67969,.73438,.11719,-.6875,.73438,0,-.44531,.75,-.25,-.70313,.6875,-.26563,-.82031,.66406,.26563,-.82031,.66406,.25,-.70313,.6875,-.23438,-.91406,.63281,.23438,-.91406,.63281,-.16406,-.92969,.63281,.16406,-.92969,.63281,0,-.94531,.64063,0,.21094,.76563,0,.35156,.82031,-.10156,.42969,.84375,.10156,.42969,.84375,-.39844,-.04688,.67188,.39844,-.04688,.67188,-.61719,.05469,.625,.61719,.05469,.625,-.72656,.20313,.60156,.72656,.20313,.60156,-.74219,.375,.65625,.74219,.375,.65625,-.6875,.41406,.72656,.6875,.41406,.72656,-.4375,.54688,.79688,.4375,.54688,.79688,-.3125,.64063,.83594,.3125,.64063,.83594,-.20313,.61719,.85156,.20313,.61719,.85156,-.46875,.24219,.75781,-.4375,.16406,.76563,.4375,.16406,.76563,.46875,.24219,.75781,-.35156,.13281,.78125,.35156,.13281,.78125,-.27344,.16406,.79688,.27344,.16406,.79688,-.24219,.24219,.79688,.24219,.24219,.79688,-.27344,.32813,.79688,.27344,.32813,.79688,-.35156,.35938,.78125,.35156,.35938,.78125,-.4375,.32813,.76563,.4375,.32813,.76563,-.5625,.24219,.67188,-.5,.39063,.6875,.5,.39063,.6875,.5625,.24219,.67188,-.625,.24219,.5625,-.54688,.4375,.57813,.54688,.4375,.57813,.625,.24219,.5625,-.35156,.51563,.61719,-.35156,.45313,.71875,.35156,.45313,.71875,.35156,.51563,.61719,-.20313,.39063,.74219,.20313,.39063,.74219,-.15625,.4375,.64844,.15625,.4375,.64844,-.07813,.24219,.65625,-.14063,.24219,.74219,.14063,.24219,.74219,.07813,.24219,.65625,-.20313,.09375,.74219,.20313,.09375,.74219,-.15625,.05469,.64844,.15625,.05469,.64844,-.35156,.03125,.71875,-.35156,-.02344,.61719,.35156,.03125,.71875,.35156,-.02344,.61719,-.5,.09375,.6875,.5,.09375,.6875,-.54688,.05469,.57813,.54688,.05469,.57813],i=[],r=0;r<n.length;r++){var o=n[r];i.push(o*t)}return{positions:i,indices:[0,1,2,3,4,5,6,1,0,5,4,7,0,8,6,7,9,5,0,10,8,9,11,5,0,12,10,11,13,5,0,14,12,13,15,5,0,16,14,15,17,5,0,2,16,17,3,5,18,19,20,21,22,23,24,25,26,26,27,24,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,64,66,67,68,69,70,68,70,71,64,72,73,64,73,65,74,75,70,74,70,69,76,77,72,77,73,72,74,78,75,78,79,75,61,63,80,61,80,81,82,58,60,82,60,83,64,81,72,81,80,72,82,83,75,83,70,75,80,84,72,84,76,72,79,85,75,85,82,75,63,86,80,86,84,80,85,87,82,87,58,82,62,88,63,88,86,63,87,89,58,89,59,58,61,90,62,90,88,62,89,91,59,91,60,59,81,92,90,81,90,61,91,93,83,91,83,60,64,67,92,64,92,81,93,71,70,93,70,83,94,56,55,94,55,95,54,53,96,54,96,97,98,94,99,94,95,99,97,96,100,96,101,100,102,98,103,98,99,103,100,101,104,101,105,104,106,102,103,106,103,107,104,105,108,104,108,109,106,107,110,107,111,110,112,109,113,109,108,113,114,115,116,114,116,117,118,119,120,118,120,121,115,114,122,114,123,122,124,120,125,120,119,125,126,122,127,122,123,127,124,125,128,125,129,128,126,127,57,126,57,56,52,128,129,52,129,53,94,98,56,98,126,56,129,101,53,101,96,53,98,102,122,98,122,126,125,105,101,125,101,129,102,106,122,106,115,122,119,108,125,108,105,125,106,110,115,110,116,115,118,113,119,113,108,119,103,130,107,130,131,107,132,133,109,133,104,109,99,134,103,134,130,103,133,135,104,135,100,104,95,136,99,136,134,99,135,137,100,137,97,100,55,138,136,55,136,95,137,139,54,137,54,97,57,140,138,57,138,55,139,141,52,139,52,54,127,142,140,127,140,57,141,143,128,141,128,52,107,131,144,107,144,111,145,132,109,145,109,112,111,144,146,111,146,110,147,145,112,147,112,113,110,146,116,146,148,116,149,147,118,147,113,118,116,148,117,148,150,117,151,149,121,149,118,121,117,150,152,117,152,114,153,151,121,153,121,120,114,152,123,152,154,123,155,153,124,153,120,124,123,154,142,123,142,127,143,155,124,143,124,128,49,51,156,51,157,156,158,46,159,46,48,159,160,156,77,156,157,77,158,159,78,159,161,78,154,160,142,160,162,142,163,161,143,161,155,143,152,156,154,156,160,154,161,159,155,159,153,155,49,156,150,156,152,150,153,159,151,159,48,151,146,49,150,146,150,148,151,48,147,151,147,149,50,49,144,49,146,144,147,48,145,48,47,145,144,131,164,144,164,50,165,132,145,165,145,47,162,160,77,162,77,76,78,161,163,78,163,79,51,166,167,51,167,157,168,169,46,168,46,158,164,67,50,67,66,50,68,71,47,71,165,47,50,66,51,66,166,51,169,68,46,68,47,46,142,162,170,142,170,140,171,163,143,171,143,141,138,140,172,140,170,172,171,141,173,141,139,173,136,138,174,138,172,174,173,139,175,139,137,175,134,136,176,136,174,176,175,137,177,137,135,177,130,134,176,130,176,178,177,135,133,177,133,179,131,130,178,131,178,164,179,133,132,179,132,165,164,178,92,164,92,67,93,179,165,93,165,71,178,176,92,176,90,92,91,177,93,177,179,93,176,174,90,174,88,90,89,175,91,175,177,91,174,172,88,172,86,88,87,173,89,173,175,89,172,170,84,172,84,86,85,171,173,85,173,87,162,76,170,76,84,170,85,79,171,79,163,171,44,43,180,43,181,180,182,42,183,42,41,183,44,180,65,180,66,65,68,183,69,183,41,69,44,184,45,184,185,45,186,187,40,187,41,40,44,65,184,65,73,184,74,69,187,69,41,187,33,37,39,33,39,31,34,36,28,34,28,30,31,39,188,31,188,166,189,34,30,189,30,169,180,31,66,31,166,66,169,30,68,30,183,68,180,181,31,181,32,31,29,182,30,182,183,30,190,191,77,191,73,77,74,192,78,192,193,78,190,77,157,190,157,194,158,78,193,158,193,195,194,157,167,194,167,196,168,158,195,168,195,197,167,198,196,198,199,196,200,201,197,201,168,197,202,203,27,202,27,26,25,204,205,25,205,26,206,207,203,207,27,203,25,208,204,208,209,204,210,202,211,202,26,211,26,205,211,205,212,211,213,214,202,214,203,202,204,215,205,215,216,205,213,202,210,213,210,217,212,205,216,212,216,218,217,210,219,217,219,220,221,212,218,221,218,222,220,219,223,220,223,224,225,221,222,225,222,226,224,223,185,224,185,184,186,225,226,186,226,187,224,184,191,184,73,191,74,187,192,187,226,192,191,190,220,191,220,224,222,193,192,222,192,226,190,194,217,190,217,220,218,195,193,218,193,222,194,196,213,194,213,217,216,197,195,216,195,218,196,199,214,196,214,213,215,200,197,215,197,216,185,223,227,185,227,228,227,225,186,227,186,228,223,219,229,223,229,227,229,221,225,229,225,227,219,210,229,210,211,229,211,212,229,212,221,229,45,185,230,185,228,230,228,186,230,186,40,230,166,188,198,166,198,167,201,189,169,201,169,168,32,231,33,231,232,33,233,234,28,234,29,28,231,32,235,231,235,236,235,29,234,235,234,236,32,181,237,32,237,235,237,182,29,237,29,235,181,43,237,43,238,237,238,42,237,42,182,237,43,45,238,45,230,238,230,40,238,40,42,238,39,38,239,38,240,239,241,35,242,35,34,242,37,243,38,243,240,38,241,244,35,244,36,35,33,232,245,232,246,245,247,233,248,233,28,248,37,33,243,33,245,243,248,28,244,28,36,244,249,250,246,249,246,232,247,251,252,247,252,233,253,249,231,249,232,231,233,252,234,252,254,234,255,256,257,256,258,257,259,260,261,260,262,261,253,257,258,253,258,249,259,261,254,259,254,252,258,263,250,258,250,249,251,264,259,251,259,252,256,265,263,256,263,258,264,266,260,264,260,259,255,267,265,255,265,256,266,268,262,266,262,260,269,270,267,269,267,255,268,270,269,268,269,262,257,271,255,271,269,255,269,271,262,271,261,262,253,272,257,272,271,257,271,272,261,272,254,261,231,236,253,236,272,253,272,236,254,236,234,254,39,239,273,39,273,188,274,242,34,274,34,189,188,273,275,188,275,198,276,274,189,276,189,201,198,275,199,275,277,199,278,276,200,276,201,200,199,277,279,199,279,214,280,278,200,280,200,215,214,279,203,279,281,203,282,280,204,280,215,204,203,281,206,281,283,206,284,282,209,282,204,209,206,283,207,283,285,207,286,284,208,284,209,208,207,285,287,207,287,27,288,286,208,288,208,25,27,287,289,27,289,24,289,288,25,289,25,24,290,291,292,290,292,293,294,295,296,294,296,297,293,292,298,293,298,299,300,294,297,300,297,301,299,298,302,299,302,303,304,300,301,304,301,305,306,307,291,306,291,290,295,308,309,295,309,296,310,311,306,311,307,306,308,312,309,312,313,309,314,315,310,315,311,310,312,316,313,316,317,313,318,319,315,318,315,314,316,320,321,316,321,317,322,323,318,323,319,318,320,324,321,324,325,321,326,327,323,326,323,322,324,328,329,324,329,325,330,331,326,331,327,326,328,332,329,332,333,329,334,335,330,335,331,330,332,336,333,336,337,333,338,339,335,338,335,334,336,340,341,336,341,337,303,302,339,303,339,338,340,304,305,340,305,341,302,342,343,302,343,339,344,345,304,344,304,340,339,343,346,339,346,335,347,344,340,347,340,336,335,346,348,335,348,331,349,347,336,349,336,332,331,348,327,348,350,327,351,349,328,349,332,328,327,350,323,350,352,323,353,351,324,351,328,324,323,352,354,323,354,319,355,353,324,355,324,320,319,354,356,319,356,315,357,355,320,357,320,316,315,356,358,315,358,311,359,357,316,359,316,312,311,358,360,311,360,307,361,359,312,361,312,308,307,360,291,360,362,291,363,361,295,361,308,295,298,364,302,364,342,302,345,365,304,365,300,304,292,366,364,292,364,298,365,367,294,365,294,300,291,362,366,291,366,292,367,363,295,367,295,294,22,368,369,22,369,23,369,368,19,369,19,18,369,370,23,370,371,23,372,370,18,370,369,18,23,371,373,23,373,21,374,372,18,374,18,20,21,373,375,21,375,22,376,374,20,376,20,19,22,375,368,375,377,368,377,376,368,376,19,368,375,378,379,375,379,377,379,380,376,379,376,377,373,381,378,373,378,375,380,382,374,380,374,376,371,383,381,371,381,373,382,384,372,382,372,374,370,385,371,385,383,371,384,385,372,385,370,372,386,387,240,386,240,243,241,388,389,241,389,244,386,243,390,243,245,390,248,244,391,244,389,391,390,245,392,245,246,392,247,248,393,248,391,393,392,394,390,394,395,390,396,397,391,397,393,391,390,395,386,395,398,386,399,396,389,396,391,389,386,398,400,386,400,387,401,399,389,401,389,388,387,400,402,387,402,403,402,401,388,402,388,403,404,405,406,404,406,407,406,405,408,406,408,409,410,407,411,407,406,411,406,409,412,409,413,412,404,407,414,404,414,415,416,409,408,416,408,417,407,410,414,410,418,414,419,413,416,413,409,416,410,411,420,410,420,418,421,412,413,421,413,419,411,406,422,411,422,420,422,406,412,422,412,421,404,415,405,415,423,405,423,417,405,417,408,405,415,395,423,395,424,423,424,396,423,396,417,423,420,422,402,422,425,402,425,422,402,422,421,402,418,420,400,420,402,400,402,421,401,421,419,401,414,418,398,418,400,398,401,419,399,419,416,399,415,414,398,415,398,395,399,416,417,399,417,396,426,383,427,383,385,427,385,384,427,384,428,427,429,394,427,394,426,427,428,397,427,397,429,427,429,424,394,424,395,394,396,424,397,424,429,397,430,431,383,430,383,426,384,432,433,384,433,428,426,394,392,426,392,430,393,397,428,393,428,433,434,381,431,381,383,431,384,382,432,382,435,432,436,378,381,436,381,434,382,380,437,382,437,435,438,379,378,438,378,436,380,379,438,380,438,437,366,362,439,362,403,439,403,363,439,363,367,439,439,440,364,439,364,366,365,440,439,365,439,367,440,441,364,441,342,364,345,442,365,442,440,365,403,362,360,403,360,387,361,363,403,361,403,388,443,387,360,443,360,358,361,388,444,361,444,359,445,443,356,443,358,356,359,444,357,444,446,357,447,445,354,445,356,354,357,446,355,446,448,355,449,447,352,447,354,352,355,448,353,448,450,353,451,449,350,449,352,350,353,450,351,450,452,351,453,451,348,451,350,348,351,452,349,452,454,349,455,453,346,453,348,346,349,454,347,454,456,347,455,346,343,455,343,457,344,347,456,344,456,458,457,343,441,343,342,441,345,344,442,344,458,442,440,289,441,289,287,441,288,289,442,289,440,442,441,287,457,287,285,457,286,288,458,288,442,458,457,285,455,285,283,455,284,286,456,286,458,456,455,283,281,455,281,453,282,284,456,282,456,454,453,281,451,281,279,451,280,282,452,282,454,452,451,279,449,279,277,449,278,280,450,280,452,450,449,277,447,277,275,447,276,278,448,278,450,448,447,275,273,447,273,445,274,276,448,274,448,446,445,273,443,273,239,443,242,274,444,274,446,444,443,239,240,443,240,387,241,242,444,241,444,388,430,392,246,430,246,250,247,393,433,247,433,251,431,430,250,431,250,263,251,433,432,251,432,264,434,431,263,434,263,265,264,432,435,264,435,266,436,434,267,434,265,267,266,435,268,435,437,268,438,436,270,436,267,270,268,437,270,437,438,270,3,459,460,3,460,4,461,462,2,461,2,1,4,460,463,4,463,7,464,461,1,464,1,6,7,463,465,7,465,9,466,464,6,466,6,8,9,465,467,9,467,11,468,466,8,468,8,10,11,467,13,467,469,13,470,468,12,468,10,12,13,469,15,469,471,15,472,470,14,470,12,14,15,471,17,471,473,17,474,472,16,472,14,16,17,473,3,473,459,3,462,474,2,474,16,2,475,459,476,459,473,476,474,462,477,462,478,477,479,475,480,475,476,480,477,478,481,478,482,481,480,476,483,476,484,483,485,477,486,477,481,486,476,473,484,473,471,484,472,474,485,474,477,485,484,471,487,471,469,487,470,472,488,472,485,488,483,484,489,484,487,489,488,485,490,485,486,490,489,487,491,487,492,491,493,488,494,488,490,494,487,469,467,487,467,492,468,470,488,468,488,493,492,467,495,467,465,495,466,468,496,468,493,496,491,492,497,492,495,497,496,493,498,493,494,498,497,495,499,497,499,500,501,496,498,501,498,502,495,465,463,495,463,499,464,466,496,464,496,501,499,463,460,499,460,503,461,464,501,461,501,504,500,499,503,500,503,505,504,501,502,504,502,506,505,503,475,505,475,479,478,504,506,478,506,482,503,460,459,503,459,475,462,461,504,462,504,478],normals:[.18976,-.00357,.98181,.64681,-.7582,.08209,.99957,-.0145,-.02445,-.99957,-.0145,-.02445,-.64681,-.7582,.08209,-.18976,-.00357,.98181,-.08579,-.98297,.16239,.08579,-.98297,.16239,-.74483,-.62377,.23682,.74483,-.62377,.23682,-.87097,-.01471,.4911,.87097,-.01471,.4911,-.75835,.60613,.23969,.75835,.60613,.23969,-.08579,.98251,.16511,.08579,.98251,.16511,.65514,.75063,.08557,-.65514,.75063,.08557,-.34928,-.71993,.59972,-.17368,.21574,.96084,-.80984,.38829,.43974,.80984,.38829,.43974,.17368,.21574,.96084,.34928,-.71993,.59972,0,.79418,.60765,-.50865,.85812,-.06989,0,.48708,.87335,.50865,.85812,-.06989,.98141,-.18668,.04395,.56981,-.82171,.00781,.56346,-.81457,.13767,-.56346,-.81457,.13767,-.56981,-.82171,.00781,-.98141,-.18668,.04395,.47584,-.87625,.07538,.85052,-.52553,-.02069,.87695,-.16382,.45177,-.87695,-.16382,.45177,-.85052,-.52553,-.02069,-.47584,-.87625,.07538,.44829,-.36787,-.81466,.53053,-.53945,-.65383,.51308,-.67467,-.53059,-.51308,-.67467,-.53059,-.53053,-.53945,-.65383,-.44829,-.36787,-.81466,.88818,-.43995,-.13239,.58852,.22697,.77593,.91153,-.11527,.39467,-.91153,-.11527,.39467,-.58852,.22697,.77593,-.88818,-.43995,-.13239,.46889,-.30473,.829,.25156,.26078,.932,-.00308,-.33088,.94363,.00308,-.33088,.94363,-.25156,.26078,.932,-.46889,-.30473,.829,.47307,.579,-.66402,.99246,.02863,-.1189,.45997,-.38026,-.80236,-.45997,-.38026,-.80236,-.99246,.02863,-.1189,-.47307,.579,-.66402,-.05991,-.80471,-.59059,-.34614,-.63729,-.6885,-.33055,-.94324,.03128,-.07367,-.59499,.80032,.33055,-.94324,.03128,.34614,-.63729,-.6885,.05991,-.80471,-.59059,.07367,-.59499,.80032,.59374,.59526,-.54137,-.62606,-.00269,-.77975,.62606,-.00269,-.77975,-.59374,.59526,-.54137,.12769,.70376,.69884,-.71383,.38218,.58681,.71383,.38218,.58681,-.12769,.70376,.69884,.37806,.56005,-.73714,.03681,-.70846,-.70476,-.37806,.56005,-.73714,-.03681,-.70846,-.70476,-.03156,.83871,.54363,.03156,.83871,.54363,-.36116,.84869,.3863,.36116,.84869,.3863,-.71639,.20447,.66704,.71639,.20447,.66704,-.66204,-.41377,.62487,.66204,-.41377,.62487,-.53023,-.65575,.53737,.53023,-.65575,.53737,-.43748,.00122,.8992,.55098,-.1381,.82299,.43748,.00122,.8992,-.55098,-.1381,.82299,-.31596,-.1023,.94321,.60854,.29612,.73617,-.60854,.29612,.73617,.31596,-.1023,.94321,-.44548,-.08878,.89087,-.2577,.60002,.75732,.2577,.60002,.75732,.44548,-.08878,.89087,-.3278,.16993,.92932,.04178,.92721,.37211,.3278,.16993,.92932,-.04178,.92721,.37211,-.27793,.2602,.92468,-.75072,.11155,.65111,.75072,.11155,.65111,.27793,.2602,.92468,-.43791,-.29398,.84957,-.18378,.03684,.98227,-.55422,.38722,.73681,-.81433,.25343,.52211,.55422,.38722,.73681,.18378,.03684,.98227,.43791,-.29398,.84957,.81433,.25343,.52211,-.32667,-.00162,.94513,-.70434,-.52687,.47569,.70434,-.52687,.47569,.32667,-.00162,.94513,-.30879,.13462,.94153,-.62917,-.37144,.68273,.62917,-.37144,.68273,.30879,.13462,.94153,.14618,.94864,.28047,-.13752,.90582,.40071,.13752,.90582,.40071,-.14618,.94864,.28047,.72375,.69002,-.00522,-.72375,.69002,-.00522,.99469,-.07801,.06702,-.99469,-.07801,.06702,.20093,-.75814,.62035,-.20093,-.75814,.62035,-.54125,-.67266,.5045,.54125,-.67266,.5045,-.69005,-.55321,.46663,.69005,-.55321,.46663,-.464,.68667,.55956,.464,.68667,.55956,-.82745,-.1359,.54479,.82745,-.1359,.54479,-.46623,.80886,.3582,.46623,.80886,.3582,-.74398,-.02292,.66778,.74398,-.02292,.66778,-.71129,-.63833,.29414,.71129,-.63833,.29414,-.70977,-.502,.49413,.70977,-.502,.49413,-.8189,-.42552,.38511,-.99252,-.07144,-.09876,.99252,-.07144,-.09876,.8189,-.42552,.38511,-.43919,-.27357,.85571,.43919,-.27357,.85571,-.41469,-.05988,.90796,.41469,-.05988,.90796,-.34156,.45213,.82394,.34156,.45213,.82394,-.72451,-.68493,.07663,-.98755,-.12302,.09799,.98755,-.12302,.09799,.72451,-.68493,.07663,-.57274,-.08844,.81494,.57274,-.08844,.81494,-.29182,-.1521,.94427,.29182,-.1521,.94427,.23966,-.1286,.96228,-.23966,-.1286,.96228,.18702,.37068,.9097,-.18702,.37068,.9097,-.45579,.42317,.78304,.45579,.42317,.78304,-.5435,-.81338,-.20734,-.56005,-.81442,-.15174,.56005,-.81442,-.15174,.5435,-.81338,-.20734,-.61538,-.08765,-.78332,-.44731,.22953,-.86441,.44731,.22953,-.86441,.61538,-.08765,-.78332,-.54717,-.83218,-.08979,.54717,-.83218,-.08979,-.87313,.48698,-.02026,-.86535,.33122,-.37605,.86535,.33122,-.37605,.87313,.48698,-.02026,-.74874,.51839,.41304,.74874,.51839,.41304,-.76617,.63482,.09961,.76617,.63482,.09961,-.95318,-.2483,-.17243,-.66564,.6025,-.44032,.66564,.6025,-.44032,.95318,-.2483,-.17243,-.32264,.84771,.42103,-.18857,.78893,-.58477,.18857,.78893,-.58477,.32264,.84771,.42103,-.23978,.74526,-.62212,.49425,.52058,-.69616,-.49425,.52058,-.69616,.23978,.74526,-.62212,-.4807,.73122,.48393,0,.75869,.65142,.4807,.73122,.48393,-.48924,.76296,.4225,-.36311,.90857,-.20646,.36311,.90857,-.20646,.48924,.76296,.4225,-.64504,.69454,.31861,.64504,.69454,.31861,-.49284,.86901,.04306,-.67943,.72897,-.08347,.49284,.86901,.04306,.67943,.72897,-.08347,-.39174,.82601,-.40522,-.6444,.52721,-.55388,.39174,.82601,-.40522,.6444,.52721,-.55388,0,.80071,-.59902,0,.33073,-.94369,0,.99966,.02564,0,-.27146,-.96243,-.68529,-.58315,-.43623,-.90722,.2526,-.33625,.90722,.2526,-.33625,.68529,-.58315,-.43623,0,-.98434,-.17621,0,-.73635,-.67656,0,-.94876,-.31593,0,-.64824,-.76141,-.31736,-.94696,-.04996,-.83828,-.40815,.36146,.83828,-.40815,.36146,.31736,-.94696,-.04996,-.93936,.326,.10611,.93936,.326,.10611,-.93063,.34016,.13477,-.96014,.23136,.15677,.96014,.23136,.15677,.93063,.34016,.13477,-.81256,-.00107,-.58284,-.97958,.09339,.17786,.97958,.09339,.17786,.81256,-.00107,-.58284,-.27253,-.30116,-.91379,.27253,-.30116,-.91379,-.09091,-.77633,-.62371,-.50685,-.48814,-.71047,-.14252,-.14728,-.97876,-.63726,.09333,-.76495,.63726,.09333,-.76495,.50685,-.48814,-.71047,.14252,-.14728,-.97876,.09091,-.77633,-.62371,-.93728,-.25425,.23835,.93728,-.25425,.23835,-.43052,-.89526,.1146,.43052,-.89526,.1146,-.15839,-.97482,.15677,.15839,-.97482,.15677,0,-.91586,-.40144,0,-.94644,.32286,0,-.3368,-.94156,0,-.17573,-.98444,-.59923,-.77398,.20457,.59923,-.77398,.20457,-.89099,-.42326,-.16404,.89099,-.42326,-.16404,-.85199,.21928,.47539,.85199,.21928,.47539,-.50917,.85223,.12,.50917,.85223,.12,-.61043,.75915,.22587,.61043,.75915,.22587,-.18247,.98178,.05249,.18247,.98178,.05249,.52037,.77035,.36839,-.52037,.77035,.36839,.85272,.50426,.1362,-.85272,.50426,.1362,0,.97021,.24216,-.70965,.26182,.65404,.06729,-.06427,.99564,-.24659,-.03409,.9685,-.80972,-.01022,.58669,.24659,-.03409,.9685,-.06729,-.06427,.99564,.70965,.26182,.65404,.80972,-.01022,.58669,-.46583,-.08032,.88119,-.73711,-.24418,.63009,.46583,-.08032,.88119,.73711,-.24418,.63009,-.21195,-.08597,.97348,-.3675,-.37648,.8504,.21195,-.08597,.97348,.3675,-.37648,.8504,-.43028,.5566,.71062,-.02008,-.07294,.99713,.02008,-.07294,.99713,.43028,.5566,.71062,-.09098,.59734,.79678,-.18793,-.09162,.97787,.18793,-.09162,.97787,.09098,.59734,.79678,.16593,.60936,.77529,-.20331,.09253,.9747,.20331,.09253,.9747,-.16593,.60936,.77529,.2693,.24168,.93222,-.31422,-.13242,.94006,.31422,-.13242,.94006,-.2693,.24168,.93222,.42006,-.11899,.89962,-.11975,-.07093,.99023,.11975,-.07093,.99023,-.42006,-.11899,.89962,.22614,-.60659,.76214,-.32084,.04071,.94623,.32084,.04071,.94623,-.22614,-.60659,.76214,.23261,-.74606,.62389,-.07456,-.39164,.91708,.07456,-.39164,.91708,-.23261,-.74606,.62389,-.12125,-.31388,.94168,-.1467,-.03571,.98853,.1467,-.03571,.98853,.12125,-.31388,.94168,-.21683,-.27372,.93701,-.18744,.00116,.98227,.18744,.00116,.98227,.21683,-.27372,.93701,-.30302,-.20194,.93133,-.25309,-.16181,.95379,.25309,-.16181,.95379,.30302,-.20194,.93133,-.14011,-.09119,.9859,.14011,-.09119,.9859,-.23798,.05017,.96994,.23798,.05017,.96994,-.31266,-.23792,.91955,.31266,-.23792,.91955,-.37379,-.1052,.92151,.37379,-.1052,.92151,-.4706,-.16465,.86682,.4706,-.16465,.86682,-.43922,-.37614,.81582,.43922,-.37614,.81582,-.21961,-.54064,.81204,.21961,-.54064,.81204,.16697,-.37483,.91189,-.16697,-.37483,.91189,.20185,-.2776,.93924,-.20185,-.2776,.93924,.00116,-.16556,.98618,-.00116,-.16556,.98618,.29292,-.17411,.94012,-.29292,-.17411,.94012,0,.7322,.68105,0,-.60363,.79727,0,-.97174,.23591,.13178,-.60829,.78268,-.13178,-.60829,.78268,.75912,.06839,.6473,-.75912,.06839,.6473,.40596,.6436,.64879,-.40596,.6436,.64879,0,.59835,.8012,.07385,-.33055,.94086,0,-.12452,.99219,-.07385,-.33055,.94086,-.08512,-.33924,.93683,.08512,-.33924,.93683,-.14188,-.14835,.9787,.14188,-.14835,.9787,0,-.4828,.8757,-.69298,-.00134,.72091,-.09552,-.32609,.94049,.09552,-.32609,.94049,.69298,-.00134,.72091,-.64669,.1626,.7452,.64669,.1626,.7452,-.59346,.12186,.79556,.59346,.12186,.79556,-.12436,.00967,.99219,-.50999,-.45772,.72823,.50999,-.45772,.72823,.12436,.00967,.99219,-.97214,-.16788,.16355,.97214,-.16788,.16355,-.71599,.57216,.39995,.71599,.57216,.39995,0,.43052,.90255,0,.01086,.99994,-.22184,-.60604,.76385,0,-.49293,.87002,0,.01032,.99994,-.29432,-.18448,.93771,.22184,-.60604,.76385,.29432,-.18448,.93771,-.39692,.53499,.74578,.24778,.56822,.78466,-.24778,.56822,.78466,.39692,.53499,.74578,-.86822,-.26133,.42174,-.55599,-.69069,.46236,.86822,-.26133,.42174,.55599,-.69069,.46236,-.75307,.64989,.1023,.75307,.64989,.1023,.19419,.9357,.29447,-.19419,.9357,.29447,0,.78896,.6144,0,-.88864,.45857,0,-.33677,.94156,0,-.25199,.96771,-.18836,-.04013,.98126,0,-.0329,.99945,.18836,-.04013,.98126,0,0,1,-.57204,-.01871,.82,-.53633,-.21241,.81683,.53633,-.21241,.81683,.57204,-.01871,.82,-.35771,-.63833,.68157,.35771,-.63833,.68157,-.1543,-.75411,.63833,.1543,-.75411,.63833,0,-.74346,.66875,0,-.18912,.98193,0,-.11447,.99341,.0014,-.05564,.99844,-.0014,-.05564,.99844,-.33628,-.51283,.78985,.33628,-.51283,.78985,-.45454,-.33708,.82446,.45454,-.33708,.82446,-.54347,-.3086,.7806,.54347,-.3086,.7806,-.38716,-.18781,.90265,.38716,-.18781,.90265,-.43065,-.1449,.8908,.43065,-.1449,.8908,-.23402,-.12055,.96472,.23402,-.12055,.96472,-.26383,.1688,.94967,.26383,.1688,.94967,.19672,.14188,.97012,-.19672,.14188,.97012,-.90677,-.00833,.42152,-.74413,-.64092,.18827,.74413,-.64092,.18827,.90677,-.00833,.42152,-.04419,-.97439,.22031,.04419,-.97439,.22031,.63994,-.7615,.10279,-.63994,-.7615,.10279,.9555,-.01144,.29472,-.9555,-.01144,.29472,.64968,.75439,.09357,-.64968,.75439,.09357,-.03705,.97888,.2009,.03705,.97888,.2009,-.75234,.6354,.17374,.75234,.6354,.17374,-.81179,-.00278,.58388,-.59694,.48677,.63768,.59694,.48677,.63768,.81179,-.00278,.58388,-.86822,-.00583,.49611,-.7195,.47301,.50847,.7195,.47301,.50847,.86822,-.00583,.49611,-.20426,.82876,.52095,-.09577,.71728,.69015,.09577,.71728,.69015,.20426,.82876,.52095,.4517,.45988,.76446,-.4517,.45988,.76446,.45036,.6939,.56182,-.45036,.6939,.56182,.80554,.10941,.58232,.69149,-.0741,.71856,-.69149,-.0741,.71856,-.80554,.10941,.58232,.38621,-.47468,.79086,-.38621,-.47468,.79086,.55776,-.62911,.54137,-.55776,-.62911,.54137,-.09116,-.72372,.68401,-.19974,-.85806,.47307,.09116,-.72372,.68401,.19974,-.85806,.47307,-.59795,-.49648,.62923,.59795,-.49648,.62923,-.7232,-.48891,.48775,.7232,-.48891,.48775]}}},,function(e,t,n){e.exports=n(7),e.exports.color=n(8)},function(e,t){var n,i,r,o,a,s=e.exports=s||{};s.gui=s.gui||{},s.utils=s.utils||{},s.controllers=s.controllers||{},s.dom=s.dom||{},s.color=s.color||{},s.utils.css={load:function(e,t){var n=(t=t||document).createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.getElementsByTagName("head")[0].appendChild(n)},inject:function(e,t){t=t||document;var n=document.createElement("style");n.type="text/css",n.innerHTML=e,t.getElementsByTagName("head")[0].appendChild(n)}},s.utils.common=(n=Array.prototype.forEach,i=Array.prototype.slice,{BREAK:{},extend:function(e){return this.each(i.call(arguments,1),function(t){for(var n in t)this.isUndefined(t[n])||(e[n]=t[n])},this),e},defaults:function(e){return this.each(i.call(arguments,1),function(t){for(var n in t)this.isUndefined(e[n])&&(e[n]=t[n])},this),e},compose:function(){var e=i.call(arguments);return function(){for(var t=i.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,i){if(n&&e.forEach===n)e.forEach(t,i);else if(e.length===e.length+0){for(var r=0,o=e.length;r<o;r++)if(r in e&&t.call(i,e[r],r)===this.BREAK)return}else for(var r in e)if(t.call(i,e[r],r)===this.BREAK)return},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():i.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){return e!=e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}}),s.controllers.Controller=(r=function(e,t){this.initialValue=e[t],this.domElement=document.createElement("div"),this.object=e,this.property=t,this.__onChange=void 0,this.__onFinishChange=void 0},s.utils.common.extend(r.prototype,{onChange:function(e){return this.__onChange=e,this},onFinishChange:function(e){return this.__onFinishChange=e,this},setValue:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),r),s.dom.dom=function(e){var t={};e.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(n,i){e.each(n,function(e){t[e]=i})});var n=/(\d+(\.\d+)?)px/;function i(t){if("0"===t||e.isUndefined(t))return 0;var i=t.match(n);return e.isNull(i)?0:parseFloat(i[1])}var r={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(t,n,i){e.isUndefined(n)&&(n=!0),e.isUndefined(i)&&(i=!0),t.style.position="absolute",n&&(t.style.left=0,t.style.right=0),i&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(n,i,r,o){r=r||{};var a=t[i];if(!a)throw new Error("Event type "+i+" not supported.");var s=document.createEvent(a);switch(a){case"MouseEvents":var l=r.x||r.clientX||0,c=r.y||r.clientY||0;s.initMouseEvent(i,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,l,c,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var u=s.initKeyboardEvent||s.initKeyEvent;e.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),u(i,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break;default:s.initEvent(i,r.bubbles||!1,r.cancelable||!0)}e.defaults(s,o),n.dispatchEvent(s)},bind:function(e,t,n,i){return i=i||!1,e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n),r},unbind:function(e,t,n,i){return i=i||!1,e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n),r},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1==n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return r},removeClass:function(e,t){if(t)if(void 0===e.className);else if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),i=n.indexOf(t);-1!=i&&(n.splice(i,1),e.className=n.join(" "))}else e.className=void 0;return r},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return i(t["border-left-width"])+i(t["border-right-width"])+i(t["padding-left"])+i(t["padding-right"])+i(t.width)},getHeight:function(e){var t=getComputedStyle(e);return i(t["border-top-width"])+i(t["border-bottom-width"])+i(t["padding-top"])+i(t["padding-bottom"])+i(t.height)},getOffset:function(e){var t={left:0,top:0};if(e.offsetParent)do{t.left+=e.offsetLeft,t.top+=e.offsetTop}while(e=e.offsetParent);return t},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}};return r}(s.utils.common),s.controllers.OptionController=function(e,t,n){var i=function(e,r,o){i.superclass.call(this,e,r);var a=this;if(this.__select=document.createElement("select"),n.isArray(o)){var s={};n.each(o,function(e){s[e]=e}),o=s}n.each(o,function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),a.__select.appendChild(n)}),this.updateDisplay(),t.bind(this.__select,"change",function(){var e=this.options[this.selectedIndex].value;a.setValue(e)}),this.domElement.appendChild(this.__select)};return i.superclass=e,n.extend(i.prototype,e.prototype,{setValue:function(e){var t=i.superclass.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),t},updateDisplay:function(){return this.__select.value=this.getValue(),i.superclass.prototype.updateDisplay.call(this)}}),i}(s.controllers.Controller,s.dom.dom,s.utils.common),s.controllers.NumberController=function(e,t){var n=function(e,i,r){var o;n.superclass.call(this,e,i),r=r||{},this.__min=r.min,this.__max=r.max,this.__step=r.step,t.isUndefined(this.__step)?0==this.initialValue?this.__impliedStep=1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=(o=(o=this.__impliedStep).toString()).indexOf(".")>-1?o.length-o.indexOf(".")-1:0};return n.superclass=e,t.extend(n.prototype,e.prototype,{setValue:function(e){return void 0!==this.__min&&e<this.__min?e=this.__min:void 0!==this.__max&&e>this.__max&&(e=this.__max),void 0!==this.__step&&e%this.__step!=0&&(e=Math.round(e/this.__step)*this.__step),n.superclass.prototype.setValue.call(this,e)},min:function(e){return this.__min=e,this},max:function(e){return this.__max=e,this},step:function(e){return this.__step=e,this}}),n}(s.controllers.Controller,s.utils.common),s.controllers.NumberControllerBox=function(e,t,n){var i=function(e,r,o){this.__truncationSuspended=!1,i.superclass.call(this,e,r,o);var a,s=this;function l(){var e=parseFloat(s.__input.value);n.isNaN(e)||s.setValue(e)}function c(e){var t=a-e.clientY;s.setValue(s.getValue()+t*s.__impliedStep),a=e.clientY}function u(){t.unbind(window,"mousemove",c),t.unbind(window,"mouseup",u)}this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),t.bind(this.__input,"change",l),t.bind(this.__input,"blur",function(){l(),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}),t.bind(this.__input,"mousedown",function(e){t.bind(window,"mousemove",c),t.bind(window,"mouseup",u),a=e.clientY}),t.bind(this.__input,"keydown",function(e){13===e.keyCode&&(s.__truncationSuspended=!0,this.blur(),s.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return i.superclass=e,n.extend(i.prototype,e.prototype,{updateDisplay:function(){var e,t,n;return this.__input.value=this.__truncationSuspended?this.getValue():(e=this.getValue(),t=this.__precision,n=Math.pow(10,t),Math.round(e*n)/n),i.superclass.prototype.updateDisplay.call(this)}}),i}(s.controllers.NumberController,s.dom.dom,s.utils.common),s.controllers.NumberControllerSlider=function(e,t,n,i,r){var o=function(e,n,i,r,a){o.superclass.call(this,e,n,{min:i,max:r,step:a});var s=this;function l(e){e.preventDefault();var n,i,r,o,a,l=t.getOffset(s.__background),c=t.getWidth(s.__background);return s.setValue((n=e.clientX,i=l.left,r=l.left+c,o=s.__min,a=s.__max,o+(n-i)/(r-i)*(a-o))),!1}function c(){t.unbind(window,"mousemove",l),t.unbind(window,"mouseup",c),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),t.bind(this.__background,"mousedown",function(e){t.bind(window,"mousemove",l),t.bind(window,"mouseup",c),l(e)}),t.addClass(this.__background,"slider"),t.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return o.superclass=e,o.useDefaultStyles=function(){n.inject(".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}")},i.extend(o.prototype,e.prototype,{updateDisplay:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",o.superclass.prototype.updateDisplay.call(this)}}),o}(s.controllers.NumberController,s.dom.dom,s.utils.css,s.utils.common),s.controllers.FunctionController=function(e,t,n){var i=function(e,n,r){i.superclass.call(this,e,n);var o=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===r?"Fire":r,t.bind(this.__button,"click",function(e){return e.preventDefault(),o.fire(),!1}),t.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return i.superclass=e,n.extend(i.prototype,e.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),i}(s.controllers.Controller,s.dom.dom,s.utils.common),s.controllers.BooleanController=function(e,t,n){var i=function(e,n){i.superclass.call(this,e,n);var r=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),t.bind(this.__checkbox,"change",function(){r.setValue(!r.__prev)},!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return i.superclass=e,n.extend(i.prototype,e.prototype,{setValue:function(e){var t=i.superclass.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),t},updateDisplay:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,i.superclass.prototype.updateDisplay.call(this)}}),i}(s.controllers.Controller,s.dom.dom,s.utils.common),s.color.toString=(o=s.utils.common,function(e){if(1==e.a||o.isUndefined(e.a)){for(var t=e.hex.toString(16);t.length<6;)t="0"+t;return"#"+t}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"}),s.color.interpret=function(e,t){var n,i,r=[{litmus:t.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString())}},write:e},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString())}},write:e},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:e},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:e}}},{litmus:t.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:t.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3==e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4==e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:t.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)&&t.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)&&t.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}];return function(){i=!1;var e=arguments.length>1?t.toArray(arguments):arguments[0];return t.each(r,function(r){if(r.litmus(e))return t.each(r.conversions,function(r,o){if(n=r.read(e),!1===i&&!1!==n)return i=n,n.conversionName=o,n.conversion=r,t.BREAK}),t.BREAK}),i}}(s.color.toString,s.utils.common),s.GUI=s.gui.GUI=function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p){e.inject(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");var v,m,g="Default",_=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),b=!0,y=!1,x=[],w=function(e){var t=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),f.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],e=e||{},e=p.defaults(e,{autoPlace:!0,width:w.DEFAULT_WIDTH}),e=p.defaults(e,{resizable:e.autoPlace,hideable:e.autoPlace}),p.isUndefined(e.load)?e.load={preset:g}:e.preset&&(e.load.preset=e.preset),p.isUndefined(e.parent)&&e.hideable&&x.push(this),e.resizable=p.isUndefined(e.parent)&&e.resizable,e.autoPlace&&p.isUndefined(e.scrollable)&&(e.scrollable=!0);var n=_&&"true"===localStorage.getItem(T(this,"isLocal"));if(Object.defineProperties(this,{parent:{get:function(){return e.parent}},scrollable:{get:function(){return e.scrollable}},autoPlace:{get:function(){return e.autoPlace}},preset:{get:function(){return t.parent?t.getRoot().preset:e.load.preset},set:function(n){t.parent?t.getRoot().preset=n:e.load.preset=n,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value==e.preset&&(e.__preset_select.selectedIndex=t)}(this),t.revert()}},width:{get:function(){return e.width},set:function(n){e.width=n,S(t,n)}},name:{get:function(){return e.name},set:function(t){e.name=t,r&&(r.innerHTML=e.name)}},closed:{get:function(){return e.closed},set:function(n){e.closed=n,e.closed?f.addClass(t.__ul,w.CLASS_CLOSED):f.removeClass(t.__ul,w.CLASS_CLOSED),this.onResize(),t.__closeButton&&(t.__closeButton.innerHTML=n?w.TEXT_OPEN:w.TEXT_CLOSED)}},load:{get:function(){return e.load}},useLocalStorage:{get:function(){return n},set:function(e){_&&(n=e,e?f.bind(window,"unload",a):f.unbind(window,"unload",a),localStorage.setItem(T(t,"isLocal"),e))}}}),p.isUndefined(e.parent)){if(e.closed=!1,f.addClass(this.domElement,w.CLASS_MAIN),f.makeSelectable(this.domElement,!1),_&&n){t.useLocalStorage=!0;var i=localStorage.getItem(T(this,"gui"));i&&(e.load=JSON.parse(i))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=w.TEXT_CLOSED,f.addClass(this.__closeButton,w.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),f.bind(this.__closeButton,"click",function(){t.closed=!t.closed})}else{void 0===e.closed&&(e.closed=!0);var r=document.createTextNode(e.name);f.addClass(r,"controller-name");var o=A(t,r);f.addClass(this.__ul,w.CLASS_CLOSED),f.addClass(o,"title"),f.bind(o,"click",function(e){return e.preventDefault(),t.closed=!t.closed,!1}),e.closed||(this.closed=!1)}function a(){localStorage.setItem(T(t,"gui"),JSON.stringify(t.getSaveObject()))}e.autoPlace&&(p.isUndefined(e.parent)&&(b&&(m=document.createElement("div"),f.addClass(m,"dg"),f.addClass(m,w.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(m),b=!1),m.appendChild(this.domElement),f.addClass(this.domElement,w.CLASS_AUTO_PLACE)),this.parent||S(t,e.width)),f.bind(window,"resize",function(){t.onResize()}),f.bind(this.__ul,"webkitTransitionEnd",function(){t.onResize()}),f.bind(this.__ul,"transitionend",function(){t.onResize()}),f.bind(this.__ul,"oTransitionEnd",function(){t.onResize()}),this.onResize(),e.resizable&&function(e){var t;function n(n){return n.preventDefault(),t=n.clientX,f.addClass(e.__closeButton,w.CLASS_DRAG),f.bind(window,"mousemove",i),f.bind(window,"mouseup",r),!1}function i(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function r(){f.removeClass(e.__closeButton,w.CLASS_DRAG),f.unbind(window,"mousemove",i),f.unbind(window,"mouseup",r)}e.__resize_handle=document.createElement("div"),p.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),f.bind(e.__resize_handle,"mousedown",n),f.bind(e.__closeButton,"mousedown",n),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}(this);t.getRoot();e.parent||function(){var e=t.getRoot();e.width+=1,p.defer(function(){e.width-=1})}()};function E(e,t,n,c){if(void 0===t[n])throw new Error("Object "+t+' has no property "'+n+'"');var d;if(c.color)d=new u(t,n);else{var h=[t,n].concat(c.factoryArgs);d=i.apply(e,h)}c.before instanceof r&&(c.before=c.before.__li),C(e,d),f.addClass(d.domElement,"c");var v=document.createElement("span");f.addClass(v,"property-name"),v.innerHTML=d.property;var m=document.createElement("div");m.appendChild(v),m.appendChild(d.domElement);var g=A(e,m,c.before);return f.addClass(g,w.CLASS_CONTROLLER_ROW),f.addClass(g,typeof d.getValue()),function(e,t,n){if(n.__li=t,n.__gui=e,p.extend(n,{options:function(t){return arguments.length>1?(n.remove(),E(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[p.toArray(arguments)]})):p.isArray(t)||p.isObject(t)?(n.remove(),E(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[t]})):void 0},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof l){var i=new s(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});p.each(["updateDisplay","onChange","onFinishChange"],function(e){var t=n[e],r=i[e];n[e]=i[e]=function(){var e=Array.prototype.slice.call(arguments);return t.apply(n,e),r.apply(i,e)}}),f.addClass(t,"has-slider"),n.domElement.insertBefore(i.domElement,n.domElement.firstElementChild)}else if(n instanceof s){var r=function(t){return p.isNumber(n.__min)&&p.isNumber(n.__max)?(n.remove(),E(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]})):t};n.min=p.compose(r,n.min),n.max=p.compose(r,n.max)}else n instanceof o?(f.bind(t,"click",function(){f.fakeEvent(n.__checkbox,"click")}),f.bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof a?(f.bind(t,"click",function(){f.fakeEvent(n.__button,"click")}),f.bind(t,"mouseover",function(){f.addClass(n.__button,"hover")}),f.bind(t,"mouseout",function(){f.removeClass(n.__button,"hover")})):n instanceof u&&(f.addClass(t,"color"),n.updateDisplay=p.compose(function(e){return t.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=p.compose(function(t){return e.getRoot().__preset_select&&n.isModified()&&k(e.getRoot(),!0),t},n.setValue)}(e,g,d),e.__controllers.push(d),d}function A(e,t,n){var i=document.createElement("li");return t&&i.appendChild(t),n?e.__ul.insertBefore(i,params.before):e.__ul.appendChild(i),e.onResize(),i}function C(e,t){var n=e.getRoot(),i=n.__rememberedObjects.indexOf(t.object);if(-1!=i){var r=n.__rememberedObjectIndecesToControllers[i];if(void 0===r&&(r={},n.__rememberedObjectIndecesToControllers[i]=r),r[t.property]=t,n.load&&n.load.remembered){var o,a=n.load.remembered;if(a[e.preset])o=a[e.preset];else{if(!a[g])return;o=a[g]}if(o[i]&&void 0!==o[i][t.property]){var s=o[i][t.property];t.initialValue=s,t.setValue(s)}}}}function T(e,t){return document.location.href+"."+t}function S(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function O(e,t){var n={};return p.each(e.__rememberedObjects,function(i,r){var o={},a=e.__rememberedObjectIndecesToControllers[r];p.each(a,function(e,n){o[n]=t?e.initialValue:e.getValue()}),n[r]=o}),n}function R(e,t,n){var i=document.createElement("option");i.innerHTML=t,i.value=t,e.__preset_select.appendChild(i),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function k(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}return w.toggleHide=function(){y=!y,p.each(x,function(e){e.domElement.style.zIndex=y?-999:999,e.domElement.style.opacity=y?0:1})},w.CLASS_AUTO_PLACE="a",w.CLASS_AUTO_PLACE_CONTAINER="ac",w.CLASS_MAIN="main",w.CLASS_CONTROLLER_ROW="cr",w.CLASS_TOO_TALL="taller-than-window",w.CLASS_CLOSED="closed",w.CLASS_CLOSE_BUTTON="close-button",w.CLASS_DRAG="drag",w.DEFAULT_WIDTH=245,w.TEXT_CLOSED="Close Controls",w.TEXT_OPEN="Open Controls",f.bind(window,"keydown",function(e){"text"===document.activeElement.type||72!==e.which&&72!=e.keyCode||w.toggleHide()},!1),p.extend(w.prototype,{add:function(e,t){return E(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return E(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.slice(this.__controllers.indexOf(e),1);var t=this;p.defer(function(){t.onResize()})},destroy:function(){this.autoPlace&&m.removeChild(this.domElement)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new w(t);this.__folders[e]=n;var i=A(this,n.domElement);return f.addClass(i,"folder"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=f.getOffset(e.__ul).top,n=0;p.each(e.__ul.childNodes,function(t){e.autoPlace&&t===e.__save_row||(n+=f.getHeight(t))}),window.innerHeight-t-20<n?(f.addClass(e.domElement,w.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(f.removeClass(e.domElement,w.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&p.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},remember:function(){if(p.isUndefined(v)&&((v=new h).domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;p.each(Array.prototype.slice.call(arguments),function(t){0==e.__rememberedObjects.length&&function(e){var t=e.__save_row=document.createElement("li");f.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),f.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",f.addClass(n,"button gears");var i=document.createElement("span");i.innerHTML="Save",f.addClass(i,"button"),f.addClass(i,"save");var r=document.createElement("span");r.innerHTML="New",f.addClass(r,"button"),f.addClass(r,"save-as");var o=document.createElement("span");o.innerHTML="Revert",f.addClass(o,"button"),f.addClass(o,"revert");var a=e.__preset_select=document.createElement("select");e.load&&e.load.remembered?p.each(e.load.remembered,function(t,n){R(e,n,n==e.preset)}):R(e,g,!1);if(f.bind(a,"change",function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value}),t.appendChild(a),t.appendChild(n),t.appendChild(i),t.appendChild(r),t.appendChild(o),_){var s=document.getElementById("dg-save-locally"),l=document.getElementById("dg-local-explain");s.style.display="block";var c=document.getElementById("dg-local-storage");function u(){l.style.display=e.useLocalStorage?"block":"none"}"true"===localStorage.getItem(T(e,"isLocal"))&&c.setAttribute("checked","checked"),u(),f.bind(c,"change",function(){e.useLocalStorage=!e.useLocalStorage,u()})}var d=document.getElementById("dg-new-constructor");f.bind(d,"keydown",function(e){!e.metaKey||67!==e.which&&67!=e.keyCode||v.hide()}),f.bind(n,"click",function(){d.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),v.show(),d.focus(),d.select()}),f.bind(i,"click",function(){e.save()}),f.bind(r,"click",function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)}),f.bind(o,"click",function(){e.revert()})}(e),-1==e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)}),this.autoPlace&&S(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=O(this)),e.folders={},p.each(this.__folders,function(t,n){e.folders[n]=t.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=O(this),k(this,!1)},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[g]=O(this,!0)),this.load.remembered[e]=O(this),this.preset=e,R(this,e,!0)},revert:function(e){p.each(this.__controllers,function(t){this.getRoot().load.remembered?C(e||this.getRoot(),t):t.setValue(t.initialValue)},this),p.each(this.__folders,function(e){e.revert(e)}),e||k(this.getRoot(),!1)},listen:function(e){var t=0==this.__listening.length;this.__listening.push(e),t&&function e(t){0!=t.length&&d(function(){e(t)});p.each(t,function(e){e.updateDisplay()})}(this.__listening)}}),w}(s.utils.css,0,0,s.controllers.factory=function(e,t,n,i,r,o,a){return function(s,l){var c=s[l];return a.isArray(arguments[2])||a.isObject(arguments[2])?new e(s,l,arguments[2]):a.isNumber(c)?a.isNumber(arguments[2])&&a.isNumber(arguments[3])?new n(s,l,arguments[2],arguments[3]):new t(s,l,{min:arguments[2],max:arguments[3]}):a.isString(c)?new i(s,l):a.isFunction(c)?new r(s,l,""):a.isBoolean(c)?new o(s,l):void 0}}(s.controllers.OptionController,s.controllers.NumberControllerBox,s.controllers.NumberControllerSlider,s.controllers.StringController=function(e,t,n){var i=function(e,n){i.superclass.call(this,e,n);var r=this;function o(){r.setValue(r.__input.value)}this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),t.bind(this.__input,"keyup",o),t.bind(this.__input,"change",o),t.bind(this.__input,"blur",function(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}),t.bind(this.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return i.superclass=e,n.extend(i.prototype,e.prototype,{updateDisplay:function(){return t.isActive(this.__input)||(this.__input.value=this.getValue()),i.superclass.prototype.updateDisplay.call(this)}}),i}(s.controllers.Controller,s.dom.dom,s.utils.common),s.controllers.FunctionController,s.controllers.BooleanController,s.utils.common),s.controllers.Controller,s.controllers.BooleanController,s.controllers.FunctionController,s.controllers.NumberControllerBox,s.controllers.NumberControllerSlider,s.controllers.OptionController,s.controllers.ColorController=function(e,t,n,i,r){var o=function(e,a){o.superclass.call(this,e,a),this.__color=new n(this.getValue()),this.__temp=new n(0);var l=this;this.domElement=document.createElement("div"),t.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",t.bind(this.__input,"keydown",function(e){13===e.keyCode&&f.call(this)}),t.bind(this.__input,"blur",f),t.bind(this.__selector,"mousedown",function(e){t.addClass(this,"drag").bind(window,"mouseup",function(e){t.removeClass(l.__selector,"drag")})});var c,u=document.createElement("div");function d(e){v(e),t.bind(window,"mousemove",v),t.bind(window,"mouseup",h)}function h(){t.unbind(window,"mousemove",v),t.unbind(window,"mouseup",h)}function f(){var e=i(this.value);!1!==e?(l.__color.__state=e,l.setValue(l.__color.toOriginal())):this.value=l.__color.toString()}function p(){t.unbind(window,"mousemove",m),t.unbind(window,"mouseup",p)}function v(e){e.preventDefault();var n=t.getWidth(l.__saturation_field),i=t.getOffset(l.__saturation_field),r=(e.clientX-i.left+document.body.scrollLeft)/n,o=1-(e.clientY-i.top+document.body.scrollTop)/n;return o>1?o=1:o<0&&(o=0),r>1?r=1:r<0&&(r=0),l.__color.v=o,l.__color.s=r,l.setValue(l.__color.toOriginal()),!1}function m(e){e.preventDefault();var n=t.getHeight(l.__hue_field),i=t.getOffset(l.__hue_field),r=1-(e.clientY-i.top+document.body.scrollTop)/n;return r>1?r=1:r<0&&(r=0),l.__color.h=360*r,l.setValue(l.__color.toOriginal()),!1}r.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),r.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),r.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),r.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),r.extend(u.style,{width:"100%",height:"100%",background:"none"}),s(u,"top","rgba(0,0,0,0)","#000"),r.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),(c=this.__hue_field).style.background="",c.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",c.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",c.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",c.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",c.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),t.bind(this.__saturation_field,"mousedown",d),t.bind(this.__field_knob,"mousedown",d),t.bind(this.__hue_field,"mousedown",function(e){m(e),t.bind(window,"mousemove",m),t.bind(window,"mouseup",p)}),this.__saturation_field.appendChild(u),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};o.superclass=e,r.extend(o.prototype,e.prototype,{updateDisplay:function(){var e=i(this.getValue());if(!1!==e){var t=!1;r.each(n.COMPONENTS,function(n){if(!r.isUndefined(e[n])&&!r.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}},this),t&&r.extend(this.__color.__state,e)}r.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var o=this.__color.v<.5||this.__color.s>.5?255:0,a=255-o;r.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+o+","+o+","+o+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,s(this.__saturation_field,"left","#fff",this.__temp.toString()),r.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+o+","+o+","+o+")",textShadow:this.__input_textShadow+"rgba("+a+","+a+","+a+",.7)"})}});var a=["-moz-","-o-","-webkit-","-ms-",""];function s(e,t,n,i){e.style.background="",r.each(a,function(r){e.style.cssText+="background: "+r+"linear-gradient("+t+", "+n+" 0%, "+i+" 100%); "})}return o}(s.controllers.Controller,s.dom.dom,s.color.Color=function(e,t,n,i){var r=function(){if(this.__state=e.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};function o(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(s(this,t,n),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(s(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function a(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(l(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(l(this),this.__state.space="HSV"),this.__state[t]=e}})}function s(e,n,r){if("HEX"===e.__state.space)e.__state[n]=t.component_from_hex(e.__state.hex,r);else{if("HSV"!==e.__state.space)throw"Corrupted color state";i.extend(e.__state,t.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}}function l(e){var n=t.rgb_to_hsv(e.r,e.g,e.b);i.extend(e.__state,{s:n.s,v:n.v}),i.isNaN(n.h)?i.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=n.h}return r.COMPONENTS=["r","g","b","h","s","v","hex","a"],i.extend(r.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),o(r.prototype,"r",2),o(r.prototype,"g",1),o(r.prototype,"b",0),a(r.prototype,"h"),a(r.prototype,"s"),a(r.prototype,"v"),Object.defineProperty(r.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(r.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=t.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),r}(s.color.interpret,s.color.math={hsv_to_rgb:function(e,t,n){var i=Math.floor(e/60)%6,r=e/60-Math.floor(e/60),o=n*(1-t),a=n*(1-r*t),s=n*(1-(1-r)*t),l=[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n],[n,o,a]][i];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var i,r=Math.min(e,t,n),o=Math.max(e,t,n),a=o-r;return 0==o?{h:NaN,s:0,v:0}:(i=e==o?(t-n)/a:t==o?2+(n-e)/a:4+(e-t)/a,(i/=6)<0&&(i+=1),{h:360*i,s:a/o,v:o/255})},rgb_to_hex:function(e,t,n){var i=this.hex_with_component(0,2,e);return i=this.hex_with_component(i,1,t),i=this.hex_with_component(i,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(a=8*t)|e&~(255<<a)}},s.color.toString,s.utils.common),s.color.interpret,s.utils.common),s.utils.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)},s.dom.CenteredDiv=function(e,t){var n=function(){this.backgroundElement=document.createElement("div"),t.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),e.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),t.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;e.bind(this.backgroundElement,"click",function(){n.hide()})};return n.prototype.show=function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),t.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})},n.prototype.hide=function(){var t=this,n=function(){t.domElement.style.display="none",t.backgroundElement.style.display="none",e.unbind(t.domElement,"webkitTransitionEnd",n),e.unbind(t.domElement,"transitionend",n),e.unbind(t.domElement,"oTransitionEnd",n)};e.bind(this.domElement,"webkitTransitionEnd",n),e.bind(this.domElement,"transitionend",n),e.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},n.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-e.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-e.getHeight(this.domElement)/2+"px"},n}(s.dom.dom,s.utils.common),s.dom.dom,s.utils.common)},function(e,t){var n,i,r,o,a=e.exports=a||{};a.color=a.color||{},a.utils=a.utils||{},a.utils.common=(n=Array.prototype.forEach,i=Array.prototype.slice,{BREAK:{},extend:function(e){return this.each(i.call(arguments,1),function(t){for(var n in t)this.isUndefined(t[n])||(e[n]=t[n])},this),e},defaults:function(e){return this.each(i.call(arguments,1),function(t){for(var n in t)this.isUndefined(e[n])&&(e[n]=t[n])},this),e},compose:function(){var e=i.call(arguments);return function(){for(var t=i.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,i){if(n&&e.forEach===n)e.forEach(t,i);else if(e.length===e.length+0){for(var r=0,o=e.length;r<o;r++)if(r in e&&t.call(i,e[r],r)===this.BREAK)return}else for(var r in e)if(t.call(i,e[r],r)===this.BREAK)return},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():i.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){return e!=e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}}),a.color.toString=(r=a.utils.common,function(e){if(1==e.a||r.isUndefined(e.a)){for(var t=e.hex.toString(16);t.length<6;)t="0"+t;return"#"+t}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"}),a.Color=a.color.Color=function(e,t,n,i){var r=function(){if(this.__state=e.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};function o(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space?this.__state[t]:(s(this,t,n),this.__state[t])},set:function(e){"RGB"!==this.__state.space&&(s(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function a(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space?this.__state[t]:(l(this),this.__state[t])},set:function(e){"HSV"!==this.__state.space&&(l(this),this.__state.space="HSV"),this.__state[t]=e}})}function s(e,n,r){if("HEX"===e.__state.space)e.__state[n]=t.component_from_hex(e.__state.hex,r);else{if("HSV"!==e.__state.space)throw"Corrupted color state";i.extend(e.__state,t.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}}function l(e){var n=t.rgb_to_hsv(e.r,e.g,e.b);i.extend(e.__state,{s:n.s,v:n.v}),i.isNaN(n.h)?i.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=n.h}return r.COMPONENTS=["r","g","b","h","s","v","hex","a"],i.extend(r.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),o(r.prototype,"r",2),o(r.prototype,"g",1),o(r.prototype,"b",0),a(r.prototype,"h"),a(r.prototype,"s"),a(r.prototype,"v"),Object.defineProperty(r.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(r.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=t.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),r}(a.color.interpret=function(e,t){var n,i,r=[{litmus:t.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString())}},write:e},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString())}},write:e},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:e},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:e}}},{litmus:t.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:t.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3==e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4==e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:t.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b)&&t.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(t.isNumber(e.r)&&t.isNumber(e.g)&&t.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v)&&t.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(t.isNumber(e.h)&&t.isNumber(e.s)&&t.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}];return function(){i=!1;var e=arguments.length>1?t.toArray(arguments):arguments[0];return t.each(r,function(r){if(r.litmus(e))return t.each(r.conversions,function(r,o){if(n=r.read(e),!1===i&&!1!==n)return i=n,n.conversionName=o,n.conversion=r,t.BREAK}),t.BREAK}),i}}(a.color.toString,a.utils.common),a.color.math={hsv_to_rgb:function(e,t,n){var i=Math.floor(e/60)%6,r=e/60-Math.floor(e/60),o=n*(1-t),a=n*(1-r*t),s=n*(1-(1-r)*t),l=[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n],[n,o,a]][i];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var i,r=Math.min(e,t,n),o=Math.max(e,t,n),a=o-r;return 0==o?{h:NaN,s:0,v:0}:(i=e==o?(t-n)/a:t==o?2+(n-e)/a:4+(e-t)/a,(i/=6)<0&&(i+=1),{h:360*i,s:a/o,v:o/255})},rgb_to_hex:function(e,t,n){var i=this.hex_with_component(0,2,e);return i=this.hex_with_component(i,1,t),i=this.hex_with_component(i,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(o=8*t)|e&~(255<<o)}},a.color.toString,a.utils.common)},,,,,,,,,,function(e,t,n){"use strict";(function(e){var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=s(n(6)),r=n(3),o=n(4),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var l=r.chunks.UBO;new(function(n){function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a.default),t(s,[{key:"setup",value:function(){this.renderer=new r.Renderer,document.body.appendChild(this.renderer.domElement),this.scene=new r.Scene,this.scene.fog.enable=!0,this.camera=new r.cameras.Orthographic}},{key:"debug",value:function(){var e=this;this.settings={width:30,height:30};var t=new i.default.GUI;t.close(),t.add(this.settings,"width",1,50).step(1).onChange(function(){e.model.uniforms.u_width.value=e.settings.width}),t.add(this.settings,"height",1,50).step(1).onChange(function(){e.model.uniforms.u_height.value=e.settings.height})}},{key:"init",value:function(){var t="#version 300 es\n            in vec3 a_position;\n            in vec3 a_normal;\n            in vec2 a_uv;\n\n            "+l.scene()+"\n            "+l.model()+"\n\n            out vec2 v_uv;\n\n            void main() {\n                v_uv = a_uv;\n                gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(a_position, 1.0);\n            }\n        ",n="#version 300 es\n            precision highp float;\n            precision highp int;\n\n            #define thickness 0.01\n\n            in vec2 v_uv;\n\n            "+l.scene()+"\n            "+l.model()+"\n\n            uniform float u_width;\n            uniform float u_height;\n            uniform vec2 u_size;\n            uniform float u_ratio;\n\n            out vec4 outColor;\n\n            float drawLine(vec2 p, vec2 a,vec2 b) {\n                p -= a, b -= a;\n                float h = clamp(dot(p, b) / dot(b, b), 0.0, 1.0);\n                return length(p - b * h);\n            }\n\n            float rand(vec2 co){\n                return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n            }\n\n            void main() {\n                vec2 uv = v_uv;\n                uv.x *= u_ratio;\n\n                float color = 0.0;\n\n                // divide the screen in square steps\n                float stepW = 1.0 / u_width;\n                float stepH = 1.0 / u_height;\n\n                int x = int(uv.x * u_width);\n                int y = int(uv.y * u_height);\n\n                vec2 p = vec2(float(x) * stepW, float(y) * stepH);\n\n                // draw lines\n                vec2 a = p;\n                vec2 b = vec2(p.x + stepW, p.y + stepH);\n\n                if (rand(p) > 0.5) {\n                    a.x = p.x + stepW;\n                    b.x = p.x;\n                }\n\n                float distance = drawLine(uv, a, b);\n                float line = smoothstep(thickness / 4.0, thickness / 4.0 - (0.012), distance);\n                color += line;\n\n                outColor = vec4(color);\n            }\n        ",i=new o.Plane(1,1);this.model=new r.Model,this.model.setAttribute("a_position","vec3",new Float32Array(i.positions)),this.model.setIndex(new Uint16Array(i.indices)),this.model.setAttribute("a_uv","vec2",new Float32Array(i.uvs)),this.model.setUniform("u_ratio","float",e.innerWidth/e.innerHeight),this.model.setUniform("u_size","vec2",[e.innerWidth,e.innerHeight]),this.model.setUniform("u_width","float",this.settings.width),this.model.setUniform("u_height","float",this.settings.height),this.model.setShader(t,n),this.scene.add(this.model)}},{key:"resize",value:function(){this.model.uniforms.u_size.value=[e.innerWidth,e.innerHeight],this.model.uniforms.u_ratio.value=e.innerWidth/e.innerHeight,this.renderer.setSize(e.innerWidth,e.innerHeight),this.renderer.setRatio(e.devicePixelRatio)}},{key:"update",value:function(){this.renderer.render(this.scene,this.camera)}}]),s}())}).call(t,n(0))}]);