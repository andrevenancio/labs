!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=9)}({10:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var r=function(){function t(e,i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=i,this.width=n,this.height=r}return n(t,[{key:"constains",value:function(t){return t.x>this.x&&t.x<this.x+this.width&&t.y>this.y&&t.y<this.y+this.height}},{key:"intersects",value:function(t){return!(t.x-t.width>this.x+this.width||t.x+t.width<this.x-this.width||t.y-t.height>this.y+this.height||t.y+t.height<this.y-this.height)}}]),t}();e.default=r},11:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e||0,this.y=i||0}},9:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Point=e.Rectangle=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=u(i(10)),s=u(i(11));function u(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.boundary=e,this.n=i,this.points=[],this.divided=!1}return n(t,[{key:"insert",value:function(t){this.boundary.constains(t)&&(this.points.length<this.n?this.points.push(t):(this.divided||this.subdivide(),this.nw.insert(t),this.ne.insert(t),this.sw.insert(t),this.se.insert(t)))}},{key:"subdivide",value:function(){var e=this.boundary,i=e.x,n=e.y,s=e.width,u=e.height,h=new r.default(i,n,s/2,u/2),o=new r.default(i+s/2,n,s/2,u/2),a=new r.default(i,n+u/2,s/2,u/2),l=new r.default(i+s/2,n+u/2,s/2,u/2);this.nw=new t(h,this.n),this.ne=new t(o,this.n),this.sw=new t(a,this.n),this.se=new t(l,this.n),this.divided=!0}},{key:"query",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(this.boundary.intersects(t)){var i=!0,n=!1,r=void 0;try{for(var s,u=this.points[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var h=s.value;t.constains(h)&&e.push(h)}}catch(t){n=!0,r=t}finally{try{!i&&u.return&&u.return()}finally{if(n)throw r}}this.divided&&(this.nw.query(t,e),this.ne.query(t,e),this.sw.query(t,e),this.se.query(t,e))}return e}},{key:"debug",value:function(t){var e=this.boundary,i=e.x,n=e.y,r=e.width,s=e.height;t.beginPath(),t.strokeStyle="#666",t.lineWidth=1,t.rect(i,n,r,s),t.stroke(),t.closePath();for(var u=0;u<this.points.length;u++)t.beginPath(),t.fillStyle="#f00",t.arc(this.points[u].x,this.points[u].y,2,0,2*Math.PI),t.fill(),t.closePath();this.divided&&(this.nw.debug(t),this.ne.debug(t),this.sw.debug(t),this.se.debug(t))}}]),t}();e.default=h,e.Rectangle=r.default,e.Point=s.default}});